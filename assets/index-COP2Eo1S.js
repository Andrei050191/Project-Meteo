function ww(r,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in r)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(r,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function Dy(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Yh={exports:{}},Ca={},Xh={exports:{}},Se={};var zm;function Tw(){if(zm)return Se;zm=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.iterator;function C(x){return x===null||typeof x!="object"?null:(x=T&&x[T]||x["@@iterator"],typeof x=="function"?x:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,H={};function j(x,$,Te){this.props=x,this.context=$,this.refs=H,this.updater=Te||z}j.prototype.isReactComponent={},j.prototype.setState=function(x,$){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,$,"setState")},j.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function se(){}se.prototype=j.prototype;function ae(x,$,Te){this.props=x,this.context=$,this.refs=H,this.updater=Te||z}var ce=ae.prototype=new se;ce.constructor=ae,Q(ce,j.prototype),ce.isPureReactComponent=!0;var we=Array.isArray,Fe=Object.prototype.hasOwnProperty,xe={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(x,$,Te){var Ie,Ae={},Ce=null,Ue=null;if($!=null)for(Ie in $.ref!==void 0&&(Ue=$.ref),$.key!==void 0&&(Ce=""+$.key),$)Fe.call($,Ie)&&!k.hasOwnProperty(Ie)&&(Ae[Ie]=$[Ie]);var Oe=arguments.length-2;if(Oe===1)Ae.children=Te;else if(1<Oe){for(var Be=Array(Oe),zt=0;zt<Oe;zt++)Be[zt]=arguments[zt+2];Ae.children=Be}if(x&&x.defaultProps)for(Ie in Oe=x.defaultProps,Oe)Ae[Ie]===void 0&&(Ae[Ie]=Oe[Ie]);return{$$typeof:r,type:x,key:Ce,ref:Ue,props:Ae,_owner:xe.current}}function R(x,$){return{$$typeof:r,type:x.type,key:$,ref:x.ref,props:x.props,_owner:x._owner}}function V(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function N(x){var $={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(Te){return $[Te]})}var O=/\/+/g;function A(x,$){return typeof x=="object"&&x!==null&&x.key!=null?N(""+x.key):$.toString(36)}function He(x,$,Te,Ie,Ae){var Ce=typeof x;(Ce==="undefined"||Ce==="boolean")&&(x=null);var Ue=!1;if(x===null)Ue=!0;else switch(Ce){case"string":case"number":Ue=!0;break;case"object":switch(x.$$typeof){case r:case e:Ue=!0}}if(Ue)return Ue=x,Ae=Ae(Ue),x=Ie===""?"."+A(Ue,0):Ie,we(Ae)?(Te="",x!=null&&(Te=x.replace(O,"$&/")+"/"),He(Ae,$,Te,"",function(zt){return zt})):Ae!=null&&(V(Ae)&&(Ae=R(Ae,Te+(!Ae.key||Ue&&Ue.key===Ae.key?"":(""+Ae.key).replace(O,"$&/")+"/")+x)),$.push(Ae)),1;if(Ue=0,Ie=Ie===""?".":Ie+":",we(x))for(var Oe=0;Oe<x.length;Oe++){Ce=x[Oe];var Be=Ie+A(Ce,Oe);Ue+=He(Ce,$,Te,Be,Ae)}else if(Be=C(x),typeof Be=="function")for(x=Be.call(x),Oe=0;!(Ce=x.next()).done;)Ce=Ce.value,Be=Ie+A(Ce,Oe++),Ue+=He(Ce,$,Te,Be,Ae);else if(Ce==="object")throw $=String(x),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Ue}function _t(x,$,Te){if(x==null)return x;var Ie=[],Ae=0;return He(x,Ie,"","",function(Ce){return $.call(Te,Ce,Ae++)}),Ie}function Dt(x){if(x._status===-1){var $=x._result;$=$(),$.then(function(Te){(x._status===0||x._status===-1)&&(x._status=1,x._result=Te)},function(Te){(x._status===0||x._status===-1)&&(x._status=2,x._result=Te)}),x._status===-1&&(x._status=0,x._result=$)}if(x._status===1)return x._result.default;throw x._result}var Ye={current:null},X={transition:null},he={ReactCurrentDispatcher:Ye,ReactCurrentBatchConfig:X,ReactCurrentOwner:xe};function ne(){throw Error("act(...) is not supported in production builds of React.")}return Se.Children={map:_t,forEach:function(x,$,Te){_t(x,function(){$.apply(this,arguments)},Te)},count:function(x){var $=0;return _t(x,function(){$++}),$},toArray:function(x){return _t(x,function($){return $})||[]},only:function(x){if(!V(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Se.Component=j,Se.Fragment=t,Se.Profiler=o,Se.PureComponent=ae,Se.StrictMode=s,Se.Suspense=g,Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,Se.act=ne,Se.cloneElement=function(x,$,Te){if(x==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+x+".");var Ie=Q({},x.props),Ae=x.key,Ce=x.ref,Ue=x._owner;if($!=null){if($.ref!==void 0&&(Ce=$.ref,Ue=xe.current),$.key!==void 0&&(Ae=""+$.key),x.type&&x.type.defaultProps)var Oe=x.type.defaultProps;for(Be in $)Fe.call($,Be)&&!k.hasOwnProperty(Be)&&(Ie[Be]=$[Be]===void 0&&Oe!==void 0?Oe[Be]:$[Be])}var Be=arguments.length-2;if(Be===1)Ie.children=Te;else if(1<Be){Oe=Array(Be);for(var zt=0;zt<Be;zt++)Oe[zt]=arguments[zt+2];Ie.children=Oe}return{$$typeof:r,type:x.type,key:Ae,ref:Ce,props:Ie,_owner:Ue}},Se.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},x.Provider={$$typeof:u,_context:x},x.Consumer=x},Se.createElement=S,Se.createFactory=function(x){var $=S.bind(null,x);return $.type=x,$},Se.createRef=function(){return{current:null}},Se.forwardRef=function(x){return{$$typeof:m,render:x}},Se.isValidElement=V,Se.lazy=function(x){return{$$typeof:w,_payload:{_status:-1,_result:x},_init:Dt}},Se.memo=function(x,$){return{$$typeof:_,type:x,compare:$===void 0?null:$}},Se.startTransition=function(x){var $=X.transition;X.transition={};try{x()}finally{X.transition=$}},Se.unstable_act=ne,Se.useCallback=function(x,$){return Ye.current.useCallback(x,$)},Se.useContext=function(x){return Ye.current.useContext(x)},Se.useDebugValue=function(){},Se.useDeferredValue=function(x){return Ye.current.useDeferredValue(x)},Se.useEffect=function(x,$){return Ye.current.useEffect(x,$)},Se.useId=function(){return Ye.current.useId()},Se.useImperativeHandle=function(x,$,Te){return Ye.current.useImperativeHandle(x,$,Te)},Se.useInsertionEffect=function(x,$){return Ye.current.useInsertionEffect(x,$)},Se.useLayoutEffect=function(x,$){return Ye.current.useLayoutEffect(x,$)},Se.useMemo=function(x,$){return Ye.current.useMemo(x,$)},Se.useReducer=function(x,$,Te){return Ye.current.useReducer(x,$,Te)},Se.useRef=function(x){return Ye.current.useRef(x)},Se.useState=function(x){return Ye.current.useState(x)},Se.useSyncExternalStore=function(x,$,Te){return Ye.current.useSyncExternalStore(x,$,Te)},Se.useTransition=function(){return Ye.current.useTransition()},Se.version="18.3.1",Se}var Bm;function Hf(){return Bm||(Bm=1,Xh.exports=Tw()),Xh.exports}var $m;function Iw(){if($m)return Ca;$m=1;var r=Hf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(m,g,_){var w,T={},C=null,z=null;_!==void 0&&(C=""+_),g.key!==void 0&&(C=""+g.key),g.ref!==void 0&&(z=g.ref);for(w in g)s.call(g,w)&&!u.hasOwnProperty(w)&&(T[w]=g[w]);if(m&&m.defaultProps)for(w in g=m.defaultProps,g)T[w]===void 0&&(T[w]=g[w]);return{$$typeof:e,type:m,key:C,ref:z,props:T,_owner:o.current}}return Ca.Fragment=t,Ca.jsx=h,Ca.jsxs=h,Ca}var Hm;function Sw(){return Hm||(Hm=1,Yh.exports=Iw()),Yh.exports}var Re=Sw(),Z=Hf();const Vy=Dy(Z),Aw=ww({__proto__:null,default:Vy},[Z]);var Eu={},Zh={exports:{}},Qt={},ef={exports:{}},tf={};var Wm;function Cw(){return Wm||(Wm=1,(function(r){function e(X,he){var ne=X.length;X.push(he);e:for(;0<ne;){var x=ne-1>>>1,$=X[x];if(0<o($,he))X[x]=he,X[ne]=$,ne=x;else break e}}function t(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var he=X[0],ne=X.pop();if(ne!==he){X[0]=ne;e:for(var x=0,$=X.length,Te=$>>>1;x<Te;){var Ie=2*(x+1)-1,Ae=X[Ie],Ce=Ie+1,Ue=X[Ce];if(0>o(Ae,ne))Ce<$&&0>o(Ue,Ae)?(X[x]=Ue,X[Ce]=ne,x=Ce):(X[x]=Ae,X[Ie]=ne,x=Ie);else if(Ce<$&&0>o(Ue,ne))X[x]=Ue,X[Ce]=ne,x=Ce;else break e}}return he}function o(X,he){var ne=X.sortIndex-he.sortIndex;return ne!==0?ne:X.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var g=[],_=[],w=1,T=null,C=3,z=!1,Q=!1,H=!1,j=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ce(X){for(var he=t(_);he!==null;){if(he.callback===null)s(_);else if(he.startTime<=X)s(_),he.sortIndex=he.expirationTime,e(g,he);else break;he=t(_)}}function we(X){if(H=!1,ce(X),!Q)if(t(g)!==null)Q=!0,Dt(Fe);else{var he=t(_);he!==null&&Ye(we,he.startTime-X)}}function Fe(X,he){Q=!1,H&&(H=!1,se(S),S=-1),z=!0;var ne=C;try{for(ce(he),T=t(g);T!==null&&(!(T.expirationTime>he)||X&&!N());){var x=T.callback;if(typeof x=="function"){T.callback=null,C=T.priorityLevel;var $=x(T.expirationTime<=he);he=r.unstable_now(),typeof $=="function"?T.callback=$:T===t(g)&&s(g),ce(he)}else s(g);T=t(g)}if(T!==null)var Te=!0;else{var Ie=t(_);Ie!==null&&Ye(we,Ie.startTime-he),Te=!1}return Te}finally{T=null,C=ne,z=!1}}var xe=!1,k=null,S=-1,R=5,V=-1;function N(){return!(r.unstable_now()-V<R)}function O(){if(k!==null){var X=r.unstable_now();V=X;var he=!0;try{he=k(!0,X)}finally{he?A():(xe=!1,k=null)}}else xe=!1}var A;if(typeof ae=="function")A=function(){ae(O)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,_t=He.port2;He.port1.onmessage=O,A=function(){_t.postMessage(null)}}else A=function(){j(O,0)};function Dt(X){k=X,xe||(xe=!0,A())}function Ye(X,he){S=j(function(){X(r.unstable_now())},he)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_continueExecution=function(){Q||z||(Q=!0,Dt(Fe))},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_getFirstCallbackNode=function(){return t(g)},r.unstable_next=function(X){switch(C){case 1:case 2:case 3:var he=3;break;default:he=C}var ne=C;C=he;try{return X()}finally{C=ne}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(X,he){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ne=C;C=X;try{return he()}finally{C=ne}},r.unstable_scheduleCallback=function(X,he,ne){var x=r.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?x+ne:x):ne=x,X){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=ne+$,X={id:w++,callback:he,priorityLevel:X,startTime:ne,expirationTime:$,sortIndex:-1},ne>x?(X.sortIndex=ne,e(_,X),t(g)===null&&X===t(_)&&(H?(se(S),S=-1):H=!0,Ye(we,ne-x))):(X.sortIndex=$,e(g,X),Q||z||(Q=!0,Dt(Fe))),X},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(X){var he=C;return function(){var ne=C;C=he;try{return X.apply(this,arguments)}finally{C=ne}}}})(tf)),tf}var qm;function Rw(){return qm||(qm=1,ef.exports=Cw()),ef.exports}var Km;function Pw(){if(Km)return Qt;Km=1;var r=Hf(),e=Rw();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function u(n,i){h(n,i),h(n+"Capture",i)}function h(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},T={};function C(n){return g.call(T,n)?!0:g.call(w,n)?!1:_.test(n)?T[n]=!0:(w[n]=!0,!1)}function z(n,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Q(n,i,a,c){if(i===null||typeof i>"u"||z(n,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function H(n,i,a,c,f,d,v){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=n,this.type=i,this.sanitizeURL=d,this.removeEmptyString=v}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){j[n]=new H(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];j[i]=new H(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){j[n]=new H(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){j[n]=new H(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){j[n]=new H(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){j[n]=new H(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){j[n]=new H(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){j[n]=new H(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){j[n]=new H(n,5,!1,n.toLowerCase(),null,!1,!1)});var se=/[\-:]([a-z])/g;function ae(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(se,ae);j[i]=new H(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(se,ae);j[i]=new H(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(se,ae);j[i]=new H(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){j[n]=new H(n,1,!1,n.toLowerCase(),null,!1,!1)}),j.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){j[n]=new H(n,1,!1,n.toLowerCase(),null,!0,!0)});function ce(n,i,a,c){var f=j.hasOwnProperty(i)?j[i]:null;(f!==null?f.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(Q(i,a,f,c)&&(a=null),c||f===null?C(i)&&(a===null?n.removeAttribute(i):n.setAttribute(i,""+a)):f.mustUseProperty?n[f.propertyName]=a===null?f.type===3?!1:"":a:(i=f.attributeName,c=f.attributeNamespace,a===null?n.removeAttribute(i):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?n.setAttributeNS(c,i,a):n.setAttribute(i,a))))}var we=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fe=Symbol.for("react.element"),xe=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),N=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),He=Symbol.for("react.suspense_list"),_t=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),Ye=Symbol.for("react.offscreen"),X=Symbol.iterator;function he(n){return n===null||typeof n!="object"?null:(n=X&&n[X]||n["@@iterator"],typeof n=="function"?n:null)}var ne=Object.assign,x;function $(n){if(x===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);x=i&&i[1]||""}return`
`+x+n}var Te=!1;function Ie(n,i){if(!n||Te)return"";Te=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(F){var c=F}Reflect.construct(n,[],i)}else{try{i.call()}catch(F){c=F}n.call(i.prototype)}else{try{throw Error()}catch(F){c=F}n()}}catch(F){if(F&&c&&typeof F.stack=="string"){for(var f=F.stack.split(`
`),d=c.stack.split(`
`),v=f.length-1,I=d.length-1;1<=v&&0<=I&&f[v]!==d[I];)I--;for(;1<=v&&0<=I;v--,I--)if(f[v]!==d[I]){if(v!==1||I!==1)do if(v--,I--,0>I||f[v]!==d[I]){var P=`
`+f[v].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),P}while(1<=v&&0<=I);break}}}finally{Te=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?$(n):""}function Ae(n){switch(n.tag){case 5:return $(n.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return n=Ie(n.type,!1),n;case 11:return n=Ie(n.type.render,!1),n;case 1:return n=Ie(n.type,!0),n;default:return""}}function Ce(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case k:return"Fragment";case xe:return"Portal";case R:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case He:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case N:return(n.displayName||"Context")+".Consumer";case V:return(n._context.displayName||"Context")+".Provider";case O:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case _t:return i=n.displayName||null,i!==null?i:Ce(n.type)||"Memo";case Dt:i=n._payload,n=n._init;try{return Ce(n(i))}catch{}}return null}function Ue(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(i);case 8:return i===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Oe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Be(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function zt(n){var i=Be(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(v){c=""+v,d.call(this,v)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ys(n){n._valueTracker||(n._valueTracker=zt(n))}function Vo(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=Be(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function Dr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function _s(n,i){var a=i.checked;return ne({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function sl(n,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Oe(i.value!=null?i.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function vs(n,i){i=i.checked,i!=null&&ce(n,"checked",i,!1)}function Ni(n,i){vs(n,i);var a=Oe(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?lt(n,i.type,a):i.hasOwnProperty("defaultValue")&&lt(n,i.type,Oe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function xo(n,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,a||i===n.value||(n.value=i),n.defaultValue=i}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function lt(n,i,a){(i!=="number"||Dr(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var it=Array.isArray;function _n(n,i,a,c){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Oe(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Oo(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return ne({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Lo(n,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(it(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}n._wrapperState={initialValue:Oe(a)}}function ol(n,i){var a=Oe(i.value),c=Oe(i.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),i.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function Vr(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function Mo(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Es(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?Mo(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var xr,al=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,f){MSApp.execUnsafeLocalFunction(function(){return n(i,a,c,f)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(xr=xr||document.createElement("div"),xr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=xr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Di(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ll=["Webkit","ms","Moz","O"];Object.keys(Or).forEach(function(n){ll.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),Or[i]=Or[n]})});function Lr(n,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Or.hasOwnProperty(n)&&Or[n]?(""+i).trim():i+"px"}function ws(n,i){n=n.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=Lr(a,i[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,f):n[a]=f}}var bo=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vn(n,i){if(i){if(bo[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Ts(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mr=null;function Is(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var sr=null,or=null,nt=null;function Fo(n){if(n=ha(n)){if(typeof sr!="function")throw Error(t(280));var i=n.stateNode;i&&(i=Ll(i),sr(n.stateNode,n.type,i))}}function br(n){or?nt?nt.push(n):nt=[n]:or=n}function Fr(){if(or){var n=or,i=nt;if(nt=or=null,Fo(n),i)for(n=0;n<i.length;n++)Fo(i[n])}}function ul(n,i){return n(i)}function cl(){}var Vn=!1;function hl(n,i,a){if(Vn)return n(i,a);Vn=!0;try{return ul(n,i,a)}finally{Vn=!1,(or!==null||nt!==null)&&(cl(),Fr())}}function Vi(n,i){var a=n.stateNode;if(a===null)return null;var c=Ll(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var Ur=!1;if(m)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){Ur=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{Ur=!1}function fl(n,i,a,c,f,d,v,I,P){var F=Array.prototype.slice.call(arguments,3);try{i.apply(a,F)}catch(K){this.onError(K)}}var ar=!1,xn=null,Ss=!1,an=null,dl={onError:function(n){ar=!0,xn=n}};function pl(n,i,a,c,f,d,v,I,P){ar=!1,xn=null,fl.apply(dl,arguments)}function Uo(n,i,a,c,f,d,v,I,P){if(pl.apply(this,arguments),ar){if(ar){var F=xn;ar=!1,xn=null}else throw Error(t(198));Ss||(Ss=!0,an=F)}}function En(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function jo(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function ml(n){if(En(n)!==n)throw Error(t(188))}function gl(n){var i=n.alternate;if(!i){if(i=En(n),i===null)throw Error(t(188));return i!==n?null:n}for(var a=n,c=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return ml(f),n;if(d===c)return ml(f),i;d=d.sibling}throw Error(t(188))}if(a.return!==c.return)a=f,c=d;else{for(var v=!1,I=f.child;I;){if(I===a){v=!0,a=f,c=d;break}if(I===c){v=!0,c=f,a=d;break}I=I.sibling}if(!v){for(I=d.child;I;){if(I===a){v=!0,a=d,c=f;break}if(I===c){v=!0,c=d,a=f;break}I=I.sibling}if(!v)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:i}function yl(n){return n=gl(n),n!==null?xi(n):null}function xi(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=xi(n);if(i!==null)return i;n=n.sibling}return null}var zo=e.unstable_scheduleCallback,As=e.unstable_cancelCallback,Oi=e.unstable_shouldYield,lr=e.unstable_requestPaint,qe=e.unstable_now,Pc=e.unstable_getCurrentPriorityLevel,Cs=e.unstable_ImmediatePriority,Bo=e.unstable_UserBlockingPriority,Li=e.unstable_NormalPriority,$o=e.unstable_LowPriority,Rs=e.unstable_IdlePriority,Mi=null,Yt=null;function _l(n){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Mi,n,void 0,(n.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:bi,On=Math.log,ln=Math.LN2;function bi(n){return n>>>=0,n===0?32:31-(On(n)/ln|0)|0}var Ln=64,zr=4194304;function be(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function ur(n,i){var a=n.pendingLanes;if(a===0)return 0;var c=0,f=n.suspendedLanes,d=n.pingedLanes,v=a&268435455;if(v!==0){var I=v&~f;I!==0?c=be(I):(d&=v,d!==0&&(c=be(d)))}else v=a&~f,v!==0?c=be(v):d!==0&&(c=be(d));if(c===0)return 0;if(i!==0&&i!==c&&(i&f)===0&&(f=c&-c,d=i&-i,f>=d||f===16&&(d&4194240)!==0))return i;if((c&4)!==0&&(c|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)a=31-Xt(i),f=1<<a,c|=n[a],i&=~f;return c}function Fi(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ui(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes;0<d;){var v=31-Xt(d),I=1<<v,P=f[v];P===-1?((I&a)===0||(I&c)!==0)&&(f[v]=Fi(I,i)):P<=i&&(n.expiredLanes|=I),d&=~I}}function Ho(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Wo(){var n=Ln;return Ln<<=1,(Ln&4194240)===0&&(Ln=64),n}function qo(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function ji(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-Xt(i),n[i]=a}function kc(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var f=31-Xt(a),d=1<<f;i[f]=0,c[f]=-1,n[f]=-1,a&=~d}}function Ko(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-Xt(a),f=1<<c;f&i|n[c]&i&&(n[c]|=i),a&=~f}}var De=0;function Mn(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Go,Ps,Qo,Jo,Yo,bn=!1,ks=[],Fn=null,Un=null,St=null,zi=new Map,cr=new Map,Zt=[],vl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Br(n,i){switch(n){case"focusin":case"focusout":Fn=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":St=null;break;case"pointerover":case"pointerout":zi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":cr.delete(i.pointerId)}}function wn(n,i,a,c,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:d,targetContainers:[f]},i!==null&&(i=ha(i),i!==null&&Ps(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function El(n,i,a,c,f){switch(i){case"focusin":return Fn=wn(Fn,n,i,a,c,f),!0;case"dragenter":return Un=wn(Un,n,i,a,c,f),!0;case"mouseover":return St=wn(St,n,i,a,c,f),!0;case"pointerover":var d=f.pointerId;return zi.set(d,wn(zi.get(d)||null,n,i,a,c,f)),!0;case"gotpointercapture":return d=f.pointerId,cr.set(d,wn(cr.get(d)||null,n,i,a,c,f)),!0}return!1}function Ns(n){var i=Wi(n.target);if(i!==null){var a=En(i);if(a!==null){if(i=a.tag,i===13){if(i=jo(a),i!==null){n.blockedOn=i,Yo(n.priority,function(){Qo(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function $e(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Ds(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Mr=c,a.target.dispatchEvent(c),Mr=null}else return i=ha(a),i!==null&&Ps(i),n.blockedOn=a,!1;i.shift()}return!0}function wl(n,i,a){$e(n)&&a.delete(i)}function Nc(){bn=!1,Fn!==null&&$e(Fn)&&(Fn=null),Un!==null&&$e(Un)&&(Un=null),St!==null&&$e(St)&&(St=null),zi.forEach(wl),cr.forEach(wl)}function $r(n,i){n.blockedOn===i&&(n.blockedOn=null,bn||(bn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Nc)))}function Hr(n){function i(f){return $r(f,n)}if(0<ks.length){$r(ks[0],n);for(var a=1;a<ks.length;a++){var c=ks[a];c.blockedOn===n&&(c.blockedOn=null)}}for(Fn!==null&&$r(Fn,n),Un!==null&&$r(Un,n),St!==null&&$r(St,n),zi.forEach(i),cr.forEach(i),a=0;a<Zt.length;a++)c=Zt[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Zt.length&&(a=Zt[0],a.blockedOn===null);)Ns(a),a.blockedOn===null&&Zt.shift()}var hr=we.ReactCurrentBatchConfig,fr=!0;function jn(n,i,a,c){var f=De,d=hr.transition;hr.transition=null;try{De=1,Xo(n,i,a,c)}finally{De=f,hr.transition=d}}function Tl(n,i,a,c){var f=De,d=hr.transition;hr.transition=null;try{De=4,Xo(n,i,a,c)}finally{De=f,hr.transition=d}}function Xo(n,i,a,c){if(fr){var f=Ds(n,i,a,c);if(f===null)zc(n,i,c,zn,a),Br(n,c);else if(El(f,n,i,a,c))c.stopPropagation();else if(Br(n,c),i&4&&-1<vl.indexOf(n)){for(;f!==null;){var d=ha(f);if(d!==null&&Go(d),d=Ds(n,i,a,c),d===null&&zc(n,i,c,zn,a),d===f)break;f=d}f!==null&&c.stopPropagation()}else zc(n,i,c,null,a)}}var zn=null;function Ds(n,i,a,c){if(zn=null,n=Is(c),n=Wi(n),n!==null)if(i=En(n),i===null)n=null;else if(a=i.tag,a===13){if(n=jo(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return zn=n,null}function Vs(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pc()){case Cs:return 1;case Bo:return 4;case Li:case $o:return 16;case Rs:return 536870912;default:return 16}default:return 16}}var en=null,xs=null,dr=null;function Il(){if(dr)return dr;var n,i=xs,a=i.length,c,f="value"in en?en.value:en.textContent,d=f.length;for(n=0;n<a&&i[n]===f[n];n++);var v=a-n;for(c=1;c<=v&&i[a-c]===f[d-c];c++);return dr=f.slice(n,1<c?1-c:void 0)}function Bi(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Bn(){return!0}function Zo(){return!1}function Vt(n){function i(a,c,f,d,v){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var I in n)n.hasOwnProperty(I)&&(a=n[I],this[I]=a?a(d):d[I]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Bn:Zo,this.isPropagationStopped=Zo,this}return ne(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Bn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Bn)},persist:function(){},isPersistent:Bn}),i}var $n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$i=Vt($n),Wr=ne({},$n,{view:0,detail:0}),Os=Vt(Wr),Ls,Ms,tn,Hi=ne({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ve,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==tn&&(tn&&n.type==="mousemove"?(Ls=n.screenX-tn.screenX,Ms=n.screenY-tn.screenY):Ms=Ls=0,tn=n),Ls)},movementY:function(n){return"movementY"in n?n.movementY:Ms}}),ea=Vt(Hi),Sl=ne({},Hi,{dataTransfer:0}),Al=Vt(Sl),bs=ne({},Wr,{relatedTarget:0}),At=Vt(bs),Cl=ne({},$n,{animationName:0,elapsedTime:0,pseudoElement:0}),Rl=Vt(Cl),qr=ne({},$n,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),l=Vt(qr),p=ne({},$n,{data:0}),y=Vt(p),E={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=U[n])?!!i[n]:!1}function ve(){return Y}var st=ne({},Wr,{key:function(n){if(n.key){var i=E[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Bi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?M[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ve,charCode:function(n){return n.type==="keypress"?Bi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Bi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ze=Vt(st),ut=ne({},Hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nn=Vt(ut),pr=ne({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ve}),Hn=Vt(pr),Wn=ne({},$n,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fs=Vt(Wn),ta=ne({},Hi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),mE=Vt(ta),gE=[9,13,27,32],Dc=m&&"CompositionEvent"in window,na=null;m&&"documentMode"in document&&(na=document.documentMode);var yE=m&&"TextEvent"in window&&!na,xd=m&&(!Dc||na&&8<na&&11>=na),Od=" ",Ld=!1;function Md(n,i){switch(n){case"keyup":return gE.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bd(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Us=!1;function _E(n,i){switch(n){case"compositionend":return bd(i);case"keypress":return i.which!==32?null:(Ld=!0,Od);case"textInput":return n=i.data,n===Od&&Ld?null:n;default:return null}}function vE(n,i){if(Us)return n==="compositionend"||!Dc&&Md(n,i)?(n=Il(),dr=xs=en=null,Us=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return xd&&i.locale!=="ko"?null:i.data;default:return null}}var EE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!EE[n.type]:i==="textarea"}function Ud(n,i,a,c){br(c),i=Vl(i,"onChange"),0<i.length&&(a=new $i("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var ra=null,ia=null;function wE(n){rp(n,0)}function Pl(n){var i=Hs(n);if(Vo(i))return n}function TE(n,i){if(n==="change")return i}var jd=!1;if(m){var Vc;if(m){var xc="oninput"in document;if(!xc){var zd=document.createElement("div");zd.setAttribute("oninput","return;"),xc=typeof zd.oninput=="function"}Vc=xc}else Vc=!1;jd=Vc&&(!document.documentMode||9<document.documentMode)}function Bd(){ra&&(ra.detachEvent("onpropertychange",$d),ia=ra=null)}function $d(n){if(n.propertyName==="value"&&Pl(ia)){var i=[];Ud(i,ia,n,Is(n)),hl(wE,i)}}function IE(n,i,a){n==="focusin"?(Bd(),ra=i,ia=a,ra.attachEvent("onpropertychange",$d)):n==="focusout"&&Bd()}function SE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Pl(ia)}function AE(n,i){if(n==="click")return Pl(i)}function CE(n,i){if(n==="input"||n==="change")return Pl(i)}function RE(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Tn=typeof Object.is=="function"?Object.is:RE;function sa(n,i){if(Tn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!g.call(i,f)||!Tn(n[f],i[f]))return!1}return!0}function Hd(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Wd(n,i){var a=Hd(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Hd(a)}}function qd(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?qd(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Kd(){for(var n=window,i=Dr();i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Dr(n.document)}return i}function Oc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function PE(n){var i=Kd(),a=n.focusedElem,c=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&qd(a.ownerDocument.documentElement,a)){if(c!==null&&Oc(a)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(n,a.value.length);else if(n=(i=a.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var f=a.textContent.length,d=Math.min(c.start,f);c=c.end===void 0?d:Math.min(c.end,f),!n.extend&&d>c&&(f=c,c=d,d=f),f=Wd(a,d);var v=Wd(a,c);f&&v&&(n.rangeCount!==1||n.anchorNode!==f.node||n.anchorOffset!==f.offset||n.focusNode!==v.node||n.focusOffset!==v.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),n.removeAllRanges(),d>c?(n.addRange(i),n.extend(v.node,v.offset)):(i.setEnd(v.node,v.offset),n.addRange(i)))}}for(i=[],n=a;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)n=i[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var kE=m&&"documentMode"in document&&11>=document.documentMode,js=null,Lc=null,oa=null,Mc=!1;function Gd(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mc||js==null||js!==Dr(c)||(c=js,"selectionStart"in c&&Oc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),oa&&sa(oa,c)||(oa=c,c=Vl(Lc,"onSelect"),0<c.length&&(i=new $i("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=js)))}function kl(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var zs={animationend:kl("Animation","AnimationEnd"),animationiteration:kl("Animation","AnimationIteration"),animationstart:kl("Animation","AnimationStart"),transitionend:kl("Transition","TransitionEnd")},bc={},Qd={};m&&(Qd=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function Nl(n){if(bc[n])return bc[n];if(!zs[n])return n;var i=zs[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Qd)return bc[n]=i[a];return n}var Jd=Nl("animationend"),Yd=Nl("animationiteration"),Xd=Nl("animationstart"),Zd=Nl("transitionend"),ep=new Map,tp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kr(n,i){ep.set(n,i),u(i,[n])}for(var Fc=0;Fc<tp.length;Fc++){var Uc=tp[Fc],NE=Uc.toLowerCase(),DE=Uc[0].toUpperCase()+Uc.slice(1);Kr(NE,"on"+DE)}Kr(Jd,"onAnimationEnd"),Kr(Yd,"onAnimationIteration"),Kr(Xd,"onAnimationStart"),Kr("dblclick","onDoubleClick"),Kr("focusin","onFocus"),Kr("focusout","onBlur"),Kr(Zd,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VE=new Set("cancel close invalid load scroll toggle".split(" ").concat(aa));function np(n,i,a){var c=n.type||"unknown-event";n.currentTarget=a,Uo(c,i,void 0,n),n.currentTarget=null}function rp(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],f=c.event;c=c.listeners;e:{var d=void 0;if(i)for(var v=c.length-1;0<=v;v--){var I=c[v],P=I.instance,F=I.currentTarget;if(I=I.listener,P!==d&&f.isPropagationStopped())break e;np(f,I,F),d=P}else for(v=0;v<c.length;v++){if(I=c[v],P=I.instance,F=I.currentTarget,I=I.listener,P!==d&&f.isPropagationStopped())break e;np(f,I,F),d=P}}}if(Ss)throw n=an,Ss=!1,an=null,n}function Ke(n,i){var a=i[Kc];a===void 0&&(a=i[Kc]=new Set);var c=n+"__bubble";a.has(c)||(ip(i,n,2,!1),a.add(c))}function jc(n,i,a){var c=0;i&&(c|=4),ip(a,n,c,i)}var Dl="_reactListening"+Math.random().toString(36).slice(2);function la(n){if(!n[Dl]){n[Dl]=!0,s.forEach(function(a){a!=="selectionchange"&&(VE.has(a)||jc(a,!1,n),jc(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Dl]||(i[Dl]=!0,jc("selectionchange",!1,i))}}function ip(n,i,a,c){switch(Vs(i)){case 1:var f=jn;break;case 4:f=Tl;break;default:f=Xo}a=f.bind(null,i,a,n),f=void 0,!Ur||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function zc(n,i,a,c,f){var d=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var I=c.stateNode.containerInfo;if(I===f||I.nodeType===8&&I.parentNode===f)break;if(v===4)for(v=c.return;v!==null;){var P=v.tag;if((P===3||P===4)&&(P=v.stateNode.containerInfo,P===f||P.nodeType===8&&P.parentNode===f))return;v=v.return}for(;I!==null;){if(v=Wi(I),v===null)return;if(P=v.tag,P===5||P===6){c=d=v;continue e}I=I.parentNode}}c=c.return}hl(function(){var F=d,K=Is(a),G=[];e:{var W=ep.get(n);if(W!==void 0){var ee=$i,ie=n;switch(n){case"keypress":if(Bi(a)===0)break e;case"keydown":case"keyup":ee=ze;break;case"focusin":ie="focus",ee=At;break;case"focusout":ie="blur",ee=At;break;case"beforeblur":case"afterblur":ee=At;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=ea;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Al;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=Hn;break;case Jd:case Yd:case Xd:ee=Rl;break;case Zd:ee=Fs;break;case"scroll":ee=Os;break;case"wheel":ee=mE;break;case"copy":case"cut":case"paste":ee=l;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=nn}var oe=(i&4)!==0,ot=!oe&&n==="scroll",L=oe?W!==null?W+"Capture":null:W;oe=[];for(var D=F,b;D!==null;){b=D;var J=b.stateNode;if(b.tag===5&&J!==null&&(b=J,L!==null&&(J=Vi(D,L),J!=null&&oe.push(ua(D,J,b)))),ot)break;D=D.return}0<oe.length&&(W=new ee(W,ie,null,a,K),G.push({event:W,listeners:oe}))}}if((i&7)===0){e:{if(W=n==="mouseover"||n==="pointerover",ee=n==="mouseout"||n==="pointerout",W&&a!==Mr&&(ie=a.relatedTarget||a.fromElement)&&(Wi(ie)||ie[mr]))break e;if((ee||W)&&(W=K.window===K?K:(W=K.ownerDocument)?W.defaultView||W.parentWindow:window,ee?(ie=a.relatedTarget||a.toElement,ee=F,ie=ie?Wi(ie):null,ie!==null&&(ot=En(ie),ie!==ot||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(ee=null,ie=F),ee!==ie)){if(oe=ea,J="onMouseLeave",L="onMouseEnter",D="mouse",(n==="pointerout"||n==="pointerover")&&(oe=nn,J="onPointerLeave",L="onPointerEnter",D="pointer"),ot=ee==null?W:Hs(ee),b=ie==null?W:Hs(ie),W=new oe(J,D+"leave",ee,a,K),W.target=ot,W.relatedTarget=b,J=null,Wi(K)===F&&(oe=new oe(L,D+"enter",ie,a,K),oe.target=b,oe.relatedTarget=ot,J=oe),ot=J,ee&&ie)t:{for(oe=ee,L=ie,D=0,b=oe;b;b=Bs(b))D++;for(b=0,J=L;J;J=Bs(J))b++;for(;0<D-b;)oe=Bs(oe),D--;for(;0<b-D;)L=Bs(L),b--;for(;D--;){if(oe===L||L!==null&&oe===L.alternate)break t;oe=Bs(oe),L=Bs(L)}oe=null}else oe=null;ee!==null&&sp(G,W,ee,oe,!1),ie!==null&&ot!==null&&sp(G,ot,ie,oe,!0)}}e:{if(W=F?Hs(F):window,ee=W.nodeName&&W.nodeName.toLowerCase(),ee==="select"||ee==="input"&&W.type==="file")var le=TE;else if(Fd(W))if(jd)le=CE;else{le=SE;var de=IE}else(ee=W.nodeName)&&ee.toLowerCase()==="input"&&(W.type==="checkbox"||W.type==="radio")&&(le=AE);if(le&&(le=le(n,F))){Ud(G,le,a,K);break e}de&&de(n,W,F),n==="focusout"&&(de=W._wrapperState)&&de.controlled&&W.type==="number"&&lt(W,"number",W.value)}switch(de=F?Hs(F):window,n){case"focusin":(Fd(de)||de.contentEditable==="true")&&(js=de,Lc=F,oa=null);break;case"focusout":oa=Lc=js=null;break;case"mousedown":Mc=!0;break;case"contextmenu":case"mouseup":case"dragend":Mc=!1,Gd(G,a,K);break;case"selectionchange":if(kE)break;case"keydown":case"keyup":Gd(G,a,K)}var pe;if(Dc)e:{switch(n){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Us?Md(n,a)&&(ge="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(ge="onCompositionStart");ge&&(xd&&a.locale!=="ko"&&(Us||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Us&&(pe=Il()):(en=K,xs="value"in en?en.value:en.textContent,Us=!0)),de=Vl(F,ge),0<de.length&&(ge=new y(ge,n,null,a,K),G.push({event:ge,listeners:de}),pe?ge.data=pe:(pe=bd(a),pe!==null&&(ge.data=pe)))),(pe=yE?_E(n,a):vE(n,a))&&(F=Vl(F,"onBeforeInput"),0<F.length&&(K=new y("onBeforeInput","beforeinput",null,a,K),G.push({event:K,listeners:F}),K.data=pe))}rp(G,i)})}function ua(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Vl(n,i){for(var a=i+"Capture",c=[];n!==null;){var f=n,d=f.stateNode;f.tag===5&&d!==null&&(f=d,d=Vi(n,a),d!=null&&c.unshift(ua(n,d,f)),d=Vi(n,i),d!=null&&c.push(ua(n,d,f))),n=n.return}return c}function Bs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function sp(n,i,a,c,f){for(var d=i._reactName,v=[];a!==null&&a!==c;){var I=a,P=I.alternate,F=I.stateNode;if(P!==null&&P===c)break;I.tag===5&&F!==null&&(I=F,f?(P=Vi(a,d),P!=null&&v.unshift(ua(a,P,I))):f||(P=Vi(a,d),P!=null&&v.push(ua(a,P,I)))),a=a.return}v.length!==0&&n.push({event:i,listeners:v})}var xE=/\r\n?/g,OE=/\u0000|\uFFFD/g;function op(n){return(typeof n=="string"?n:""+n).replace(xE,`
`).replace(OE,"")}function xl(n,i,a){if(i=op(i),op(n)!==i&&a)throw Error(t(425))}function Ol(){}var Bc=null,$c=null;function Hc(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Wc=typeof setTimeout=="function"?setTimeout:void 0,LE=typeof clearTimeout=="function"?clearTimeout:void 0,ap=typeof Promise=="function"?Promise:void 0,ME=typeof queueMicrotask=="function"?queueMicrotask:typeof ap<"u"?function(n){return ap.resolve(null).then(n).catch(bE)}:Wc;function bE(n){setTimeout(function(){throw n})}function qc(n,i){var a=i,c=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){n.removeChild(f),Hr(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);Hr(i)}function Gr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function lp(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}var $s=Math.random().toString(36).slice(2),qn="__reactFiber$"+$s,ca="__reactProps$"+$s,mr="__reactContainer$"+$s,Kc="__reactEvents$"+$s,FE="__reactListeners$"+$s,UE="__reactHandles$"+$s;function Wi(n){var i=n[qn];if(i)return i;for(var a=n.parentNode;a;){if(i=a[mr]||a[qn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=lp(n);n!==null;){if(a=n[qn])return a;n=lp(n)}return i}n=a,a=n.parentNode}return null}function ha(n){return n=n[qn]||n[mr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Hs(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Ll(n){return n[ca]||null}var Gc=[],Ws=-1;function Qr(n){return{current:n}}function Ge(n){0>Ws||(n.current=Gc[Ws],Gc[Ws]=null,Ws--)}function We(n,i){Ws++,Gc[Ws]=n.current,n.current=i}var Jr={},xt=Qr(Jr),Ht=Qr(!1),qi=Jr;function qs(n,i){var a=n.type.contextTypes;if(!a)return Jr;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var f={},d;for(d in a)f[d]=i[d];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=f),f}function Wt(n){return n=n.childContextTypes,n!=null}function Ml(){Ge(Ht),Ge(xt)}function up(n,i,a){if(xt.current!==Jr)throw Error(t(168));We(xt,i),We(Ht,a)}function cp(n,i,a){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in i))throw Error(t(108,Ue(n)||"Unknown",f));return ne({},a,c)}function bl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Jr,qi=xt.current,We(xt,n),We(Ht,Ht.current),!0}function hp(n,i,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=cp(n,i,qi),c.__reactInternalMemoizedMergedChildContext=n,Ge(Ht),Ge(xt),We(xt,n)):Ge(Ht),We(Ht,a)}var gr=null,Fl=!1,Qc=!1;function fp(n){gr===null?gr=[n]:gr.push(n)}function jE(n){Fl=!0,fp(n)}function Yr(){if(!Qc&&gr!==null){Qc=!0;var n=0,i=De;try{var a=gr;for(De=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}gr=null,Fl=!1}catch(f){throw gr!==null&&(gr=gr.slice(n+1)),zo(Cs,Yr),f}finally{De=i,Qc=!1}}return null}var Ks=[],Gs=0,Ul=null,jl=0,un=[],cn=0,Ki=null,yr=1,_r="";function Gi(n,i){Ks[Gs++]=jl,Ks[Gs++]=Ul,Ul=n,jl=i}function dp(n,i,a){un[cn++]=yr,un[cn++]=_r,un[cn++]=Ki,Ki=n;var c=yr;n=_r;var f=32-Xt(c)-1;c&=~(1<<f),a+=1;var d=32-Xt(i)+f;if(30<d){var v=f-f%5;d=(c&(1<<v)-1).toString(32),c>>=v,f-=v,yr=1<<32-Xt(i)+f|a<<f|c,_r=d+n}else yr=1<<d|a<<f|c,_r=n}function Jc(n){n.return!==null&&(Gi(n,1),dp(n,1,0))}function Yc(n){for(;n===Ul;)Ul=Ks[--Gs],Ks[Gs]=null,jl=Ks[--Gs],Ks[Gs]=null;for(;n===Ki;)Ki=un[--cn],un[cn]=null,_r=un[--cn],un[cn]=null,yr=un[--cn],un[cn]=null}var rn=null,sn=null,Xe=!1,In=null;function pp(n,i){var a=pn(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function mp(n,i){switch(n.tag){case 5:var a=n.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,rn=n,sn=Gr(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,rn=n,sn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Ki!==null?{id:yr,overflow:_r}:null,n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=pn(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,rn=n,sn=null,!0):!1;default:return!1}}function Xc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Zc(n){if(Xe){var i=sn;if(i){var a=i;if(!mp(n,i)){if(Xc(n))throw Error(t(418));i=Gr(a.nextSibling);var c=rn;i&&mp(n,i)?pp(c,a):(n.flags=n.flags&-4097|2,Xe=!1,rn=n)}}else{if(Xc(n))throw Error(t(418));n.flags=n.flags&-4097|2,Xe=!1,rn=n}}}function gp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;rn=n}function zl(n){if(n!==rn)return!1;if(!Xe)return gp(n),Xe=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Hc(n.type,n.memoizedProps)),i&&(i=sn)){if(Xc(n))throw yp(),Error(t(418));for(;i;)pp(n,i),i=Gr(i.nextSibling)}if(gp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(i===0){sn=Gr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}n=n.nextSibling}sn=null}}else sn=rn?Gr(n.stateNode.nextSibling):null;return!0}function yp(){for(var n=sn;n;)n=Gr(n.nextSibling)}function Qs(){sn=rn=null,Xe=!1}function eh(n){In===null?In=[n]:In.push(n)}var zE=we.ReactCurrentBatchConfig;function fa(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var f=c,d=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===d?i.ref:(i=function(v){var I=f.refs;v===null?delete I[d]:I[d]=v},i._stringRef=d,i)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function Bl(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function _p(n){var i=n._init;return i(n._payload)}function vp(n){function i(L,D){if(n){var b=L.deletions;b===null?(L.deletions=[D],L.flags|=16):b.push(D)}}function a(L,D){if(!n)return null;for(;D!==null;)i(L,D),D=D.sibling;return null}function c(L,D){for(L=new Map;D!==null;)D.key!==null?L.set(D.key,D):L.set(D.index,D),D=D.sibling;return L}function f(L,D){return L=si(L,D),L.index=0,L.sibling=null,L}function d(L,D,b){return L.index=b,n?(b=L.alternate,b!==null?(b=b.index,b<D?(L.flags|=2,D):b):(L.flags|=2,D)):(L.flags|=1048576,D)}function v(L){return n&&L.alternate===null&&(L.flags|=2),L}function I(L,D,b,J){return D===null||D.tag!==6?(D=Wh(b,L.mode,J),D.return=L,D):(D=f(D,b),D.return=L,D)}function P(L,D,b,J){var le=b.type;return le===k?K(L,D,b.props.children,J,b.key):D!==null&&(D.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Dt&&_p(le)===D.type)?(J=f(D,b.props),J.ref=fa(L,D,b),J.return=L,J):(J=fu(b.type,b.key,b.props,null,L.mode,J),J.ref=fa(L,D,b),J.return=L,J)}function F(L,D,b,J){return D===null||D.tag!==4||D.stateNode.containerInfo!==b.containerInfo||D.stateNode.implementation!==b.implementation?(D=qh(b,L.mode,J),D.return=L,D):(D=f(D,b.children||[]),D.return=L,D)}function K(L,D,b,J,le){return D===null||D.tag!==7?(D=ns(b,L.mode,J,le),D.return=L,D):(D=f(D,b),D.return=L,D)}function G(L,D,b){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Wh(""+D,L.mode,b),D.return=L,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Fe:return b=fu(D.type,D.key,D.props,null,L.mode,b),b.ref=fa(L,null,D),b.return=L,b;case xe:return D=qh(D,L.mode,b),D.return=L,D;case Dt:var J=D._init;return G(L,J(D._payload),b)}if(it(D)||he(D))return D=ns(D,L.mode,b,null),D.return=L,D;Bl(L,D)}return null}function W(L,D,b,J){var le=D!==null?D.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return le!==null?null:I(L,D,""+b,J);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Fe:return b.key===le?P(L,D,b,J):null;case xe:return b.key===le?F(L,D,b,J):null;case Dt:return le=b._init,W(L,D,le(b._payload),J)}if(it(b)||he(b))return le!==null?null:K(L,D,b,J,null);Bl(L,b)}return null}function ee(L,D,b,J,le){if(typeof J=="string"&&J!==""||typeof J=="number")return L=L.get(b)||null,I(D,L,""+J,le);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case Fe:return L=L.get(J.key===null?b:J.key)||null,P(D,L,J,le);case xe:return L=L.get(J.key===null?b:J.key)||null,F(D,L,J,le);case Dt:var de=J._init;return ee(L,D,b,de(J._payload),le)}if(it(J)||he(J))return L=L.get(b)||null,K(D,L,J,le,null);Bl(D,J)}return null}function ie(L,D,b,J){for(var le=null,de=null,pe=D,ge=D=0,wt=null;pe!==null&&ge<b.length;ge++){pe.index>ge?(wt=pe,pe=null):wt=pe.sibling;var Me=W(L,pe,b[ge],J);if(Me===null){pe===null&&(pe=wt);break}n&&pe&&Me.alternate===null&&i(L,pe),D=d(Me,D,ge),de===null?le=Me:de.sibling=Me,de=Me,pe=wt}if(ge===b.length)return a(L,pe),Xe&&Gi(L,ge),le;if(pe===null){for(;ge<b.length;ge++)pe=G(L,b[ge],J),pe!==null&&(D=d(pe,D,ge),de===null?le=pe:de.sibling=pe,de=pe);return Xe&&Gi(L,ge),le}for(pe=c(L,pe);ge<b.length;ge++)wt=ee(pe,L,ge,b[ge],J),wt!==null&&(n&&wt.alternate!==null&&pe.delete(wt.key===null?ge:wt.key),D=d(wt,D,ge),de===null?le=wt:de.sibling=wt,de=wt);return n&&pe.forEach(function(oi){return i(L,oi)}),Xe&&Gi(L,ge),le}function oe(L,D,b,J){var le=he(b);if(typeof le!="function")throw Error(t(150));if(b=le.call(b),b==null)throw Error(t(151));for(var de=le=null,pe=D,ge=D=0,wt=null,Me=b.next();pe!==null&&!Me.done;ge++,Me=b.next()){pe.index>ge?(wt=pe,pe=null):wt=pe.sibling;var oi=W(L,pe,Me.value,J);if(oi===null){pe===null&&(pe=wt);break}n&&pe&&oi.alternate===null&&i(L,pe),D=d(oi,D,ge),de===null?le=oi:de.sibling=oi,de=oi,pe=wt}if(Me.done)return a(L,pe),Xe&&Gi(L,ge),le;if(pe===null){for(;!Me.done;ge++,Me=b.next())Me=G(L,Me.value,J),Me!==null&&(D=d(Me,D,ge),de===null?le=Me:de.sibling=Me,de=Me);return Xe&&Gi(L,ge),le}for(pe=c(L,pe);!Me.done;ge++,Me=b.next())Me=ee(pe,L,ge,Me.value,J),Me!==null&&(n&&Me.alternate!==null&&pe.delete(Me.key===null?ge:Me.key),D=d(Me,D,ge),de===null?le=Me:de.sibling=Me,de=Me);return n&&pe.forEach(function(Ew){return i(L,Ew)}),Xe&&Gi(L,ge),le}function ot(L,D,b,J){if(typeof b=="object"&&b!==null&&b.type===k&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Fe:e:{for(var le=b.key,de=D;de!==null;){if(de.key===le){if(le=b.type,le===k){if(de.tag===7){a(L,de.sibling),D=f(de,b.props.children),D.return=L,L=D;break e}}else if(de.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Dt&&_p(le)===de.type){a(L,de.sibling),D=f(de,b.props),D.ref=fa(L,de,b),D.return=L,L=D;break e}a(L,de);break}else i(L,de);de=de.sibling}b.type===k?(D=ns(b.props.children,L.mode,J,b.key),D.return=L,L=D):(J=fu(b.type,b.key,b.props,null,L.mode,J),J.ref=fa(L,D,b),J.return=L,L=J)}return v(L);case xe:e:{for(de=b.key;D!==null;){if(D.key===de)if(D.tag===4&&D.stateNode.containerInfo===b.containerInfo&&D.stateNode.implementation===b.implementation){a(L,D.sibling),D=f(D,b.children||[]),D.return=L,L=D;break e}else{a(L,D);break}else i(L,D);D=D.sibling}D=qh(b,L.mode,J),D.return=L,L=D}return v(L);case Dt:return de=b._init,ot(L,D,de(b._payload),J)}if(it(b))return ie(L,D,b,J);if(he(b))return oe(L,D,b,J);Bl(L,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,D!==null&&D.tag===6?(a(L,D.sibling),D=f(D,b),D.return=L,L=D):(a(L,D),D=Wh(b,L.mode,J),D.return=L,L=D),v(L)):a(L,D)}return ot}var Js=vp(!0),Ep=vp(!1),$l=Qr(null),Hl=null,Ys=null,th=null;function nh(){th=Ys=Hl=null}function rh(n){var i=$l.current;Ge($l),n._currentValue=i}function ih(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function Xs(n,i){Hl=n,th=Ys=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(qt=!0),n.firstContext=null)}function hn(n){var i=n._currentValue;if(th!==n)if(n={context:n,memoizedValue:i,next:null},Ys===null){if(Hl===null)throw Error(t(308));Ys=n,Hl.dependencies={lanes:0,firstContext:n}}else Ys=Ys.next=n;return i}var Qi=null;function sh(n){Qi===null?Qi=[n]:Qi.push(n)}function wp(n,i,a,c){var f=i.interleaved;return f===null?(a.next=a,sh(i)):(a.next=f.next,f.next=a),i.interleaved=a,vr(n,c)}function vr(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Xr=!1;function oh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tp(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Er(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Zr(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Le&2)!==0){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,vr(n,a)}return f=c.interleaved,f===null?(i.next=i,sh(c)):(i.next=f.next,f.next=i),c.interleaved=i,vr(n,a)}function Wl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Ko(n,a)}}function Ip(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function ql(n,i,a,c){var f=n.updateQueue;Xr=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,I=f.shared.pending;if(I!==null){f.shared.pending=null;var P=I,F=P.next;P.next=null,v===null?d=F:v.next=F,v=P;var K=n.alternate;K!==null&&(K=K.updateQueue,I=K.lastBaseUpdate,I!==v&&(I===null?K.firstBaseUpdate=F:I.next=F,K.lastBaseUpdate=P))}if(d!==null){var G=f.baseState;v=0,K=F=P=null,I=d;do{var W=I.lane,ee=I.eventTime;if((c&W)===W){K!==null&&(K=K.next={eventTime:ee,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var ie=n,oe=I;switch(W=i,ee=a,oe.tag){case 1:if(ie=oe.payload,typeof ie=="function"){G=ie.call(ee,G,W);break e}G=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=oe.payload,W=typeof ie=="function"?ie.call(ee,G,W):ie,W==null)break e;G=ne({},G,W);break e;case 2:Xr=!0}}I.callback!==null&&I.lane!==0&&(n.flags|=64,W=f.effects,W===null?f.effects=[I]:W.push(I))}else ee={eventTime:ee,lane:W,tag:I.tag,payload:I.payload,callback:I.callback,next:null},K===null?(F=K=ee,P=G):K=K.next=ee,v|=W;if(I=I.next,I===null){if(I=f.shared.pending,I===null)break;W=I,I=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);if(K===null&&(P=G),f.baseState=P,f.firstBaseUpdate=F,f.lastBaseUpdate=K,i=f.shared.interleaved,i!==null){f=i;do v|=f.lane,f=f.next;while(f!==i)}else d===null&&(f.shared.lanes=0);Xi|=v,n.lanes=v,n.memoizedState=G}}function Sp(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(t(191,f));f.call(c)}}}var da={},Kn=Qr(da),pa=Qr(da),ma=Qr(da);function Ji(n){if(n===da)throw Error(t(174));return n}function ah(n,i){switch(We(ma,i),We(pa,n),We(Kn,da),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Es(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=Es(i,n)}Ge(Kn),We(Kn,i)}function Zs(){Ge(Kn),Ge(pa),Ge(ma)}function Ap(n){Ji(ma.current);var i=Ji(Kn.current),a=Es(i,n.type);i!==a&&(We(pa,n),We(Kn,a))}function lh(n){pa.current===n&&(Ge(Kn),Ge(pa))}var Ze=Qr(0);function Kl(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var uh=[];function ch(){for(var n=0;n<uh.length;n++)uh[n]._workInProgressVersionPrimary=null;uh.length=0}var Gl=we.ReactCurrentDispatcher,hh=we.ReactCurrentBatchConfig,Yi=0,et=null,pt=null,vt=null,Ql=!1,ga=!1,ya=0,BE=0;function Ot(){throw Error(t(321))}function fh(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Tn(n[a],i[a]))return!1;return!0}function dh(n,i,a,c,f,d){if(Yi=d,et=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Gl.current=n===null||n.memoizedState===null?qE:KE,n=a(c,f),ga){d=0;do{if(ga=!1,ya=0,25<=d)throw Error(t(301));d+=1,vt=pt=null,i.updateQueue=null,Gl.current=GE,n=a(c,f)}while(ga)}if(Gl.current=Xl,i=pt!==null&&pt.next!==null,Yi=0,vt=pt=et=null,Ql=!1,i)throw Error(t(300));return n}function ph(){var n=ya!==0;return ya=0,n}function Gn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?et.memoizedState=vt=n:vt=vt.next=n,vt}function fn(){if(pt===null){var n=et.alternate;n=n!==null?n.memoizedState:null}else n=pt.next;var i=vt===null?et.memoizedState:vt.next;if(i!==null)vt=i,pt=n;else{if(n===null)throw Error(t(310));pt=n,n={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},vt===null?et.memoizedState=vt=n:vt=vt.next=n}return vt}function _a(n,i){return typeof i=="function"?i(n):i}function mh(n){var i=fn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=pt,f=c.baseQueue,d=a.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}c.baseQueue=f=d,a.pending=null}if(f!==null){d=f.next,c=c.baseState;var I=v=null,P=null,F=d;do{var K=F.lane;if((Yi&K)===K)P!==null&&(P=P.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),c=F.hasEagerState?F.eagerState:n(c,F.action);else{var G={lane:K,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};P===null?(I=P=G,v=c):P=P.next=G,et.lanes|=K,Xi|=K}F=F.next}while(F!==null&&F!==d);P===null?v=c:P.next=I,Tn(c,i.memoizedState)||(qt=!0),i.memoizedState=c,i.baseState=v,i.baseQueue=P,a.lastRenderedState=c}if(n=a.interleaved,n!==null){f=n;do d=f.lane,et.lanes|=d,Xi|=d,f=f.next;while(f!==n)}else f===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function gh(n){var i=fn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=n(d,v.action),v=v.next;while(v!==f);Tn(d,i.memoizedState)||(qt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,c]}function Cp(){}function Rp(n,i){var a=et,c=fn(),f=i(),d=!Tn(c.memoizedState,f);if(d&&(c.memoizedState=f,qt=!0),c=c.queue,yh(Np.bind(null,a,c,n),[n]),c.getSnapshot!==i||d||vt!==null&&vt.memoizedState.tag&1){if(a.flags|=2048,va(9,kp.bind(null,a,c,f,i),void 0,null),Et===null)throw Error(t(349));(Yi&30)!==0||Pp(a,i,f)}return f}function Pp(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=et.updateQueue,i===null?(i={lastEffect:null,stores:null},et.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function kp(n,i,a,c){i.value=a,i.getSnapshot=c,Dp(i)&&Vp(n)}function Np(n,i,a){return a(function(){Dp(i)&&Vp(n)})}function Dp(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Tn(n,a)}catch{return!0}}function Vp(n){var i=vr(n,1);i!==null&&Rn(i,n,1,-1)}function xp(n){var i=Gn();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:n},i.queue=n,n=n.dispatch=WE.bind(null,et,n),[i.memoizedState,n]}function va(n,i,a,c){return n={tag:n,create:i,destroy:a,deps:c,next:null},i=et.updateQueue,i===null?(i={lastEffect:null,stores:null},et.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n)),n}function Op(){return fn().memoizedState}function Jl(n,i,a,c){var f=Gn();et.flags|=n,f.memoizedState=va(1|i,a,void 0,c===void 0?null:c)}function Yl(n,i,a,c){var f=fn();c=c===void 0?null:c;var d=void 0;if(pt!==null){var v=pt.memoizedState;if(d=v.destroy,c!==null&&fh(c,v.deps)){f.memoizedState=va(i,a,d,c);return}}et.flags|=n,f.memoizedState=va(1|i,a,d,c)}function Lp(n,i){return Jl(8390656,8,n,i)}function yh(n,i){return Yl(2048,8,n,i)}function Mp(n,i){return Yl(4,2,n,i)}function bp(n,i){return Yl(4,4,n,i)}function Fp(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Up(n,i,a){return a=a!=null?a.concat([n]):null,Yl(4,4,Fp.bind(null,i,n),a)}function _h(){}function jp(n,i){var a=fn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&fh(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function zp(n,i){var a=fn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&fh(i,c[1])?c[0]:(n=n(),a.memoizedState=[n,i],n)}function Bp(n,i,a){return(Yi&21)===0?(n.baseState&&(n.baseState=!1,qt=!0),n.memoizedState=a):(Tn(a,i)||(a=Wo(),et.lanes|=a,Xi|=a,n.baseState=!0),i)}function $E(n,i){var a=De;De=a!==0&&4>a?a:4,n(!0);var c=hh.transition;hh.transition={};try{n(!1),i()}finally{De=a,hh.transition=c}}function $p(){return fn().memoizedState}function HE(n,i,a){var c=ri(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Hp(n))Wp(i,a);else if(a=wp(n,i,a,c),a!==null){var f=$t();Rn(a,n,c,f),qp(a,i,c)}}function WE(n,i,a){var c=ri(n),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Hp(n))Wp(i,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,I=d(v,a);if(f.hasEagerState=!0,f.eagerState=I,Tn(I,v)){var P=i.interleaved;P===null?(f.next=f,sh(i)):(f.next=P.next,P.next=f),i.interleaved=f;return}}catch{}a=wp(n,i,f,c),a!==null&&(f=$t(),Rn(a,n,c,f),qp(a,i,c))}}function Hp(n){var i=n.alternate;return n===et||i!==null&&i===et}function Wp(n,i){ga=Ql=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function qp(n,i,a){if((a&4194240)!==0){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Ko(n,a)}}var Xl={readContext:hn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},qE={readContext:hn,useCallback:function(n,i){return Gn().memoizedState=[n,i===void 0?null:i],n},useContext:hn,useEffect:Lp,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,Jl(4194308,4,Fp.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Jl(4194308,4,n,i)},useInsertionEffect:function(n,i){return Jl(4,2,n,i)},useMemo:function(n,i){var a=Gn();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var c=Gn();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=HE.bind(null,et,n),[c.memoizedState,n]},useRef:function(n){var i=Gn();return n={current:n},i.memoizedState=n},useState:xp,useDebugValue:_h,useDeferredValue:function(n){return Gn().memoizedState=n},useTransition:function(){var n=xp(!1),i=n[0];return n=$E.bind(null,n[1]),Gn().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var c=et,f=Gn();if(Xe){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),Et===null)throw Error(t(349));(Yi&30)!==0||Pp(c,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Lp(Np.bind(null,c,d,n),[n]),c.flags|=2048,va(9,kp.bind(null,c,d,a,i),void 0,null),a},useId:function(){var n=Gn(),i=Et.identifierPrefix;if(Xe){var a=_r,c=yr;a=(c&~(1<<32-Xt(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=ya++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=BE++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},KE={readContext:hn,useCallback:jp,useContext:hn,useEffect:yh,useImperativeHandle:Up,useInsertionEffect:Mp,useLayoutEffect:bp,useMemo:zp,useReducer:mh,useRef:Op,useState:function(){return mh(_a)},useDebugValue:_h,useDeferredValue:function(n){var i=fn();return Bp(i,pt.memoizedState,n)},useTransition:function(){var n=mh(_a)[0],i=fn().memoizedState;return[n,i]},useMutableSource:Cp,useSyncExternalStore:Rp,useId:$p,unstable_isNewReconciler:!1},GE={readContext:hn,useCallback:jp,useContext:hn,useEffect:yh,useImperativeHandle:Up,useInsertionEffect:Mp,useLayoutEffect:bp,useMemo:zp,useReducer:gh,useRef:Op,useState:function(){return gh(_a)},useDebugValue:_h,useDeferredValue:function(n){var i=fn();return pt===null?i.memoizedState=n:Bp(i,pt.memoizedState,n)},useTransition:function(){var n=gh(_a)[0],i=fn().memoizedState;return[n,i]},useMutableSource:Cp,useSyncExternalStore:Rp,useId:$p,unstable_isNewReconciler:!1};function Sn(n,i){if(n&&n.defaultProps){i=ne({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}function vh(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:ne({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Zl={isMounted:function(n){return(n=n._reactInternals)?En(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var c=$t(),f=ri(n),d=Er(c,f);d.payload=i,a!=null&&(d.callback=a),i=Zr(n,d,f),i!==null&&(Rn(i,n,f,c),Wl(i,n,f))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=$t(),f=ri(n),d=Er(c,f);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=Zr(n,d,f),i!==null&&(Rn(i,n,f,c),Wl(i,n,f))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=$t(),c=ri(n),f=Er(a,c);f.tag=2,i!=null&&(f.callback=i),i=Zr(n,f,c),i!==null&&(Rn(i,n,c,a),Wl(i,n,c))}};function Kp(n,i,a,c,f,d,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,d,v):i.prototype&&i.prototype.isPureReactComponent?!sa(a,c)||!sa(f,d):!0}function Gp(n,i,a){var c=!1,f=Jr,d=i.contextType;return typeof d=="object"&&d!==null?d=hn(d):(f=Wt(i)?qi:xt.current,c=i.contextTypes,d=(c=c!=null)?qs(n,f):Jr),i=new i(a,d),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Zl,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=f,n.__reactInternalMemoizedMaskedChildContext=d),i}function Qp(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&Zl.enqueueReplaceState(i,i.state,null)}function Eh(n,i,a,c){var f=n.stateNode;f.props=a,f.state=n.memoizedState,f.refs={},oh(n);var d=i.contextType;typeof d=="object"&&d!==null?f.context=hn(d):(d=Wt(i)?qi:xt.current,f.context=qs(n,d)),f.state=n.memoizedState,d=i.getDerivedStateFromProps,typeof d=="function"&&(vh(n,i,d,a),f.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&Zl.enqueueReplaceState(f,f.state,null),ql(n,a,f,c),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308)}function eo(n,i){try{var a="",c=i;do a+=Ae(c),c=c.return;while(c);var f=a}catch(d){f=`
Error generating stack: `+d.message+`
`+d.stack}return{value:n,source:i,stack:f,digest:null}}function wh(n,i,a){return{value:n,source:null,stack:a??null,digest:i??null}}function Th(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var QE=typeof WeakMap=="function"?WeakMap:Map;function Jp(n,i,a){a=Er(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){ou||(ou=!0,bh=c),Th(n,i)},a}function Yp(n,i,a){a=Er(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var f=i.value;a.payload=function(){return c(f)},a.callback=function(){Th(n,i)}}var d=n.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(a.callback=function(){Th(n,i),typeof c!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})}),a}function Xp(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new QE;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(a)||(f.add(a),n=uw.bind(null,n,i,a),i.then(n,n))}function Zp(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function em(n,i,a,c,f){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Er(-1,1),i.tag=2,Zr(a,i,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=f,n)}var JE=we.ReactCurrentOwner,qt=!1;function Bt(n,i,a,c){i.child=n===null?Ep(i,null,a,c):Js(i,n.child,a,c)}function tm(n,i,a,c,f){a=a.render;var d=i.ref;return Xs(i,f),c=dh(n,i,a,c,d,f),a=ph(),n!==null&&!qt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,wr(n,i,f)):(Xe&&a&&Jc(i),i.flags|=1,Bt(n,i,c,f),i.child)}function nm(n,i,a,c,f){if(n===null){var d=a.type;return typeof d=="function"&&!Hh(d)&&d.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=d,rm(n,i,d,c,f)):(n=fu(a.type,null,c,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(d=n.child,(n.lanes&f)===0){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:sa,a(v,c)&&n.ref===i.ref)return wr(n,i,f)}return i.flags|=1,n=si(d,c),n.ref=i.ref,n.return=i,i.child=n}function rm(n,i,a,c,f){if(n!==null){var d=n.memoizedProps;if(sa(d,c)&&n.ref===i.ref)if(qt=!1,i.pendingProps=c=d,(n.lanes&f)!==0)(n.flags&131072)!==0&&(qt=!0);else return i.lanes=n.lanes,wr(n,i,f)}return Ih(n,i,a,c,f)}function im(n,i,a){var c=i.pendingProps,f=c.children,d=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(no,on),on|=a;else{if((a&1073741824)===0)return n=d!==null?d.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,We(no,on),on|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=d!==null?d.baseLanes:a,We(no,on),on|=c}else d!==null?(c=d.baseLanes|a,i.memoizedState=null):c=a,We(no,on),on|=c;return Bt(n,i,f,a),i.child}function sm(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Ih(n,i,a,c,f){var d=Wt(a)?qi:xt.current;return d=qs(i,d),Xs(i,f),a=dh(n,i,a,c,d,f),c=ph(),n!==null&&!qt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,wr(n,i,f)):(Xe&&c&&Jc(i),i.flags|=1,Bt(n,i,a,f),i.child)}function om(n,i,a,c,f){if(Wt(a)){var d=!0;bl(i)}else d=!1;if(Xs(i,f),i.stateNode===null)tu(n,i),Gp(i,a,c),Eh(i,a,c,f),c=!0;else if(n===null){var v=i.stateNode,I=i.memoizedProps;v.props=I;var P=v.context,F=a.contextType;typeof F=="object"&&F!==null?F=hn(F):(F=Wt(a)?qi:xt.current,F=qs(i,F));var K=a.getDerivedStateFromProps,G=typeof K=="function"||typeof v.getSnapshotBeforeUpdate=="function";G||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(I!==c||P!==F)&&Qp(i,v,c,F),Xr=!1;var W=i.memoizedState;v.state=W,ql(i,c,v,f),P=i.memoizedState,I!==c||W!==P||Ht.current||Xr?(typeof K=="function"&&(vh(i,a,K,c),P=i.memoizedState),(I=Xr||Kp(i,a,I,c,W,P,F))?(G||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=P),v.props=c,v.state=P,v.context=F,c=I):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{v=i.stateNode,Tp(n,i),I=i.memoizedProps,F=i.type===i.elementType?I:Sn(i.type,I),v.props=F,G=i.pendingProps,W=v.context,P=a.contextType,typeof P=="object"&&P!==null?P=hn(P):(P=Wt(a)?qi:xt.current,P=qs(i,P));var ee=a.getDerivedStateFromProps;(K=typeof ee=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(I!==G||W!==P)&&Qp(i,v,c,P),Xr=!1,W=i.memoizedState,v.state=W,ql(i,c,v,f);var ie=i.memoizedState;I!==G||W!==ie||Ht.current||Xr?(typeof ee=="function"&&(vh(i,a,ee,c),ie=i.memoizedState),(F=Xr||Kp(i,a,F,c,W,ie,P)||!1)?(K||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,ie,P),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,ie,P)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||I===n.memoizedProps&&W===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&W===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ie),v.props=c,v.state=ie,v.context=P,c=F):(typeof v.componentDidUpdate!="function"||I===n.memoizedProps&&W===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&W===n.memoizedState||(i.flags|=1024),c=!1)}return Sh(n,i,a,c,d,f)}function Sh(n,i,a,c,f,d){sm(n,i);var v=(i.flags&128)!==0;if(!c&&!v)return f&&hp(i,a,!1),wr(n,i,d);c=i.stateNode,JE.current=i;var I=v&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&v?(i.child=Js(i,n.child,null,d),i.child=Js(i,null,I,d)):Bt(n,i,I,d),i.memoizedState=c.state,f&&hp(i,a,!0),i.child}function am(n){var i=n.stateNode;i.pendingContext?up(n,i.pendingContext,i.pendingContext!==i.context):i.context&&up(n,i.context,!1),ah(n,i.containerInfo)}function lm(n,i,a,c,f){return Qs(),eh(f),i.flags|=256,Bt(n,i,a,c),i.child}var Ah={dehydrated:null,treeContext:null,retryLane:0};function Ch(n){return{baseLanes:n,cachePool:null,transitions:null}}function um(n,i,a){var c=i.pendingProps,f=Ze.current,d=!1,v=(i.flags&128)!==0,I;if((I=v)||(I=n!==null&&n.memoizedState===null?!1:(f&2)!==0),I?(d=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(f|=1),We(Ze,f&1),n===null)return Zc(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(v=c.children,n=c.fallback,d?(c=i.mode,d=i.child,v={mode:"hidden",children:v},(c&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=v):d=du(v,c,0,null),n=ns(n,c,a,null),d.return=i,n.return=i,d.sibling=n,i.child=d,i.child.memoizedState=Ch(a),i.memoizedState=Ah,n):Rh(i,v));if(f=n.memoizedState,f!==null&&(I=f.dehydrated,I!==null))return YE(n,i,v,c,I,f,a);if(d){d=c.fallback,v=i.mode,f=n.child,I=f.sibling;var P={mode:"hidden",children:c.children};return(v&1)===0&&i.child!==f?(c=i.child,c.childLanes=0,c.pendingProps=P,i.deletions=null):(c=si(f,P),c.subtreeFlags=f.subtreeFlags&14680064),I!==null?d=si(I,d):(d=ns(d,v,a,null),d.flags|=2),d.return=i,c.return=i,c.sibling=d,i.child=c,c=d,d=i.child,v=n.child.memoizedState,v=v===null?Ch(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},d.memoizedState=v,d.childLanes=n.childLanes&~a,i.memoizedState=Ah,c}return d=n.child,n=d.sibling,c=si(d,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=a),c.return=i,c.sibling=null,n!==null&&(a=i.deletions,a===null?(i.deletions=[n],i.flags|=16):a.push(n)),i.child=c,i.memoizedState=null,c}function Rh(n,i){return i=du({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function eu(n,i,a,c){return c!==null&&eh(c),Js(i,n.child,null,a),n=Rh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function YE(n,i,a,c,f,d,v){if(a)return i.flags&256?(i.flags&=-257,c=wh(Error(t(422))),eu(n,i,v,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(d=c.fallback,f=i.mode,c=du({mode:"visible",children:c.children},f,0,null),d=ns(d,f,v,null),d.flags|=2,c.return=i,d.return=i,c.sibling=d,i.child=c,(i.mode&1)!==0&&Js(i,n.child,null,v),i.child.memoizedState=Ch(v),i.memoizedState=Ah,d);if((i.mode&1)===0)return eu(n,i,v,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var I=c.dgst;return c=I,d=Error(t(419)),c=wh(d,c,void 0),eu(n,i,v,c)}if(I=(v&n.childLanes)!==0,qt||I){if(c=Et,c!==null){switch(v&-v){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|v))!==0?0:f,f!==0&&f!==d.retryLane&&(d.retryLane=f,vr(n,f),Rn(c,n,f,-1))}return $h(),c=wh(Error(t(421))),eu(n,i,v,c)}return f.data==="$?"?(i.flags|=128,i.child=n.child,i=cw.bind(null,n),f._reactRetry=i,null):(n=d.treeContext,sn=Gr(f.nextSibling),rn=i,Xe=!0,In=null,n!==null&&(un[cn++]=yr,un[cn++]=_r,un[cn++]=Ki,yr=n.id,_r=n.overflow,Ki=i),i=Rh(i,c.children),i.flags|=4096,i)}function cm(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),ih(n.return,i,a)}function Ph(n,i,a,c,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=c,d.tail=a,d.tailMode=f)}function hm(n,i,a){var c=i.pendingProps,f=c.revealOrder,d=c.tail;if(Bt(n,i,c.children,a),c=Ze.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&cm(n,a,i);else if(n.tag===19)cm(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(We(Ze,c),(i.mode&1)===0)i.memoizedState=null;else switch(f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&Kl(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Ph(i,!1,f,a,d);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Kl(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Ph(i,!0,a,null,d);break;case"together":Ph(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function tu(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function wr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Xi|=i.lanes,(a&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,a=si(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=si(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function XE(n,i,a){switch(i.tag){case 3:am(i),Qs();break;case 5:Ap(i);break;case 1:Wt(i.type)&&bl(i);break;case 4:ah(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,f=i.memoizedProps.value;We($l,c._currentValue),c._currentValue=f;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(We(Ze,Ze.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?um(n,i,a):(We(Ze,Ze.current&1),n=wr(n,i,a),n!==null?n.sibling:null);We(Ze,Ze.current&1);break;case 19:if(c=(a&i.childLanes)!==0,(n.flags&128)!==0){if(c)return hm(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),We(Ze,Ze.current),c)break;return null;case 22:case 23:return i.lanes=0,im(n,i,a)}return wr(n,i,a)}var fm,kh,dm,pm;fm=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},kh=function(){},dm=function(n,i,a,c){var f=n.memoizedProps;if(f!==c){n=i.stateNode,Ji(Kn.current);var d=null;switch(a){case"input":f=_s(n,f),c=_s(n,c),d=[];break;case"select":f=ne({},f,{value:void 0}),c=ne({},c,{value:void 0}),d=[];break;case"textarea":f=Oo(n,f),c=Oo(n,c),d=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Ol)}vn(a,c);var v;a=null;for(F in f)if(!c.hasOwnProperty(F)&&f.hasOwnProperty(F)&&f[F]!=null)if(F==="style"){var I=f[F];for(v in I)I.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(o.hasOwnProperty(F)?d||(d=[]):(d=d||[]).push(F,null));for(F in c){var P=c[F];if(I=f?.[F],c.hasOwnProperty(F)&&P!==I&&(P!=null||I!=null))if(F==="style")if(I){for(v in I)!I.hasOwnProperty(v)||P&&P.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in P)P.hasOwnProperty(v)&&I[v]!==P[v]&&(a||(a={}),a[v]=P[v])}else a||(d||(d=[]),d.push(F,a)),a=P;else F==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,I=I?I.__html:void 0,P!=null&&I!==P&&(d=d||[]).push(F,P)):F==="children"?typeof P!="string"&&typeof P!="number"||(d=d||[]).push(F,""+P):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(o.hasOwnProperty(F)?(P!=null&&F==="onScroll"&&Ke("scroll",n),d||I===P||(d=[])):(d=d||[]).push(F,P))}a&&(d=d||[]).push("style",a);var F=d;(i.updateQueue=F)&&(i.flags|=4)}},pm=function(n,i,a,c){a!==c&&(i.flags|=4)};function Ea(n,i){if(!Xe)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Lt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function ZE(n,i,a){var c=i.pendingProps;switch(Yc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(i),null;case 1:return Wt(i.type)&&Ml(),Lt(i),null;case 3:return c=i.stateNode,Zs(),Ge(Ht),Ge(xt),ch(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(zl(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,In!==null&&(jh(In),In=null))),kh(n,i),Lt(i),null;case 5:lh(i);var f=Ji(ma.current);if(a=i.type,n!==null&&i.stateNode!=null)dm(n,i,a,c,f),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return Lt(i),null}if(n=Ji(Kn.current),zl(i)){c=i.stateNode,a=i.type;var d=i.memoizedProps;switch(c[qn]=i,c[ca]=d,n=(i.mode&1)!==0,a){case"dialog":Ke("cancel",c),Ke("close",c);break;case"iframe":case"object":case"embed":Ke("load",c);break;case"video":case"audio":for(f=0;f<aa.length;f++)Ke(aa[f],c);break;case"source":Ke("error",c);break;case"img":case"image":case"link":Ke("error",c),Ke("load",c);break;case"details":Ke("toggle",c);break;case"input":sl(c,d),Ke("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!d.multiple},Ke("invalid",c);break;case"textarea":Lo(c,d),Ke("invalid",c)}vn(a,d),f=null;for(var v in d)if(d.hasOwnProperty(v)){var I=d[v];v==="children"?typeof I=="string"?c.textContent!==I&&(d.suppressHydrationWarning!==!0&&xl(c.textContent,I,n),f=["children",I]):typeof I=="number"&&c.textContent!==""+I&&(d.suppressHydrationWarning!==!0&&xl(c.textContent,I,n),f=["children",""+I]):o.hasOwnProperty(v)&&I!=null&&v==="onScroll"&&Ke("scroll",c)}switch(a){case"input":ys(c),xo(c,d,!0);break;case"textarea":ys(c),Vr(c);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(c.onclick=Ol)}c=f,i.updateQueue=c,c!==null&&(i.flags|=4)}else{v=f.nodeType===9?f:f.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Mo(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=v.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=v.createElement(a,{is:c.is}):(n=v.createElement(a),a==="select"&&(v=n,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):n=v.createElementNS(n,a),n[qn]=i,n[ca]=c,fm(n,i,!1,!1),i.stateNode=n;e:{switch(v=Ts(a,c),a){case"dialog":Ke("cancel",n),Ke("close",n),f=c;break;case"iframe":case"object":case"embed":Ke("load",n),f=c;break;case"video":case"audio":for(f=0;f<aa.length;f++)Ke(aa[f],n);f=c;break;case"source":Ke("error",n),f=c;break;case"img":case"image":case"link":Ke("error",n),Ke("load",n),f=c;break;case"details":Ke("toggle",n),f=c;break;case"input":sl(n,c),f=_s(n,c),Ke("invalid",n);break;case"option":f=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},f=ne({},c,{value:void 0}),Ke("invalid",n);break;case"textarea":Lo(n,c),f=Oo(n,c),Ke("invalid",n);break;default:f=c}vn(a,f),I=f;for(d in I)if(I.hasOwnProperty(d)){var P=I[d];d==="style"?ws(n,P):d==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&al(n,P)):d==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&Di(n,P):typeof P=="number"&&Di(n,""+P):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(o.hasOwnProperty(d)?P!=null&&d==="onScroll"&&Ke("scroll",n):P!=null&&ce(n,d,P,v))}switch(a){case"input":ys(n),xo(n,c,!1);break;case"textarea":ys(n),Vr(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Oe(c.value));break;case"select":n.multiple=!!c.multiple,d=c.value,d!=null?_n(n,!!c.multiple,d,!1):c.defaultValue!=null&&_n(n,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(n.onclick=Ol)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Lt(i),null;case 6:if(n&&i.stateNode!=null)pm(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=Ji(ma.current),Ji(Kn.current),zl(i)){if(c=i.stateNode,a=i.memoizedProps,c[qn]=i,(d=c.nodeValue!==a)&&(n=rn,n!==null))switch(n.tag){case 3:xl(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&xl(c.nodeValue,a,(n.mode&1)!==0)}d&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[qn]=i,i.stateNode=c}return Lt(i),null;case 13:if(Ge(Ze),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Xe&&sn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)yp(),Qs(),i.flags|=98560,d=!1;else if(d=zl(i),c!==null&&c.dehydrated!==null){if(n===null){if(!d)throw Error(t(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(t(317));d[qn]=i}else Qs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Lt(i),d=!1}else In!==null&&(jh(In),In=null),d=!0;if(!d)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(Ze.current&1)!==0?mt===0&&(mt=3):$h())),i.updateQueue!==null&&(i.flags|=4),Lt(i),null);case 4:return Zs(),kh(n,i),n===null&&la(i.stateNode.containerInfo),Lt(i),null;case 10:return rh(i.type._context),Lt(i),null;case 17:return Wt(i.type)&&Ml(),Lt(i),null;case 19:if(Ge(Ze),d=i.memoizedState,d===null)return Lt(i),null;if(c=(i.flags&128)!==0,v=d.rendering,v===null)if(c)Ea(d,!1);else{if(mt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(v=Kl(n),v!==null){for(i.flags|=128,Ea(d,!1),c=v.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)d=a,n=c,d.flags&=14680066,v=d.alternate,v===null?(d.childLanes=0,d.lanes=n,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=v.childLanes,d.lanes=v.lanes,d.child=v.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=v.memoizedProps,d.memoizedState=v.memoizedState,d.updateQueue=v.updateQueue,d.type=v.type,n=v.dependencies,d.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return We(Ze,Ze.current&1|2),i.child}n=n.sibling}d.tail!==null&&qe()>ro&&(i.flags|=128,c=!0,Ea(d,!1),i.lanes=4194304)}else{if(!c)if(n=Kl(v),n!==null){if(i.flags|=128,c=!0,a=n.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Ea(d,!0),d.tail===null&&d.tailMode==="hidden"&&!v.alternate&&!Xe)return Lt(i),null}else 2*qe()-d.renderingStartTime>ro&&a!==1073741824&&(i.flags|=128,c=!0,Ea(d,!1),i.lanes=4194304);d.isBackwards?(v.sibling=i.child,i.child=v):(a=d.last,a!==null?a.sibling=v:i.child=v,d.last=v)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=qe(),i.sibling=null,a=Ze.current,We(Ze,c?a&1|2:a&1),i):(Lt(i),null);case 22:case 23:return Bh(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(on&1073741824)!==0&&(Lt(i),i.subtreeFlags&6&&(i.flags|=8192)):Lt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function ew(n,i){switch(Yc(i),i.tag){case 1:return Wt(i.type)&&Ml(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Zs(),Ge(Ht),Ge(xt),ch(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return lh(i),null;case 13:if(Ge(Ze),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Qs()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Ge(Ze),null;case 4:return Zs(),null;case 10:return rh(i.type._context),null;case 22:case 23:return Bh(),null;case 24:return null;default:return null}}var nu=!1,Mt=!1,tw=typeof WeakSet=="function"?WeakSet:Set,re=null;function to(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){rt(n,i,c)}else a.current=null}function Nh(n,i,a){try{a()}catch(c){rt(n,i,c)}}var mm=!1;function nw(n,i){if(Bc=fr,n=Kd(),Oc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,d=c.focusNode;c=c.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,I=-1,P=-1,F=0,K=0,G=n,W=null;t:for(;;){for(var ee;G!==a||f!==0&&G.nodeType!==3||(I=v+f),G!==d||c!==0&&G.nodeType!==3||(P=v+c),G.nodeType===3&&(v+=G.nodeValue.length),(ee=G.firstChild)!==null;)W=G,G=ee;for(;;){if(G===n)break t;if(W===a&&++F===f&&(I=v),W===d&&++K===c&&(P=v),(ee=G.nextSibling)!==null)break;G=W,W=G.parentNode}G=ee}a=I===-1||P===-1?null:{start:I,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for($c={focusedElem:n,selectionRange:a},fr=!1,re=i;re!==null;)if(i=re,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,re=n;else for(;re!==null;){i=re;try{var ie=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var oe=ie.memoizedProps,ot=ie.memoizedState,L=i.stateNode,D=L.getSnapshotBeforeUpdate(i.elementType===i.type?oe:Sn(i.type,oe),ot);L.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var b=i.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(J){rt(i,i.return,J)}if(n=i.sibling,n!==null){n.return=i.return,re=n;break}re=i.return}return ie=mm,mm=!1,ie}function wa(n,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&n)===n){var d=f.destroy;f.destroy=void 0,d!==void 0&&Nh(i,a,d)}f=f.next}while(f!==c)}}function ru(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function Dh(n){var i=n.ref;if(i!==null){var a=n.stateNode;n.tag,n=a,typeof i=="function"?i(n):i.current=n}}function gm(n){var i=n.alternate;i!==null&&(n.alternate=null,gm(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[qn],delete i[ca],delete i[Kc],delete i[FE],delete i[UE])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function ym(n){return n.tag===5||n.tag===3||n.tag===4}function _m(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ym(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Vh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ol));else if(c!==4&&(n=n.child,n!==null))for(Vh(n,i,a),n=n.sibling;n!==null;)Vh(n,i,a),n=n.sibling}function xh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(xh(n,i,a),n=n.sibling;n!==null;)xh(n,i,a),n=n.sibling}var Ct=null,An=!1;function ei(n,i,a){for(a=a.child;a!==null;)vm(n,i,a),a=a.sibling}function vm(n,i,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Mi,a)}catch{}switch(a.tag){case 5:Mt||to(a,i);case 6:var c=Ct,f=An;Ct=null,ei(n,i,a),Ct=c,An=f,Ct!==null&&(An?(n=Ct,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Ct.removeChild(a.stateNode));break;case 18:Ct!==null&&(An?(n=Ct,a=a.stateNode,n.nodeType===8?qc(n.parentNode,a):n.nodeType===1&&qc(n,a),Hr(n)):qc(Ct,a.stateNode));break;case 4:c=Ct,f=An,Ct=a.stateNode.containerInfo,An=!0,ei(n,i,a),Ct=c,An=f;break;case 0:case 11:case 14:case 15:if(!Mt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var d=f,v=d.destroy;d=d.tag,v!==void 0&&((d&2)!==0||(d&4)!==0)&&Nh(a,i,v),f=f.next}while(f!==c)}ei(n,i,a);break;case 1:if(!Mt&&(to(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(I){rt(a,i,I)}ei(n,i,a);break;case 21:ei(n,i,a);break;case 22:a.mode&1?(Mt=(c=Mt)||a.memoizedState!==null,ei(n,i,a),Mt=c):ei(n,i,a);break;default:ei(n,i,a)}}function Em(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new tw),i.forEach(function(c){var f=hw.bind(null,n,c);a.has(c)||(a.add(c),c.then(f,f))})}}function Cn(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var d=n,v=i,I=v;e:for(;I!==null;){switch(I.tag){case 5:Ct=I.stateNode,An=!1;break e;case 3:Ct=I.stateNode.containerInfo,An=!0;break e;case 4:Ct=I.stateNode.containerInfo,An=!0;break e}I=I.return}if(Ct===null)throw Error(t(160));vm(d,v,f),Ct=null,An=!1;var P=f.alternate;P!==null&&(P.return=null),f.return=null}catch(F){rt(f,i,F)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)wm(i,n),i=i.sibling}function wm(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Cn(i,n),Qn(n),c&4){try{wa(3,n,n.return),ru(3,n)}catch(oe){rt(n,n.return,oe)}try{wa(5,n,n.return)}catch(oe){rt(n,n.return,oe)}}break;case 1:Cn(i,n),Qn(n),c&512&&a!==null&&to(a,a.return);break;case 5:if(Cn(i,n),Qn(n),c&512&&a!==null&&to(a,a.return),n.flags&32){var f=n.stateNode;try{Di(f,"")}catch(oe){rt(n,n.return,oe)}}if(c&4&&(f=n.stateNode,f!=null)){var d=n.memoizedProps,v=a!==null?a.memoizedProps:d,I=n.type,P=n.updateQueue;if(n.updateQueue=null,P!==null)try{I==="input"&&d.type==="radio"&&d.name!=null&&vs(f,d),Ts(I,v);var F=Ts(I,d);for(v=0;v<P.length;v+=2){var K=P[v],G=P[v+1];K==="style"?ws(f,G):K==="dangerouslySetInnerHTML"?al(f,G):K==="children"?Di(f,G):ce(f,K,G,F)}switch(I){case"input":Ni(f,d);break;case"textarea":ol(f,d);break;case"select":var W=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!d.multiple;var ee=d.value;ee!=null?_n(f,!!d.multiple,ee,!1):W!==!!d.multiple&&(d.defaultValue!=null?_n(f,!!d.multiple,d.defaultValue,!0):_n(f,!!d.multiple,d.multiple?[]:"",!1))}f[ca]=d}catch(oe){rt(n,n.return,oe)}}break;case 6:if(Cn(i,n),Qn(n),c&4){if(n.stateNode===null)throw Error(t(162));f=n.stateNode,d=n.memoizedProps;try{f.nodeValue=d}catch(oe){rt(n,n.return,oe)}}break;case 3:if(Cn(i,n),Qn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Hr(i.containerInfo)}catch(oe){rt(n,n.return,oe)}break;case 4:Cn(i,n),Qn(n);break;case 13:Cn(i,n),Qn(n),f=n.child,f.flags&8192&&(d=f.memoizedState!==null,f.stateNode.isHidden=d,!d||f.alternate!==null&&f.alternate.memoizedState!==null||(Mh=qe())),c&4&&Em(n);break;case 22:if(K=a!==null&&a.memoizedState!==null,n.mode&1?(Mt=(F=Mt)||K,Cn(i,n),Mt=F):Cn(i,n),Qn(n),c&8192){if(F=n.memoizedState!==null,(n.stateNode.isHidden=F)&&!K&&(n.mode&1)!==0)for(re=n,K=n.child;K!==null;){for(G=re=K;re!==null;){switch(W=re,ee=W.child,W.tag){case 0:case 11:case 14:case 15:wa(4,W,W.return);break;case 1:to(W,W.return);var ie=W.stateNode;if(typeof ie.componentWillUnmount=="function"){c=W,a=W.return;try{i=c,ie.props=i.memoizedProps,ie.state=i.memoizedState,ie.componentWillUnmount()}catch(oe){rt(c,a,oe)}}break;case 5:to(W,W.return);break;case 22:if(W.memoizedState!==null){Sm(G);continue}}ee!==null?(ee.return=W,re=ee):Sm(G)}K=K.sibling}e:for(K=null,G=n;;){if(G.tag===5){if(K===null){K=G;try{f=G.stateNode,F?(d=f.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(I=G.stateNode,P=G.memoizedProps.style,v=P!=null&&P.hasOwnProperty("display")?P.display:null,I.style.display=Lr("display",v))}catch(oe){rt(n,n.return,oe)}}}else if(G.tag===6){if(K===null)try{G.stateNode.nodeValue=F?"":G.memoizedProps}catch(oe){rt(n,n.return,oe)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===n)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===n)break e;for(;G.sibling===null;){if(G.return===null||G.return===n)break e;K===G&&(K=null),G=G.return}K===G&&(K=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:Cn(i,n),Qn(n),c&4&&Em(n);break;case 21:break;default:Cn(i,n),Qn(n)}}function Qn(n){var i=n.flags;if(i&2){try{e:{for(var a=n.return;a!==null;){if(ym(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Di(f,""),c.flags&=-33);var d=_m(n);xh(n,d,f);break;case 3:case 4:var v=c.stateNode.containerInfo,I=_m(n);Vh(n,I,v);break;default:throw Error(t(161))}}catch(P){rt(n,n.return,P)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function rw(n,i,a){re=n,Tm(n)}function Tm(n,i,a){for(var c=(n.mode&1)!==0;re!==null;){var f=re,d=f.child;if(f.tag===22&&c){var v=f.memoizedState!==null||nu;if(!v){var I=f.alternate,P=I!==null&&I.memoizedState!==null||Mt;I=nu;var F=Mt;if(nu=v,(Mt=P)&&!F)for(re=f;re!==null;)v=re,P=v.child,v.tag===22&&v.memoizedState!==null?Am(f):P!==null?(P.return=v,re=P):Am(f);for(;d!==null;)re=d,Tm(d),d=d.sibling;re=f,nu=I,Mt=F}Im(n)}else(f.subtreeFlags&8772)!==0&&d!==null?(d.return=f,re=d):Im(n)}}function Im(n){for(;re!==null;){var i=re;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Mt||ru(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Mt)if(a===null)c.componentDidMount();else{var f=i.elementType===i.type?a.memoizedProps:Sn(i.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var d=i.updateQueue;d!==null&&Sp(i,d,c);break;case 3:var v=i.updateQueue;if(v!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Sp(i,v,a)}break;case 5:var I=i.stateNode;if(a===null&&i.flags&4){a=I;var P=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var F=i.alternate;if(F!==null){var K=F.memoizedState;if(K!==null){var G=K.dehydrated;G!==null&&Hr(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Mt||i.flags&512&&Dh(i)}catch(W){rt(i,i.return,W)}}if(i===n){re=null;break}if(a=i.sibling,a!==null){a.return=i.return,re=a;break}re=i.return}}function Sm(n){for(;re!==null;){var i=re;if(i===n){re=null;break}var a=i.sibling;if(a!==null){a.return=i.return,re=a;break}re=i.return}}function Am(n){for(;re!==null;){var i=re;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{ru(4,i)}catch(P){rt(i,a,P)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var f=i.return;try{c.componentDidMount()}catch(P){rt(i,f,P)}}var d=i.return;try{Dh(i)}catch(P){rt(i,d,P)}break;case 5:var v=i.return;try{Dh(i)}catch(P){rt(i,v,P)}}}catch(P){rt(i,i.return,P)}if(i===n){re=null;break}var I=i.sibling;if(I!==null){I.return=i.return,re=I;break}re=i.return}}var iw=Math.ceil,iu=we.ReactCurrentDispatcher,Oh=we.ReactCurrentOwner,dn=we.ReactCurrentBatchConfig,Le=0,Et=null,ct=null,Rt=0,on=0,no=Qr(0),mt=0,Ta=null,Xi=0,su=0,Lh=0,Ia=null,Kt=null,Mh=0,ro=1/0,Tr=null,ou=!1,bh=null,ti=null,au=!1,ni=null,lu=0,Sa=0,Fh=null,uu=-1,cu=0;function $t(){return(Le&6)!==0?qe():uu!==-1?uu:uu=qe()}function ri(n){return(n.mode&1)===0?1:(Le&2)!==0&&Rt!==0?Rt&-Rt:zE.transition!==null?(cu===0&&(cu=Wo()),cu):(n=De,n!==0||(n=window.event,n=n===void 0?16:Vs(n.type)),n)}function Rn(n,i,a,c){if(50<Sa)throw Sa=0,Fh=null,Error(t(185));ji(n,a,c),((Le&2)===0||n!==Et)&&(n===Et&&((Le&2)===0&&(su|=a),mt===4&&ii(n,Rt)),Gt(n,c),a===1&&Le===0&&(i.mode&1)===0&&(ro=qe()+500,Fl&&Yr()))}function Gt(n,i){var a=n.callbackNode;Ui(n,i);var c=ur(n,n===Et?Rt:0);if(c===0)a!==null&&As(a),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(a!=null&&As(a),i===1)n.tag===0?jE(Rm.bind(null,n)):fp(Rm.bind(null,n)),ME(function(){(Le&6)===0&&Yr()}),a=null;else{switch(Mn(c)){case 1:a=Cs;break;case 4:a=Bo;break;case 16:a=Li;break;case 536870912:a=Rs;break;default:a=Li}a=Lm(a,Cm.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function Cm(n,i){if(uu=-1,cu=0,(Le&6)!==0)throw Error(t(327));var a=n.callbackNode;if(io()&&n.callbackNode!==a)return null;var c=ur(n,n===Et?Rt:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||i)i=hu(n,c);else{i=c;var f=Le;Le|=2;var d=km();(Et!==n||Rt!==i)&&(Tr=null,ro=qe()+500,es(n,i));do try{aw();break}catch(I){Pm(n,I)}while(!0);nh(),iu.current=d,Le=f,ct!==null?i=0:(Et=null,Rt=0,i=mt)}if(i!==0){if(i===2&&(f=Ho(n),f!==0&&(c=f,i=Uh(n,f))),i===1)throw a=Ta,es(n,0),ii(n,c),Gt(n,qe()),a;if(i===6)ii(n,c);else{if(f=n.current.alternate,(c&30)===0&&!sw(f)&&(i=hu(n,c),i===2&&(d=Ho(n),d!==0&&(c=d,i=Uh(n,d))),i===1))throw a=Ta,es(n,0),ii(n,c),Gt(n,qe()),a;switch(n.finishedWork=f,n.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:ts(n,Kt,Tr);break;case 3:if(ii(n,c),(c&130023424)===c&&(i=Mh+500-qe(),10<i)){if(ur(n,0)!==0)break;if(f=n.suspendedLanes,(f&c)!==c){$t(),n.pingedLanes|=n.suspendedLanes&f;break}n.timeoutHandle=Wc(ts.bind(null,n,Kt,Tr),i);break}ts(n,Kt,Tr);break;case 4:if(ii(n,c),(c&4194240)===c)break;for(i=n.eventTimes,f=-1;0<c;){var v=31-Xt(c);d=1<<v,v=i[v],v>f&&(f=v),c&=~d}if(c=f,c=qe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*iw(c/1960))-c,10<c){n.timeoutHandle=Wc(ts.bind(null,n,Kt,Tr),c);break}ts(n,Kt,Tr);break;case 5:ts(n,Kt,Tr);break;default:throw Error(t(329))}}}return Gt(n,qe()),n.callbackNode===a?Cm.bind(null,n):null}function Uh(n,i){var a=Ia;return n.current.memoizedState.isDehydrated&&(es(n,i).flags|=256),n=hu(n,i),n!==2&&(i=Kt,Kt=a,i!==null&&jh(i)),n}function jh(n){Kt===null?Kt=n:Kt.push.apply(Kt,n)}function sw(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],d=f.getSnapshot;f=f.value;try{if(!Tn(d(),f))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ii(n,i){for(i&=~Lh,i&=~su,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-Xt(i),c=1<<a;n[a]=-1,i&=~c}}function Rm(n){if((Le&6)!==0)throw Error(t(327));io();var i=ur(n,0);if((i&1)===0)return Gt(n,qe()),null;var a=hu(n,i);if(n.tag!==0&&a===2){var c=Ho(n);c!==0&&(i=c,a=Uh(n,c))}if(a===1)throw a=Ta,es(n,0),ii(n,i),Gt(n,qe()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,ts(n,Kt,Tr),Gt(n,qe()),null}function zh(n,i){var a=Le;Le|=1;try{return n(i)}finally{Le=a,Le===0&&(ro=qe()+500,Fl&&Yr())}}function Zi(n){ni!==null&&ni.tag===0&&(Le&6)===0&&io();var i=Le;Le|=1;var a=dn.transition,c=De;try{if(dn.transition=null,De=1,n)return n()}finally{De=c,dn.transition=a,Le=i,(Le&6)===0&&Yr()}}function Bh(){on=no.current,Ge(no)}function es(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,LE(a)),ct!==null)for(a=ct.return;a!==null;){var c=a;switch(Yc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Ml();break;case 3:Zs(),Ge(Ht),Ge(xt),ch();break;case 5:lh(c);break;case 4:Zs();break;case 13:Ge(Ze);break;case 19:Ge(Ze);break;case 10:rh(c.type._context);break;case 22:case 23:Bh()}a=a.return}if(Et=n,ct=n=si(n.current,null),Rt=on=i,mt=0,Ta=null,Lh=su=Xi=0,Kt=Ia=null,Qi!==null){for(i=0;i<Qi.length;i++)if(a=Qi[i],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,d=a.pending;if(d!==null){var v=d.next;d.next=f,c.next=v}a.pending=c}Qi=null}return n}function Pm(n,i){do{var a=ct;try{if(nh(),Gl.current=Xl,Ql){for(var c=et.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Ql=!1}if(Yi=0,vt=pt=et=null,ga=!1,ya=0,Oh.current=null,a===null||a.return===null){mt=1,Ta=i,ct=null;break}e:{var d=n,v=a.return,I=a,P=i;if(i=Rt,I.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var F=P,K=I,G=K.tag;if((K.mode&1)===0&&(G===0||G===11||G===15)){var W=K.alternate;W?(K.updateQueue=W.updateQueue,K.memoizedState=W.memoizedState,K.lanes=W.lanes):(K.updateQueue=null,K.memoizedState=null)}var ee=Zp(v);if(ee!==null){ee.flags&=-257,em(ee,v,I,d,i),ee.mode&1&&Xp(d,F,i),i=ee,P=F;var ie=i.updateQueue;if(ie===null){var oe=new Set;oe.add(P),i.updateQueue=oe}else ie.add(P);break e}else{if((i&1)===0){Xp(d,F,i),$h();break e}P=Error(t(426))}}else if(Xe&&I.mode&1){var ot=Zp(v);if(ot!==null){(ot.flags&65536)===0&&(ot.flags|=256),em(ot,v,I,d,i),eh(eo(P,I));break e}}d=P=eo(P,I),mt!==4&&(mt=2),Ia===null?Ia=[d]:Ia.push(d),d=v;do{switch(d.tag){case 3:d.flags|=65536,i&=-i,d.lanes|=i;var L=Jp(d,P,i);Ip(d,L);break e;case 1:I=P;var D=d.type,b=d.stateNode;if((d.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ti===null||!ti.has(b)))){d.flags|=65536,i&=-i,d.lanes|=i;var J=Yp(d,I,i);Ip(d,J);break e}}d=d.return}while(d!==null)}Dm(a)}catch(le){i=le,ct===a&&a!==null&&(ct=a=a.return);continue}break}while(!0)}function km(){var n=iu.current;return iu.current=Xl,n===null?Xl:n}function $h(){(mt===0||mt===3||mt===2)&&(mt=4),Et===null||(Xi&268435455)===0&&(su&268435455)===0||ii(Et,Rt)}function hu(n,i){var a=Le;Le|=2;var c=km();(Et!==n||Rt!==i)&&(Tr=null,es(n,i));do try{ow();break}catch(f){Pm(n,f)}while(!0);if(nh(),Le=a,iu.current=c,ct!==null)throw Error(t(261));return Et=null,Rt=0,mt}function ow(){for(;ct!==null;)Nm(ct)}function aw(){for(;ct!==null&&!Oi();)Nm(ct)}function Nm(n){var i=Om(n.alternate,n,on);n.memoizedProps=n.pendingProps,i===null?Dm(n):ct=i,Oh.current=null}function Dm(n){var i=n;do{var a=i.alternate;if(n=i.return,(i.flags&32768)===0){if(a=ZE(a,i,on),a!==null){ct=a;return}}else{if(a=ew(a,i),a!==null){a.flags&=32767,ct=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{mt=6,ct=null;return}}if(i=i.sibling,i!==null){ct=i;return}ct=i=n}while(i!==null);mt===0&&(mt=5)}function ts(n,i,a){var c=De,f=dn.transition;try{dn.transition=null,De=1,lw(n,i,a,c)}finally{dn.transition=f,De=c}return null}function lw(n,i,a,c){do io();while(ni!==null);if((Le&6)!==0)throw Error(t(327));a=n.finishedWork;var f=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var d=a.lanes|a.childLanes;if(kc(n,d),n===Et&&(ct=Et=null,Rt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||au||(au=!0,Lm(Li,function(){return io(),null})),d=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||d){d=dn.transition,dn.transition=null;var v=De;De=1;var I=Le;Le|=4,Oh.current=null,nw(n,a),wm(a,n),PE($c),fr=!!Bc,$c=Bc=null,n.current=a,rw(a),lr(),Le=I,De=v,dn.transition=d}else n.current=a;if(au&&(au=!1,ni=n,lu=f),d=n.pendingLanes,d===0&&(ti=null),_l(a.stateNode),Gt(n,qe()),i!==null)for(c=n.onRecoverableError,a=0;a<i.length;a++)f=i[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(ou)throw ou=!1,n=bh,bh=null,n;return(lu&1)!==0&&n.tag!==0&&io(),d=n.pendingLanes,(d&1)!==0?n===Fh?Sa++:(Sa=0,Fh=n):Sa=0,Yr(),null}function io(){if(ni!==null){var n=Mn(lu),i=dn.transition,a=De;try{if(dn.transition=null,De=16>n?16:n,ni===null)var c=!1;else{if(n=ni,ni=null,lu=0,(Le&6)!==0)throw Error(t(331));var f=Le;for(Le|=4,re=n.current;re!==null;){var d=re,v=d.child;if((re.flags&16)!==0){var I=d.deletions;if(I!==null){for(var P=0;P<I.length;P++){var F=I[P];for(re=F;re!==null;){var K=re;switch(K.tag){case 0:case 11:case 15:wa(8,K,d)}var G=K.child;if(G!==null)G.return=K,re=G;else for(;re!==null;){K=re;var W=K.sibling,ee=K.return;if(gm(K),K===F){re=null;break}if(W!==null){W.return=ee,re=W;break}re=ee}}}var ie=d.alternate;if(ie!==null){var oe=ie.child;if(oe!==null){ie.child=null;do{var ot=oe.sibling;oe.sibling=null,oe=ot}while(oe!==null)}}re=d}}if((d.subtreeFlags&2064)!==0&&v!==null)v.return=d,re=v;else e:for(;re!==null;){if(d=re,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:wa(9,d,d.return)}var L=d.sibling;if(L!==null){L.return=d.return,re=L;break e}re=d.return}}var D=n.current;for(re=D;re!==null;){v=re;var b=v.child;if((v.subtreeFlags&2064)!==0&&b!==null)b.return=v,re=b;else e:for(v=D;re!==null;){if(I=re,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:ru(9,I)}}catch(le){rt(I,I.return,le)}if(I===v){re=null;break e}var J=I.sibling;if(J!==null){J.return=I.return,re=J;break e}re=I.return}}if(Le=f,Yr(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Mi,n)}catch{}c=!0}return c}finally{De=a,dn.transition=i}}return!1}function Vm(n,i,a){i=eo(a,i),i=Jp(n,i,1),n=Zr(n,i,1),i=$t(),n!==null&&(ji(n,1,i),Gt(n,i))}function rt(n,i,a){if(n.tag===3)Vm(n,n,a);else for(;i!==null;){if(i.tag===3){Vm(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ti===null||!ti.has(c))){n=eo(a,n),n=Yp(i,n,1),i=Zr(i,n,1),n=$t(),i!==null&&(ji(i,1,n),Gt(i,n));break}}i=i.return}}function uw(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),i=$t(),n.pingedLanes|=n.suspendedLanes&a,Et===n&&(Rt&a)===a&&(mt===4||mt===3&&(Rt&130023424)===Rt&&500>qe()-Mh?es(n,0):Lh|=a),Gt(n,i)}function xm(n,i){i===0&&((n.mode&1)===0?i=1:(i=zr,zr<<=1,(zr&130023424)===0&&(zr=4194304)));var a=$t();n=vr(n,i),n!==null&&(ji(n,i,a),Gt(n,a))}function cw(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),xm(n,a)}function hw(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),xm(n,a)}var Om;Om=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||Ht.current)qt=!0;else{if((n.lanes&a)===0&&(i.flags&128)===0)return qt=!1,XE(n,i,a);qt=(n.flags&131072)!==0}else qt=!1,Xe&&(i.flags&1048576)!==0&&dp(i,jl,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;tu(n,i),n=i.pendingProps;var f=qs(i,xt.current);Xs(i,a),f=dh(null,i,c,n,f,a);var d=ph();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Wt(c)?(d=!0,bl(i)):d=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,oh(i),f.updater=Zl,i.stateNode=f,f._reactInternals=i,Eh(i,c,n,a),i=Sh(null,i,c,!0,d,a)):(i.tag=0,Xe&&d&&Jc(i),Bt(null,i,f,a),i=i.child),i;case 16:c=i.elementType;e:{switch(tu(n,i),n=i.pendingProps,f=c._init,c=f(c._payload),i.type=c,f=i.tag=dw(c),n=Sn(c,n),f){case 0:i=Ih(null,i,c,n,a);break e;case 1:i=om(null,i,c,n,a);break e;case 11:i=tm(null,i,c,n,a);break e;case 14:i=nm(null,i,c,Sn(c.type,n),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Sn(c,f),Ih(n,i,c,f,a);case 1:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Sn(c,f),om(n,i,c,f,a);case 3:e:{if(am(i),n===null)throw Error(t(387));c=i.pendingProps,d=i.memoizedState,f=d.element,Tp(n,i),ql(i,c,null,a);var v=i.memoizedState;if(c=v.element,d.isDehydrated)if(d={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){f=eo(Error(t(423)),i),i=lm(n,i,c,a,f);break e}else if(c!==f){f=eo(Error(t(424)),i),i=lm(n,i,c,a,f);break e}else for(sn=Gr(i.stateNode.containerInfo.firstChild),rn=i,Xe=!0,In=null,a=Ep(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Qs(),c===f){i=wr(n,i,a);break e}Bt(n,i,c,a)}i=i.child}return i;case 5:return Ap(i),n===null&&Zc(i),c=i.type,f=i.pendingProps,d=n!==null?n.memoizedProps:null,v=f.children,Hc(c,f)?v=null:d!==null&&Hc(c,d)&&(i.flags|=32),sm(n,i),Bt(n,i,v,a),i.child;case 6:return n===null&&Zc(i),null;case 13:return um(n,i,a);case 4:return ah(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=Js(i,null,c,a):Bt(n,i,c,a),i.child;case 11:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Sn(c,f),tm(n,i,c,f,a);case 7:return Bt(n,i,i.pendingProps,a),i.child;case 8:return Bt(n,i,i.pendingProps.children,a),i.child;case 12:return Bt(n,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,f=i.pendingProps,d=i.memoizedProps,v=f.value,We($l,c._currentValue),c._currentValue=v,d!==null)if(Tn(d.value,v)){if(d.children===f.children&&!Ht.current){i=wr(n,i,a);break e}}else for(d=i.child,d!==null&&(d.return=i);d!==null;){var I=d.dependencies;if(I!==null){v=d.child;for(var P=I.firstContext;P!==null;){if(P.context===c){if(d.tag===1){P=Er(-1,a&-a),P.tag=2;var F=d.updateQueue;if(F!==null){F=F.shared;var K=F.pending;K===null?P.next=P:(P.next=K.next,K.next=P),F.pending=P}}d.lanes|=a,P=d.alternate,P!==null&&(P.lanes|=a),ih(d.return,a,i),I.lanes|=a;break}P=P.next}}else if(d.tag===10)v=d.type===i.type?null:d.child;else if(d.tag===18){if(v=d.return,v===null)throw Error(t(341));v.lanes|=a,I=v.alternate,I!==null&&(I.lanes|=a),ih(v,a,i),v=d.sibling}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===i){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}Bt(n,i,f.children,a),i=i.child}return i;case 9:return f=i.type,c=i.pendingProps.children,Xs(i,a),f=hn(f),c=c(f),i.flags|=1,Bt(n,i,c,a),i.child;case 14:return c=i.type,f=Sn(c,i.pendingProps),f=Sn(c.type,f),nm(n,i,c,f,a);case 15:return rm(n,i,i.type,i.pendingProps,a);case 17:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Sn(c,f),tu(n,i),i.tag=1,Wt(c)?(n=!0,bl(i)):n=!1,Xs(i,a),Gp(i,c,f),Eh(i,c,f,a),Sh(null,i,c,!0,n,a);case 19:return hm(n,i,a);case 22:return im(n,i,a)}throw Error(t(156,i.tag))};function Lm(n,i){return zo(n,i)}function fw(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(n,i,a,c){return new fw(n,i,a,c)}function Hh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function dw(n){if(typeof n=="function")return Hh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===O)return 11;if(n===_t)return 14}return 2}function si(n,i){var a=n.alternate;return a===null?(a=pn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function fu(n,i,a,c,f,d){var v=2;if(c=n,typeof n=="function")Hh(n)&&(v=1);else if(typeof n=="string")v=5;else e:switch(n){case k:return ns(a.children,f,d,i);case S:v=8,f|=8;break;case R:return n=pn(12,a,i,f|2),n.elementType=R,n.lanes=d,n;case A:return n=pn(13,a,i,f),n.elementType=A,n.lanes=d,n;case He:return n=pn(19,a,i,f),n.elementType=He,n.lanes=d,n;case Ye:return du(a,f,d,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case V:v=10;break e;case N:v=9;break e;case O:v=11;break e;case _t:v=14;break e;case Dt:v=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=pn(v,a,i,f),i.elementType=n,i.type=c,i.lanes=d,i}function ns(n,i,a,c){return n=pn(7,n,c,i),n.lanes=a,n}function du(n,i,a,c){return n=pn(22,n,c,i),n.elementType=Ye,n.lanes=a,n.stateNode={isHidden:!1},n}function Wh(n,i,a){return n=pn(6,n,null,i),n.lanes=a,n}function qh(n,i,a){return i=pn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function pw(n,i,a,c,f){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qo(0),this.expirationTimes=qo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qo(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Kh(n,i,a,c,f,d,v,I,P){return n=new pw(n,i,a,I,P),i===1?(i=1,d===!0&&(i|=8)):i=0,d=pn(3,null,null,i),n.current=d,d.stateNode=n,d.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},oh(d),n}function mw(n,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xe,key:c==null?null:""+c,children:n,containerInfo:i,implementation:a}}function Mm(n){if(!n)return Jr;n=n._reactInternals;e:{if(En(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Wt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Wt(a))return cp(n,a,i)}return i}function bm(n,i,a,c,f,d,v,I,P){return n=Kh(a,c,!0,n,f,d,v,I,P),n.context=Mm(null),a=n.current,c=$t(),f=ri(a),d=Er(c,f),d.callback=i??null,Zr(a,d,f),n.current.lanes=f,ji(n,f,c),Gt(n,c),n}function pu(n,i,a,c){var f=i.current,d=$t(),v=ri(f);return a=Mm(a),i.context===null?i.context=a:i.pendingContext=a,i=Er(d,v),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=Zr(f,i,v),n!==null&&(Rn(n,f,v,d),Wl(n,f,v)),v}function mu(n){return n=n.current,n.child?(n.child.tag===5,n.child.stateNode):null}function Fm(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Gh(n,i){Fm(n,i),(n=n.alternate)&&Fm(n,i)}function gw(){return null}var Um=typeof reportError=="function"?reportError:function(n){console.error(n)};function Qh(n){this._internalRoot=n}gu.prototype.render=Qh.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));pu(n,i,null,null)},gu.prototype.unmount=Qh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Zi(function(){pu(null,n,null,null)}),i[mr]=null}};function gu(n){this._internalRoot=n}gu.prototype.unstable_scheduleHydration=function(n){if(n){var i=Jo();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Zt.length&&i!==0&&i<Zt[a].priority;a++);Zt.splice(a,0,n),a===0&&Ns(n)}};function Jh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function yu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function jm(){}function yw(n,i,a,c,f){if(f){if(typeof c=="function"){var d=c;c=function(){var F=mu(v);d.call(F)}}var v=bm(i,c,n,0,null,!1,!1,"",jm);return n._reactRootContainer=v,n[mr]=v.current,la(n.nodeType===8?n.parentNode:n),Zi(),v}for(;f=n.lastChild;)n.removeChild(f);if(typeof c=="function"){var I=c;c=function(){var F=mu(P);I.call(F)}}var P=Kh(n,0,!1,null,null,!1,!1,"",jm);return n._reactRootContainer=P,n[mr]=P.current,la(n.nodeType===8?n.parentNode:n),Zi(function(){pu(i,P,a,c)}),P}function _u(n,i,a,c,f){var d=a._reactRootContainer;if(d){var v=d;if(typeof f=="function"){var I=f;f=function(){var P=mu(v);I.call(P)}}pu(i,v,n,f)}else v=yw(a,i,n,f,c);return mu(v)}Go=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=be(i.pendingLanes);a!==0&&(Ko(i,a|1),Gt(i,qe()),(Le&6)===0&&(ro=qe()+500,Yr()))}break;case 13:Zi(function(){var c=vr(n,1);if(c!==null){var f=$t();Rn(c,n,1,f)}}),Gh(n,1)}},Ps=function(n){if(n.tag===13){var i=vr(n,134217728);if(i!==null){var a=$t();Rn(i,n,134217728,a)}Gh(n,134217728)}},Qo=function(n){if(n.tag===13){var i=ri(n),a=vr(n,i);if(a!==null){var c=$t();Rn(a,n,i,c)}Gh(n,i)}},Jo=function(){return De},Yo=function(n,i){var a=De;try{return De=n,i()}finally{De=a}},sr=function(n,i,a){switch(i){case"input":if(Ni(n,a),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var f=Ll(c);if(!f)throw Error(t(90));Vo(c),Ni(c,f)}}}break;case"textarea":ol(n,a);break;case"select":i=a.value,i!=null&&_n(n,!!a.multiple,i,!1)}},ul=zh,cl=Zi;var _w={usingClientEntryPoint:!1,Events:[ha,Hs,Ll,br,Fr,zh]},Aa={findFiberByHostInstance:Wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vw={bundleType:Aa.bundleType,version:Aa.version,rendererPackageName:Aa.rendererPackageName,rendererConfig:Aa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:we.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=yl(n),n===null?null:n.stateNode},findFiberByHostInstance:Aa.findFiberByHostInstance||gw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vu.isDisabled&&vu.supportsFiber)try{Mi=vu.inject(vw),Yt=vu}catch{}}return Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_w,Qt.createPortal=function(n,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jh(i))throw Error(t(200));return mw(n,i,null,a)},Qt.createRoot=function(n,i){if(!Jh(n))throw Error(t(299));var a=!1,c="",f=Um;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=Kh(n,1,!1,null,null,a,!1,c,f),n[mr]=i.current,la(n.nodeType===8?n.parentNode:n),new Qh(i)},Qt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=yl(i),n=n===null?null:n.stateNode,n},Qt.flushSync=function(n){return Zi(n)},Qt.hydrate=function(n,i,a){if(!yu(i))throw Error(t(200));return _u(null,n,i,!0,a)},Qt.hydrateRoot=function(n,i,a){if(!Jh(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,f=!1,d="",v=Um;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),i=bm(i,null,n,1,a??null,f,!1,d,v),n[mr]=i.current,la(n),c)for(n=0;n<c.length;n++)a=c[n],f=a._getVersion,f=f(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,f]:i.mutableSourceEagerHydrationData.push(a,f);return new gu(i)},Qt.render=function(n,i,a){if(!yu(i))throw Error(t(200));return _u(null,n,i,!1,a)},Qt.unmountComponentAtNode=function(n){if(!yu(n))throw Error(t(40));return n._reactRootContainer?(Zi(function(){_u(null,null,n,!1,function(){n._reactRootContainer=null,n[mr]=null})}),!0):!1},Qt.unstable_batchedUpdates=zh,Qt.unstable_renderSubtreeIntoContainer=function(n,i,a,c){if(!yu(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return _u(n,i,a,!1,c)},Qt.version="18.3.1-next-f1338f8080-20240426",Qt}var Gm;function xy(){if(Gm)return Zh.exports;Gm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Zh.exports=Pw(),Zh.exports}var Qm;function kw(){if(Qm)return Eu;Qm=1;var r=xy();return Eu.createRoot=r.createRoot,Eu.hydrateRoot=r.hydrateRoot,Eu}var Nw=kw();const Dw=Dy(Nw);xy();function ba(){return ba=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},ba.apply(this,arguments)}var fi;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(fi||(fi={}));const Jm="popstate";function Vw(r){r===void 0&&(r={});function e(o,u){let{pathname:h="/",search:m="",hash:g=""}=hs(o.location.hash.substr(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),gf("",{pathname:h,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function t(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let g=o.location.href,_=g.indexOf("#");m=_===-1?g:g.slice(0,_)}return m+"#"+(typeof u=="string"?u:Fu(u))}function s(o,u){sc(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(u)+")")}return Ow(e,t,s,r)}function dt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function sc(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xw(){return Math.random().toString(36).substr(2,8)}function Ym(r,e){return{usr:r.state,key:r.key,idx:e}}function gf(r,e,t,s){return t===void 0&&(t=null),ba({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?hs(e):e,{state:t,key:e&&e.key||s||xw()})}function Fu(r){let{pathname:e="/",search:t="",hash:s=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function hs(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substr(s),r=r.substr(0,s)),r&&(e.pathname=r)}return e}function Ow(r,e,t,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m=fi.Pop,g=null,_=w();_==null&&(_=0,h.replaceState(ba({},h.state,{idx:_}),""));function w(){return(h.state||{idx:null}).idx}function T(){m=fi.Pop;let j=w(),se=j==null?null:j-_;_=j,g&&g({action:m,location:H.location,delta:se})}function C(j,se){m=fi.Push;let ae=gf(H.location,j,se);t&&t(ae,j),_=w()+1;let ce=Ym(ae,_),we=H.createHref(ae);try{h.pushState(ce,"",we)}catch(Fe){if(Fe instanceof DOMException&&Fe.name==="DataCloneError")throw Fe;o.location.assign(we)}u&&g&&g({action:m,location:H.location,delta:1})}function z(j,se){m=fi.Replace;let ae=gf(H.location,j,se);t&&t(ae,j),_=w();let ce=Ym(ae,_),we=H.createHref(ae);h.replaceState(ce,"",we),u&&g&&g({action:m,location:H.location,delta:0})}function Q(j){let se=o.location.origin!=="null"?o.location.origin:o.location.href,ae=typeof j=="string"?j:Fu(j);return ae=ae.replace(/ $/,"%20"),dt(se,"No window.location.(origin|href) available to create URL for href: "+ae),new URL(ae,se)}let H={get action(){return m},get location(){return r(o,h)},listen(j){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Jm,T),g=j,()=>{o.removeEventListener(Jm,T),g=null}},createHref(j){return e(o,j)},createURL:Q,encodeLocation(j){let se=Q(j);return{pathname:se.pathname,search:se.search,hash:se.hash}},push:C,replace:z,go(j){return h.go(j)}};return H}var Xm;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(Xm||(Xm={}));function Lw(r,e,t){return t===void 0&&(t="/"),Mw(r,e,t)}function Mw(r,e,t,s){let o=typeof e=="string"?hs(e):e,u=Wf(o.pathname||"/",t);if(u==null)return null;let h=Oy(r);bw(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let _=Qw(u);m=qw(h[g],_)}return m}function Oy(r,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let o=(u,h,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(dt(g.relativePath.startsWith(s),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(s.length));let _=pi([s,g.relativePath]),w=t.concat(g);u.children&&u.children.length>0&&(dt(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),Oy(u.children,e,w,_)),!(u.path==null&&!u.index)&&e.push({path:_,score:Hw(_,u.index),routesMeta:w})};return r.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let g of Ly(u.path))o(u,h,g)}),e}function Ly(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=Ly(s.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...h),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function bw(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:Ww(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const Fw=/^:[\w-]+$/,Uw=3,jw=2,zw=1,Bw=10,$w=-2,Zm=r=>r==="*";function Hw(r,e){let t=r.split("/"),s=t.length;return t.some(Zm)&&(s+=$w),e&&(s+=jw),t.filter(o=>!Zm(o)).reduce((o,u)=>o+(Fw.test(u)?Uw:u===""?zw:Bw),s)}function Ww(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function qw(r,e,t){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],_=m===s.length-1,w=u==="/"?e:e.slice(u.length)||"/",T=Kw({path:g.relativePath,caseSensitive:g.caseSensitive,end:_},w),C=g.route;if(!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:pi([u,T.pathname]),pathnameBase:eT(pi([u,T.pathnameBase])),route:C}),T.pathnameBase!=="/"&&(u=pi([u,T.pathnameBase]))}return h}function Kw(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=Gw(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((_,w,T)=>{let{paramName:C,isOptional:z}=w;if(C==="*"){let H=m[T]||"";h=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const Q=m[T];return z&&!Q?_[C]=void 0:_[C]=(Q||"").replace(/%2F/g,"/"),_},{}),pathname:u,pathnameBase:h,pattern:r}}function Gw(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),sc(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Qw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sc(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function Wf(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}const Jw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yw=r=>Jw.test(r);function Xw(r,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?hs(r):r,u;if(t)if(Yw(t))u=t;else{if(t.includes("//")){let h=t;t=t.replace(/\/\/+/g,"/"),sc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(h+" -> "+t))}t.startsWith("/")?u=eg(t.substring(1),"/"):u=eg(t,e)}else u=e;return{pathname:u,search:tT(s),hash:nT(o)}}function eg(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function nf(r,e,t,s){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zw(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function My(r,e){let t=Zw(r);return e?t.map((s,o)=>o===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function by(r,e,t,s){s===void 0&&(s=!1);let o;typeof r=="string"?o=hs(r):(o=ba({},r),dt(!o.pathname||!o.pathname.includes("?"),nf("?","pathname","search",o)),dt(!o.pathname||!o.pathname.includes("#"),nf("#","pathname","hash",o)),dt(!o.search||!o.search.includes("#"),nf("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=t;else{let T=e.length-1;if(!s&&h.startsWith("..")){let C=h.split("/");for(;C[0]==="..";)C.shift(),T-=1;o.pathname=C.join("/")}m=T>=0?e[T]:"/"}let g=Xw(o,m),_=h&&h!=="/"&&h.endsWith("/"),w=(u||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(_||w)&&(g.pathname+="/"),g}const pi=r=>r.join("/").replace(/\/\/+/g,"/"),eT=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),tT=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,nT=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function rT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const Fy=["post","put","patch","delete"];new Set(Fy);const iT=["get",...Fy];new Set(iT);function Fa(){return Fa=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Fa.apply(this,arguments)}const qf=Z.createContext(null),sT=Z.createContext(null),fs=Z.createContext(null),oc=Z.createContext(null),ki=Z.createContext({outlet:null,matches:[],isDataRoute:!1}),Uy=Z.createContext(null);function oT(r,e){let{relative:t}=e===void 0?{}:e;Ga()||dt(!1);let{basename:s,navigator:o}=Z.useContext(fs),{hash:u,pathname:h,search:m}=zy(r,{relative:t}),g=h;return s!=="/"&&(g=h==="/"?s:pi([s,h])),o.createHref({pathname:g,search:m,hash:u})}function Ga(){return Z.useContext(oc)!=null}function ac(){return Ga()||dt(!1),Z.useContext(oc).location}function jy(r){Z.useContext(fs).static||Z.useLayoutEffect(r)}function aT(){let{isDataRoute:r}=Z.useContext(ki);return r?wT():lT()}function lT(){Ga()||dt(!1);let r=Z.useContext(qf),{basename:e,future:t,navigator:s}=Z.useContext(fs),{matches:o}=Z.useContext(ki),{pathname:u}=ac(),h=JSON.stringify(My(o,t.v7_relativeSplatPath)),m=Z.useRef(!1);return jy(()=>{m.current=!0}),Z.useCallback(function(_,w){if(w===void 0&&(w={}),!m.current)return;if(typeof _=="number"){s.go(_);return}let T=by(_,JSON.parse(h),u,w.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:pi([e,T.pathname])),(w.replace?s.replace:s.push)(T,w.state,w)},[e,s,h,u,r])}function uT(){let{matches:r}=Z.useContext(ki),e=r[r.length-1];return e?e.params:{}}function zy(r,e){let{relative:t}=e===void 0?{}:e,{future:s}=Z.useContext(fs),{matches:o}=Z.useContext(ki),{pathname:u}=ac(),h=JSON.stringify(My(o,s.v7_relativeSplatPath));return Z.useMemo(()=>by(r,JSON.parse(h),u,t==="path"),[r,h,u,t])}function cT(r,e){return hT(r,e)}function hT(r,e,t,s){Ga()||dt(!1);let{navigator:o}=Z.useContext(fs),{matches:u}=Z.useContext(ki),h=u[u.length-1],m=h?h.params:{};h&&h.pathname;let g=h?h.pathnameBase:"/";h&&h.route;let _=ac(),w;if(e){var T;let j=typeof e=="string"?hs(e):e;g==="/"||(T=j.pathname)!=null&&T.startsWith(g)||dt(!1),w=j}else w=_;let C=w.pathname||"/",z=C;if(g!=="/"){let j=g.replace(/^\//,"").split("/");z="/"+C.replace(/^\//,"").split("/").slice(j.length).join("/")}let Q=Lw(r,{pathname:z}),H=gT(Q&&Q.map(j=>Object.assign({},j,{params:Object.assign({},m,j.params),pathname:pi([g,o.encodeLocation?o.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:pi([g,o.encodeLocation?o.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),u,t,s);return e&&H?Z.createElement(oc.Provider,{value:{location:Fa({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:fi.Pop}},H):H}function fT(){let r=ET(),e=rT(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),t?Z.createElement("pre",{style:o},t):null,null)}const dT=Z.createElement(fT,null);class pT extends Z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?Z.createElement(ki.Provider,{value:this.props.routeContext},Z.createElement(Uy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mT(r){let{routeContext:e,match:t,children:s}=r,o=Z.useContext(qf);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),Z.createElement(ki.Provider,{value:e},s)}function gT(r,e,t,s){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),r==null){var u;if(!t)return null;if(t.errors)r=t.matches;else if((u=s)!=null&&u.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let h=r,m=(o=t)==null?void 0:o.errors;if(m!=null){let w=h.findIndex(T=>T.route.id&&m?.[T.route.id]!==void 0);w>=0||dt(!1),h=h.slice(0,Math.min(h.length,w+1))}let g=!1,_=-1;if(t&&s&&s.v7_partialHydration)for(let w=0;w<h.length;w++){let T=h[w];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(_=w),T.route.id){let{loaderData:C,errors:z}=t,Q=T.route.loader&&C[T.route.id]===void 0&&(!z||z[T.route.id]===void 0);if(T.route.lazy||Q){g=!0,_>=0?h=h.slice(0,_+1):h=[h[0]];break}}}return h.reduceRight((w,T,C)=>{let z,Q=!1,H=null,j=null;t&&(z=m&&T.route.id?m[T.route.id]:void 0,H=T.route.errorElement||dT,g&&(_<0&&C===0?(TT("route-fallback"),Q=!0,j=null):_===C&&(Q=!0,j=T.route.hydrateFallbackElement||null)));let se=e.concat(h.slice(0,C+1)),ae=()=>{let ce;return z?ce=H:Q?ce=j:T.route.Component?ce=Z.createElement(T.route.Component,null):T.route.element?ce=T.route.element:ce=w,Z.createElement(mT,{match:T,routeContext:{outlet:w,matches:se,isDataRoute:t!=null},children:ce})};return t&&(T.route.ErrorBoundary||T.route.errorElement||C===0)?Z.createElement(pT,{location:t.location,revalidation:t.revalidation,component:H,error:z,children:ae(),routeContext:{outlet:null,matches:se,isDataRoute:!0}}):ae()},null)}var By=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(By||{}),$y=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})($y||{});function yT(r){let e=Z.useContext(qf);return e||dt(!1),e}function _T(r){let e=Z.useContext(sT);return e||dt(!1),e}function vT(r){let e=Z.useContext(ki);return e||dt(!1),e}function Hy(r){let e=vT(),t=e.matches[e.matches.length-1];return t.route.id||dt(!1),t.route.id}function ET(){var r;let e=Z.useContext(Uy),t=_T(),s=Hy();return e!==void 0?e:(r=t.errors)==null?void 0:r[s]}function wT(){let{router:r}=yT(By.UseNavigateStable),e=Hy($y.UseNavigateStable),t=Z.useRef(!1);return jy(()=>{t.current=!0}),Z.useCallback(function(o,u){u===void 0&&(u={}),t.current&&(typeof o=="number"?r.navigate(o):r.navigate(o,Fa({fromRouteId:e},u)))},[r,e])}const tg={};function TT(r,e,t){tg[r]||(tg[r]=!0)}function IT(r,e){r?.v7_startTransition,r?.v7_relativeSplatPath}function yf(r){dt(!1)}function ST(r){let{basename:e="/",children:t=null,location:s,navigationType:o=fi.Pop,navigator:u,static:h=!1,future:m}=r;Ga()&&dt(!1);let g=e.replace(/^\/*/,"/"),_=Z.useMemo(()=>({basename:g,navigator:u,static:h,future:Fa({v7_relativeSplatPath:!1},m)}),[g,m,u,h]);typeof s=="string"&&(s=hs(s));let{pathname:w="/",search:T="",hash:C="",state:z=null,key:Q="default"}=s,H=Z.useMemo(()=>{let j=Wf(w,g);return j==null?null:{location:{pathname:j,search:T,hash:C,state:z,key:Q},navigationType:o}},[g,w,T,C,z,Q,o]);return H==null?null:Z.createElement(fs.Provider,{value:_},Z.createElement(oc.Provider,{children:t,value:H}))}function AT(r){let{children:e,location:t}=r;return cT(_f(e),t)}new Promise(()=>{});function _f(r,e){e===void 0&&(e=[]);let t=[];return Z.Children.forEach(r,(s,o)=>{if(!Z.isValidElement(s))return;let u=[...e,o];if(s.type===Z.Fragment){t.push.apply(t,_f(s.props.children,u));return}s.type!==yf&&dt(!1),!s.props.index||!s.props.children||dt(!1);let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=_f(s.props.children,u)),t.push(h)}),t}function vf(){return vf=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},vf.apply(this,arguments)}function CT(r,e){if(r==null)return{};var t={},s=Object.keys(r),o,u;for(u=0;u<s.length;u++)o=s[u],!(e.indexOf(o)>=0)&&(t[o]=r[o]);return t}function RT(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function PT(r,e){return r.button===0&&(!e||e==="_self")&&!RT(r)}const kT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],NT="6";try{window.__reactRouterVersion=NT}catch{}const DT="startTransition",ng=Aw[DT];function VT(r){let{basename:e,children:t,future:s,window:o}=r,u=Z.useRef();u.current==null&&(u.current=Vw({window:o,v5Compat:!0}));let h=u.current,[m,g]=Z.useState({action:h.action,location:h.location}),{v7_startTransition:_}=s||{},w=Z.useCallback(T=>{_&&ng?ng(()=>g(T)):g(T)},[g,_]);return Z.useLayoutEffect(()=>h.listen(w),[h,w]),Z.useEffect(()=>IT(s),[s]),Z.createElement(ST,{basename:e,children:t,location:m.location,navigationType:m.action,navigator:h,future:s})}const xT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wy=Z.forwardRef(function(e,t){let{onClick:s,relative:o,reloadDocument:u,replace:h,state:m,target:g,to:_,preventScrollReset:w,viewTransition:T}=e,C=CT(e,kT),{basename:z}=Z.useContext(fs),Q,H=!1;if(typeof _=="string"&&OT.test(_)&&(Q=_,xT))try{let ce=new URL(window.location.href),we=_.startsWith("//")?new URL(ce.protocol+_):new URL(_),Fe=Wf(we.pathname,z);we.origin===ce.origin&&Fe!=null?_=Fe+we.search+we.hash:H=!0}catch{}let j=oT(_,{relative:o}),se=LT(_,{replace:h,state:m,target:g,preventScrollReset:w,relative:o,viewTransition:T});function ae(ce){s&&s(ce),ce.defaultPrevented||se(ce)}return Z.createElement("a",vf({},C,{href:Q||j,onClick:H||u?s:ae,ref:t,target:g}))});var rg;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(rg||(rg={}));var ig;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(ig||(ig={}));function LT(r,e){let{target:t,replace:s,state:o,preventScrollReset:u,relative:h,viewTransition:m}=e===void 0?{}:e,g=aT(),_=ac(),w=zy(r,{relative:h});return Z.useCallback(T=>{if(PT(T,t)){T.preventDefault();let C=s!==void 0?s:Fu(_)===Fu(w);g(r,{replace:C,state:o,preventScrollReset:u,relative:h,viewTransition:m})}},[_,g,w,s,o,t,r,u,h,m])}const MT=()=>{};var sg={};const qy=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},bT=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],h=r[t++],m=r[t++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Ky={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,g=o+2<r.length,_=g?r[o+2]:0,w=u>>2,T=(u&3)<<4|m>>4;let C=(m&15)<<2|_>>6,z=_&63;g||(z=64,h||(C=64)),s.push(t[w],t[T],t[C],t[z])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(qy(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):bT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],m=o<r.length?t[r.charAt(o)]:0;++o;const _=o<r.length?t[r.charAt(o)]:64;++o;const T=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||m==null||_==null||T==null)throw new FT;const C=u<<2|m>>4;if(s.push(C),_!==64){const z=m<<4&240|_>>2;if(s.push(z),T!==64){const Q=_<<6&192|T;s.push(Q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class FT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UT=function(r){const e=qy(r);return Ky.encodeByteArray(e,!0)},Uu=function(r){return UT(r).replace(/\./g,"")},Gy=function(r){try{return Ky.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function jT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const zT=()=>jT().__FIREBASE_DEFAULTS__,BT=()=>{if(typeof process>"u"||typeof sg>"u")return;const r=sg.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},$T=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Gy(r[1]);return e&&JSON.parse(e)},lc=()=>{try{return MT()||zT()||BT()||$T()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Qy=r=>lc()?.emulatorHosts?.[r],HT=r=>{const e=Qy(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Jy=()=>lc()?.config,Yy=r=>lc()?.[`_${r}`];class WT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function Ao(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Xy(r){return(await fetch(r,{credentials:"include"})).ok}function qT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Uu(JSON.stringify(t)),Uu(JSON.stringify(h)),""].join(".")}const Da={};function KT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Da))Da[e]?r.emulator.push(e):r.prod.push(e);return r}function GT(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let og=!1;function Zy(r,e){if(typeof window>"u"||typeof document>"u"||!Ao(window.location.host)||Da[r]===e||Da[r]||og)return;Da[r]=e;function t(C){return`__firebase__banner__${C}`}const s="__firebase__banner",u=KT().prod.length>0;function h(){const C=document.getElementById(s);C&&C.remove()}function m(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function g(C,z){C.setAttribute("width","24"),C.setAttribute("id",z),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function _(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{og=!0,h()},C}function w(C,z){C.setAttribute("id",z),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function T(){const C=GT(s),z=t("text"),Q=document.getElementById(z)||document.createElement("span"),H=t("learnmore"),j=document.getElementById(H)||document.createElement("a"),se=t("preprendIcon"),ae=document.getElementById(se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const ce=C.element;m(ce),w(j,H);const we=_();g(ae,se),ce.append(ae,Q,j,we),document.body.appendChild(ce)}u?(Q.innerText="Preview backend disconnected.",ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function JT(){const r=lc()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function ZT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function e0(){const r=jt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function t0(){return!JT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function n0(){try{return typeof indexedDB=="object"}catch{return!1}}function r0(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}const i0="FirebaseError";class Nr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=i0,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qa.prototype.create)}}class Qa{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?s0(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Nr(o,m,s)}}function s0(r,e){return r.replace(o0,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const o0=/\{\$([^}]+)}/g;function a0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ss(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(ag(u)&&ag(h)){if(!ss(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function ag(r){return r!==null&&typeof r=="object"}function Ja(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function l0(r,e){const t=new u0(r,e);return t.subscribe.bind(t)}class u0{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");c0(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=rf),o.error===void 0&&(o.error=rf),o.complete===void 0&&(o.complete=rf);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function c0(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function rf(){}function yn(r){return r&&r._delegate?r._delegate:r}class os{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const rs="[DEFAULT]";class h0{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new WT;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(d0(e))try{this.getOrInitializeService({instanceIdentifier:rs})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rs){return this.instances.has(e)}getOptions(e=rs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:f0(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=rs){return this.component?this.component.multipleInstances?e:rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function f0(r){return r===rs?void 0:r}function d0(r){return r.instantiationMode==="EAGER"}class p0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new h0(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const m0={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},g0=Pe.INFO,y0={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},_0=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=y0[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kf{constructor(e){this.name=e,this._logLevel=g0,this._logHandler=_0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?m0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const v0=(r,e)=>e.some(t=>r instanceof t);let lg,ug;function E0(){return lg||(lg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function w0(){return ug||(ug=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e_=new WeakMap,Ef=new WeakMap,t_=new WeakMap,sf=new WeakMap,Gf=new WeakMap;function T0(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{t(mi(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&e_.set(t,r)}).catch(()=>{}),Gf.set(e,r),e}function I0(r){if(Ef.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Ef.set(r,e)}let wf={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Ef.get(r);if(e==="objectStoreNames")return r.objectStoreNames||t_.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return mi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function S0(r){wf=r(wf)}function A0(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(of(this),e,...t);return t_.set(s,e.sort?e.sort():[e]),mi(s)}:w0().includes(r)?function(...e){return r.apply(of(this),e),mi(e_.get(this))}:function(...e){return mi(r.apply(of(this),e))}}function C0(r){return typeof r=="function"?A0(r):(r instanceof IDBTransaction&&I0(r),v0(r,E0())?new Proxy(r,wf):r)}function mi(r){if(r instanceof IDBRequest)return T0(r);if(sf.has(r))return sf.get(r);const e=C0(r);return e!==r&&(sf.set(r,e),Gf.set(e,r)),e}const of=r=>Gf.get(r);function R0(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=mi(h);return s&&h.addEventListener("upgradeneeded",g=>{s(mi(h.result),g.oldVersion,g.newVersion,mi(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const P0=["get","getKey","getAll","getAllKeys","count"],k0=["put","add","delete","clear"],af=new Map;function cg(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(af.get(e))return af.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=k0.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||P0.includes(t)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[t](...m),o&&g.done]))[0]};return af.set(e,u),u}S0(r=>({...r,get:(e,t,s)=>cg(e,t)||r.get(e,t,s),has:(e,t)=>!!cg(e,t)||r.has(e,t)}));class N0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(D0(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function D0(r){return r.getComponent()?.type==="VERSION"}const Tf="@firebase/app",hg="0.14.8";const Ar=new Kf("@firebase/app"),V0="@firebase/app-compat",x0="@firebase/analytics-compat",O0="@firebase/analytics",L0="@firebase/app-check-compat",M0="@firebase/app-check",b0="@firebase/auth",F0="@firebase/auth-compat",U0="@firebase/database",j0="@firebase/data-connect",z0="@firebase/database-compat",B0="@firebase/functions",$0="@firebase/functions-compat",H0="@firebase/installations",W0="@firebase/installations-compat",q0="@firebase/messaging",K0="@firebase/messaging-compat",G0="@firebase/performance",Q0="@firebase/performance-compat",J0="@firebase/remote-config",Y0="@firebase/remote-config-compat",X0="@firebase/storage",Z0="@firebase/storage-compat",eI="@firebase/firestore",tI="@firebase/ai",nI="@firebase/firestore-compat",rI="firebase",iI="12.9.0";const If="[DEFAULT]",sI={[Tf]:"fire-core",[V0]:"fire-core-compat",[O0]:"fire-analytics",[x0]:"fire-analytics-compat",[M0]:"fire-app-check",[L0]:"fire-app-check-compat",[b0]:"fire-auth",[F0]:"fire-auth-compat",[U0]:"fire-rtdb",[j0]:"fire-data-connect",[z0]:"fire-rtdb-compat",[B0]:"fire-fn",[$0]:"fire-fn-compat",[H0]:"fire-iid",[W0]:"fire-iid-compat",[q0]:"fire-fcm",[K0]:"fire-fcm-compat",[G0]:"fire-perf",[Q0]:"fire-perf-compat",[J0]:"fire-rc",[Y0]:"fire-rc-compat",[X0]:"fire-gcs",[Z0]:"fire-gcs-compat",[eI]:"fire-fst",[nI]:"fire-fst-compat",[tI]:"fire-vertex","fire-js":"fire-js",[rI]:"fire-js-all"};const ju=new Map,oI=new Map,Sf=new Map;function fg(r,e){try{r.container.addComponent(e)}catch(t){Ar.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function _o(r){const e=r.name;if(Sf.has(e))return Ar.debug(`There were multiple attempts to register component ${e}.`),!1;Sf.set(e,r);for(const t of ju.values())fg(t,r);for(const t of oI.values())fg(t,r);return!0}function Qf(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Pn(r){return r==null?!1:r.settings!==void 0}const aI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gi=new Qa("app","Firebase",aI);class lI{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}const Co=iI;function n_(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s={name:If,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw gi.create("bad-app-name",{appName:String(o)});if(t||(t=Jy()),!t)throw gi.create("no-options");const u=ju.get(o);if(u){if(ss(t,u.options)&&ss(s,u.config))return u;throw gi.create("duplicate-app",{appName:o})}const h=new p0(o);for(const g of Sf.values())h.addComponent(g);const m=new lI(t,s,h);return ju.set(o,m),m}function r_(r=If){const e=ju.get(r);if(!e&&r===If&&Jy())return n_();if(!e)throw gi.create("no-app",{appName:r});return e}function yi(r,e,t){let s=sI[r]??r;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ar.warn(h.join(" "));return}_o(new os(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const uI="firebase-heartbeat-database",cI=1,Ua="firebase-heartbeat-store";let lf=null;function i_(){return lf||(lf=R0(uI,cI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ua)}catch(t){console.warn(t)}}}}).catch(r=>{throw gi.create("idb-open",{originalErrorMessage:r.message})})),lf}async function hI(r){try{const t=(await i_()).transaction(Ua),s=await t.objectStore(Ua).get(s_(r));return await t.done,s}catch(e){if(e instanceof Nr)Ar.warn(e.message);else{const t=gi.create("idb-get",{originalErrorMessage:e?.message});Ar.warn(t.message)}}}async function dg(r,e){try{const s=(await i_()).transaction(Ua,"readwrite");await s.objectStore(Ua).put(e,s_(r)),await s.done}catch(t){if(t instanceof Nr)Ar.warn(t.message);else{const s=gi.create("idb-set",{originalErrorMessage:t?.message});Ar.warn(s.message)}}}function s_(r){return`${r.name}!${r.options.appId}`}const fI=1024,dI=30;class pI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new gI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=pg();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>dI){const o=yI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ar.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=pg(),{heartbeatsToSend:t,unsentEntries:s}=mI(this._heartbeatsCache.heartbeats),o=Uu(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ar.warn(e),""}}}function pg(){return new Date().toISOString().substring(0,10)}function mI(r,e=fI){const t=[];let s=r.slice();for(const o of r){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),mg(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),mg(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class gI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return n0()?r0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await hI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return dg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return dg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function mg(r){return Uu(JSON.stringify({version:2,heartbeats:r})).length}function yI(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}function _I(r){_o(new os("platform-logger",e=>new N0(e),"PRIVATE")),_o(new os("heartbeat",e=>new pI(e),"PRIVATE")),yi(Tf,hg,r),yi(Tf,hg,"esm2020"),yi("fire-js","")}_I("");var vI="firebase",EI="12.9.0";yi(vI,EI,"app");var gg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _i,o_;(function(){var r;function e(k,S){function R(){}R.prototype=S.prototype,k.F=S.prototype,k.prototype=new R,k.prototype.constructor=k,k.D=function(V,N,O){for(var A=Array(arguments.length-2),He=2;He<arguments.length;He++)A[He-2]=arguments[He];return S.prototype[N].apply(V,A)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,S,R){R||(R=0);const V=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)V[N]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(N=0;N<16;++N)V[N]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=k.g[0],R=k.g[1],N=k.g[2];let O=k.g[3],A;A=S+(O^R&(N^O))+V[0]+3614090360&4294967295,S=R+(A<<7&4294967295|A>>>25),A=O+(N^S&(R^N))+V[1]+3905402710&4294967295,O=S+(A<<12&4294967295|A>>>20),A=N+(R^O&(S^R))+V[2]+606105819&4294967295,N=O+(A<<17&4294967295|A>>>15),A=R+(S^N&(O^S))+V[3]+3250441966&4294967295,R=N+(A<<22&4294967295|A>>>10),A=S+(O^R&(N^O))+V[4]+4118548399&4294967295,S=R+(A<<7&4294967295|A>>>25),A=O+(N^S&(R^N))+V[5]+1200080426&4294967295,O=S+(A<<12&4294967295|A>>>20),A=N+(R^O&(S^R))+V[6]+2821735955&4294967295,N=O+(A<<17&4294967295|A>>>15),A=R+(S^N&(O^S))+V[7]+4249261313&4294967295,R=N+(A<<22&4294967295|A>>>10),A=S+(O^R&(N^O))+V[8]+1770035416&4294967295,S=R+(A<<7&4294967295|A>>>25),A=O+(N^S&(R^N))+V[9]+2336552879&4294967295,O=S+(A<<12&4294967295|A>>>20),A=N+(R^O&(S^R))+V[10]+4294925233&4294967295,N=O+(A<<17&4294967295|A>>>15),A=R+(S^N&(O^S))+V[11]+2304563134&4294967295,R=N+(A<<22&4294967295|A>>>10),A=S+(O^R&(N^O))+V[12]+1804603682&4294967295,S=R+(A<<7&4294967295|A>>>25),A=O+(N^S&(R^N))+V[13]+4254626195&4294967295,O=S+(A<<12&4294967295|A>>>20),A=N+(R^O&(S^R))+V[14]+2792965006&4294967295,N=O+(A<<17&4294967295|A>>>15),A=R+(S^N&(O^S))+V[15]+1236535329&4294967295,R=N+(A<<22&4294967295|A>>>10),A=S+(N^O&(R^N))+V[1]+4129170786&4294967295,S=R+(A<<5&4294967295|A>>>27),A=O+(R^N&(S^R))+V[6]+3225465664&4294967295,O=S+(A<<9&4294967295|A>>>23),A=N+(S^R&(O^S))+V[11]+643717713&4294967295,N=O+(A<<14&4294967295|A>>>18),A=R+(O^S&(N^O))+V[0]+3921069994&4294967295,R=N+(A<<20&4294967295|A>>>12),A=S+(N^O&(R^N))+V[5]+3593408605&4294967295,S=R+(A<<5&4294967295|A>>>27),A=O+(R^N&(S^R))+V[10]+38016083&4294967295,O=S+(A<<9&4294967295|A>>>23),A=N+(S^R&(O^S))+V[15]+3634488961&4294967295,N=O+(A<<14&4294967295|A>>>18),A=R+(O^S&(N^O))+V[4]+3889429448&4294967295,R=N+(A<<20&4294967295|A>>>12),A=S+(N^O&(R^N))+V[9]+568446438&4294967295,S=R+(A<<5&4294967295|A>>>27),A=O+(R^N&(S^R))+V[14]+3275163606&4294967295,O=S+(A<<9&4294967295|A>>>23),A=N+(S^R&(O^S))+V[3]+4107603335&4294967295,N=O+(A<<14&4294967295|A>>>18),A=R+(O^S&(N^O))+V[8]+1163531501&4294967295,R=N+(A<<20&4294967295|A>>>12),A=S+(N^O&(R^N))+V[13]+2850285829&4294967295,S=R+(A<<5&4294967295|A>>>27),A=O+(R^N&(S^R))+V[2]+4243563512&4294967295,O=S+(A<<9&4294967295|A>>>23),A=N+(S^R&(O^S))+V[7]+1735328473&4294967295,N=O+(A<<14&4294967295|A>>>18),A=R+(O^S&(N^O))+V[12]+2368359562&4294967295,R=N+(A<<20&4294967295|A>>>12),A=S+(R^N^O)+V[5]+4294588738&4294967295,S=R+(A<<4&4294967295|A>>>28),A=O+(S^R^N)+V[8]+2272392833&4294967295,O=S+(A<<11&4294967295|A>>>21),A=N+(O^S^R)+V[11]+1839030562&4294967295,N=O+(A<<16&4294967295|A>>>16),A=R+(N^O^S)+V[14]+4259657740&4294967295,R=N+(A<<23&4294967295|A>>>9),A=S+(R^N^O)+V[1]+2763975236&4294967295,S=R+(A<<4&4294967295|A>>>28),A=O+(S^R^N)+V[4]+1272893353&4294967295,O=S+(A<<11&4294967295|A>>>21),A=N+(O^S^R)+V[7]+4139469664&4294967295,N=O+(A<<16&4294967295|A>>>16),A=R+(N^O^S)+V[10]+3200236656&4294967295,R=N+(A<<23&4294967295|A>>>9),A=S+(R^N^O)+V[13]+681279174&4294967295,S=R+(A<<4&4294967295|A>>>28),A=O+(S^R^N)+V[0]+3936430074&4294967295,O=S+(A<<11&4294967295|A>>>21),A=N+(O^S^R)+V[3]+3572445317&4294967295,N=O+(A<<16&4294967295|A>>>16),A=R+(N^O^S)+V[6]+76029189&4294967295,R=N+(A<<23&4294967295|A>>>9),A=S+(R^N^O)+V[9]+3654602809&4294967295,S=R+(A<<4&4294967295|A>>>28),A=O+(S^R^N)+V[12]+3873151461&4294967295,O=S+(A<<11&4294967295|A>>>21),A=N+(O^S^R)+V[15]+530742520&4294967295,N=O+(A<<16&4294967295|A>>>16),A=R+(N^O^S)+V[2]+3299628645&4294967295,R=N+(A<<23&4294967295|A>>>9),A=S+(N^(R|~O))+V[0]+4096336452&4294967295,S=R+(A<<6&4294967295|A>>>26),A=O+(R^(S|~N))+V[7]+1126891415&4294967295,O=S+(A<<10&4294967295|A>>>22),A=N+(S^(O|~R))+V[14]+2878612391&4294967295,N=O+(A<<15&4294967295|A>>>17),A=R+(O^(N|~S))+V[5]+4237533241&4294967295,R=N+(A<<21&4294967295|A>>>11),A=S+(N^(R|~O))+V[12]+1700485571&4294967295,S=R+(A<<6&4294967295|A>>>26),A=O+(R^(S|~N))+V[3]+2399980690&4294967295,O=S+(A<<10&4294967295|A>>>22),A=N+(S^(O|~R))+V[10]+4293915773&4294967295,N=O+(A<<15&4294967295|A>>>17),A=R+(O^(N|~S))+V[1]+2240044497&4294967295,R=N+(A<<21&4294967295|A>>>11),A=S+(N^(R|~O))+V[8]+1873313359&4294967295,S=R+(A<<6&4294967295|A>>>26),A=O+(R^(S|~N))+V[15]+4264355552&4294967295,O=S+(A<<10&4294967295|A>>>22),A=N+(S^(O|~R))+V[6]+2734768916&4294967295,N=O+(A<<15&4294967295|A>>>17),A=R+(O^(N|~S))+V[13]+1309151649&4294967295,R=N+(A<<21&4294967295|A>>>11),A=S+(N^(R|~O))+V[4]+4149444226&4294967295,S=R+(A<<6&4294967295|A>>>26),A=O+(R^(S|~N))+V[11]+3174756917&4294967295,O=S+(A<<10&4294967295|A>>>22),A=N+(S^(O|~R))+V[2]+718787259&4294967295,N=O+(A<<15&4294967295|A>>>17),A=R+(O^(N|~S))+V[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(N+(A<<21&4294967295|A>>>11))&4294967295,k.g[2]=k.g[2]+N&4294967295,k.g[3]=k.g[3]+O&4294967295}s.prototype.v=function(k,S){S===void 0&&(S=k.length);const R=S-this.blockSize,V=this.C;let N=this.h,O=0;for(;O<S;){if(N==0)for(;O<=R;)o(this,k,O),O+=this.blockSize;if(typeof k=="string"){for(;O<S;)if(V[N++]=k.charCodeAt(O++),N==this.blockSize){o(this,V),N=0;break}}else for(;O<S;)if(V[N++]=k[O++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=S},s.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;S=this.o*8;for(var R=k.length-8;R<k.length;++R)k[R]=S&255,S/=256;for(this.v(k),k=Array(16),S=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)k[S++]=this.g[R]>>>V&255;return k};function u(k,S){var R=m;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=S(k)}function h(k,S){this.h=S;const R=[];let V=!0;for(let N=k.length-1;N>=0;N--){const O=k[N]|0;V&&O==S||(R[N]=O,V=!1)}this.g=R}var m={};function g(k){return-128<=k&&k<128?u(k,function(S){return new h([S|0],S<0?-1:0)}):new h([k|0],k<0?-1:0)}function _(k){if(isNaN(k)||!isFinite(k))return T;if(k<0)return j(_(-k));const S=[];let R=1;for(let V=0;k>=R;V++)S[V]=k/R|0,R*=4294967296;return new h(S,0)}function w(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return j(w(k.substring(1),S));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(S,8));let V=T;for(let O=0;O<k.length;O+=8){var N=Math.min(8,k.length-O);const A=parseInt(k.substring(O,O+N),S);N<8?(N=_(Math.pow(S,N)),V=V.j(N).add(_(A))):(V=V.j(R),V=V.add(_(A)))}return V}var T=g(0),C=g(1),z=g(16777216);r=h.prototype,r.m=function(){if(H(this))return-j(this).m();let k=0,S=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);k+=(V>=0?V:4294967296+V)*S,S*=4294967296}return k},r.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(Q(this))return"0";if(H(this))return"-"+j(this).toString(k);const S=_(Math.pow(k,6));var R=this;let V="";for(;;){const N=we(R,S).g;R=se(R,N.j(S));let O=((R.g.length>0?R.g[0]:R.h)>>>0).toString(k);if(R=N,Q(R))return O+V;for(;O.length<6;)O="0"+O;V=O+V}},r.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function Q(k){if(k.h!=0)return!1;for(let S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function H(k){return k.h==-1}r.l=function(k){return k=se(this,k),H(k)?-1:Q(k)?0:1};function j(k){const S=k.g.length,R=[];for(let V=0;V<S;V++)R[V]=~k.g[V];return new h(R,~k.h).add(C)}r.abs=function(){return H(this)?j(this):this},r.add=function(k){const S=Math.max(this.g.length,k.g.length),R=[];let V=0;for(let N=0;N<=S;N++){let O=V+(this.i(N)&65535)+(k.i(N)&65535),A=(O>>>16)+(this.i(N)>>>16)+(k.i(N)>>>16);V=A>>>16,O&=65535,A&=65535,R[N]=A<<16|O}return new h(R,R[R.length-1]&-2147483648?-1:0)};function se(k,S){return k.add(j(S))}r.j=function(k){if(Q(this)||Q(k))return T;if(H(this))return H(k)?j(this).j(j(k)):j(j(this).j(k));if(H(k))return j(this.j(j(k)));if(this.l(z)<0&&k.l(z)<0)return _(this.m()*k.m());const S=this.g.length+k.g.length,R=[];for(var V=0;V<2*S;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<k.g.length;N++){const O=this.i(V)>>>16,A=this.i(V)&65535,He=k.i(N)>>>16,_t=k.i(N)&65535;R[2*V+2*N]+=A*_t,ae(R,2*V+2*N),R[2*V+2*N+1]+=O*_t,ae(R,2*V+2*N+1),R[2*V+2*N+1]+=A*He,ae(R,2*V+2*N+1),R[2*V+2*N+2]+=O*He,ae(R,2*V+2*N+2)}for(k=0;k<S;k++)R[k]=R[2*k+1]<<16|R[2*k];for(k=S;k<2*S;k++)R[k]=0;return new h(R,0)};function ae(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function ce(k,S){this.g=k,this.h=S}function we(k,S){if(Q(S))throw Error("division by zero");if(Q(k))return new ce(T,T);if(H(k))return S=we(j(k),S),new ce(j(S.g),j(S.h));if(H(S))return S=we(k,j(S)),new ce(j(S.g),S.h);if(k.g.length>30){if(H(k)||H(S))throw Error("slowDivide_ only works with positive integers.");for(var R=C,V=S;V.l(k)<=0;)R=Fe(R),V=Fe(V);var N=xe(R,1),O=xe(V,1);for(V=xe(V,2),R=xe(R,2);!Q(V);){var A=O.add(V);A.l(k)<=0&&(N=N.add(R),O=A),V=xe(V,1),R=xe(R,1)}return S=se(k,N.j(S)),new ce(N,S)}for(N=T;k.l(S)>=0;){for(R=Math.max(1,Math.floor(k.m()/S.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),O=_(R),A=O.j(S);H(A)||A.l(k)>0;)R-=V,O=_(R),A=O.j(S);Q(O)&&(O=C),N=N.add(O),k=se(k,A)}return new ce(N,k)}r.B=function(k){return we(this,k).h},r.and=function(k){const S=Math.max(this.g.length,k.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)&k.i(V);return new h(R,this.h&k.h)},r.or=function(k){const S=Math.max(this.g.length,k.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)|k.i(V);return new h(R,this.h|k.h)},r.xor=function(k){const S=Math.max(this.g.length,k.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)^k.i(V);return new h(R,this.h^k.h)};function Fe(k){const S=k.g.length+1,R=[];for(let V=0;V<S;V++)R[V]=k.i(V)<<1|k.i(V-1)>>>31;return new h(R,k.h)}function xe(k,S){const R=S>>5;S%=32;const V=k.g.length-R,N=[];for(let O=0;O<V;O++)N[O]=S>0?k.i(O+R)>>>S|k.i(O+R+1)<<32-S:k.i(O+R);return new h(N,k.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,o_=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=_,h.fromString=w,_i=h}).apply(typeof gg<"u"?gg:typeof self<"u"?self:typeof window<"u"?window:{});var wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var a_,Pa,l_,Pu,Af,u_,c_,h_;(function(){var r,e=Object.defineProperty;function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof wu=="object"&&wu];for(var p=0;p<l.length;++p){var y=l[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=t(this);function o(l,p){if(p)e:{var y=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var M=l[E];if(!(M in y))break e;y=y[M]}l=l[l.length-1],E=y[l],p=p(E),p!=E&&p!=null&&e(y,l,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(l){return l||function(p){var y=[],E;for(E in p)Object.prototype.hasOwnProperty.call(p,E)&&y.push([E,p[E]]);return y}});var u=u||{},h=this||self;function m(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function g(l,p,y){return l.call.apply(l.bind,arguments)}function _(l,p,y){return _=g,_.apply(null,arguments)}function w(l,p){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function T(l,p){function y(){}y.prototype=p.prototype,l.Z=p.prototype,l.prototype=new y,l.prototype.constructor=l,l.Ob=function(E,M,U){for(var Y=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)Y[ve-2]=arguments[ve];return p.prototype[M].apply(E,Y)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function z(l){const p=l.length;if(p>0){const y=Array(p);for(let E=0;E<p;E++)y[E]=l[E];return y}return[]}function Q(l,p){for(let E=1;E<arguments.length;E++){const M=arguments[E];var y=typeof M;if(y=y!="object"?y:M?Array.isArray(M)?"array":y:"null",y=="array"||y=="object"&&typeof M.length=="number"){y=l.length||0;const U=M.length||0;l.length=y+U;for(let Y=0;Y<U;Y++)l[y+Y]=M[Y]}else l.push(M)}}class H{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function j(l){h.setTimeout(()=>{throw l},0)}function se(){var l=k;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class ae{constructor(){this.h=this.g=null}add(p,y){const E=ce.get();E.set(p,y),this.h?this.h.next=E:this.g=E,this.h=E}}var ce=new H(()=>new we,l=>l.reset());class we{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Fe,xe=!1,k=new ae,S=()=>{const l=Promise.resolve(void 0);Fe=()=>{l.then(R)}};function R(){for(var l;l=se();){try{l.h.call(l.g)}catch(y){j(y)}var p=ce;p.j(l),p.h<100&&(p.h++,l.next=p.g,p.g=l)}xe=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};h.addEventListener("test",y,p),h.removeEventListener("test",y,p)}catch{}return l})();function A(l){return/^[\s\xa0]*$/.test(l)}function He(l,p){N.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,p)}T(He,N),He.prototype.init=function(l,p){const y=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget,p||(y=="mouseover"?p=l.fromElement:y=="mouseout"&&(p=l.toElement)),this.relatedTarget=p,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&He.Z.h.call(this)},He.prototype.h=function(){He.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var _t="closure_listenable_"+(Math.random()*1e6|0),Dt=0;function Ye(l,p,y,E,M){this.listener=l,this.proxy=null,this.src=p,this.type=y,this.capture=!!E,this.ha=M,this.key=++Dt,this.da=this.fa=!1}function X(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function he(l,p,y){for(const E in l)p.call(y,l[E],E,l)}function ne(l,p){for(const y in l)p.call(void 0,l[y],y,l)}function x(l){const p={};for(const y in l)p[y]=l[y];return p}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Te(l,p){let y,E;for(let M=1;M<arguments.length;M++){E=arguments[M];for(y in E)l[y]=E[y];for(let U=0;U<$.length;U++)y=$[U],Object.prototype.hasOwnProperty.call(E,y)&&(l[y]=E[y])}}function Ie(l){this.src=l,this.g={},this.h=0}Ie.prototype.add=function(l,p,y,E,M){const U=l.toString();l=this.g[U],l||(l=this.g[U]=[],this.h++);const Y=Ce(l,p,E,M);return Y>-1?(p=l[Y],y||(p.fa=!1)):(p=new Ye(p,this.src,U,!!E,M),p.fa=y,l.push(p)),p};function Ae(l,p){const y=p.type;if(y in l.g){var E=l.g[y],M=Array.prototype.indexOf.call(E,p,void 0),U;(U=M>=0)&&Array.prototype.splice.call(E,M,1),U&&(X(p),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Ce(l,p,y,E){for(let M=0;M<l.length;++M){const U=l[M];if(!U.da&&U.listener==p&&U.capture==!!y&&U.ha==E)return M}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Oe={};function Be(l,p,y,E,M){if(Array.isArray(p)){for(let U=0;U<p.length;U++)Be(l,p[U],y,E,M);return null}return y=xo(y),l&&l[_t]?l.J(p,y,m(E)?!!E.capture:!1,M):zt(l,p,y,!1,E,M)}function zt(l,p,y,E,M,U){if(!p)throw Error("Invalid event type");const Y=m(M)?!!M.capture:!!M;let ve=vs(l);if(ve||(l[Ue]=ve=new Ie(l)),y=ve.add(p,y,E,Y,U),y.proxy)return y;if(E=ys(),y.proxy=E,E.src=l,E.listener=y,l.addEventListener)O||(M=Y),M===void 0&&(M=!1),l.addEventListener(p.toString(),E,M);else if(l.attachEvent)l.attachEvent(_s(p.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function ys(){function l(y){return p.call(l.src,l.listener,y)}const p=sl;return l}function Vo(l,p,y,E,M){if(Array.isArray(p))for(var U=0;U<p.length;U++)Vo(l,p[U],y,E,M);else E=m(E)?!!E.capture:!!E,y=xo(y),l&&l[_t]?(l=l.i,U=String(p).toString(),U in l.g&&(p=l.g[U],y=Ce(p,y,E,M),y>-1&&(X(p[y]),Array.prototype.splice.call(p,y,1),p.length==0&&(delete l.g[U],l.h--)))):l&&(l=vs(l))&&(p=l.g[p.toString()],l=-1,p&&(l=Ce(p,y,E,M)),(y=l>-1?p[l]:null)&&Dr(y))}function Dr(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[_t])Ae(p.i,l);else{var y=l.type,E=l.proxy;p.removeEventListener?p.removeEventListener(y,E,l.capture):p.detachEvent?p.detachEvent(_s(y),E):p.addListener&&p.removeListener&&p.removeListener(E),(y=vs(p))?(Ae(y,l),y.h==0&&(y.src=null,p[Ue]=null)):X(l)}}}function _s(l){return l in Oe?Oe[l]:Oe[l]="on"+l}function sl(l,p){if(l.da)l=!0;else{p=new He(p,this);const y=l.listener,E=l.ha||l.src;l.fa&&Dr(l),l=y.call(E,p)}return l}function vs(l){return l=l[Ue],l instanceof Ie?l:null}var Ni="__closure_events_fn_"+(Math.random()*1e9>>>0);function xo(l){return typeof l=="function"?l:(l[Ni]||(l[Ni]=function(p){return l.handleEvent(p)}),l[Ni])}function lt(){V.call(this),this.i=new Ie(this),this.M=this,this.G=null}T(lt,V),lt.prototype[_t]=!0,lt.prototype.removeEventListener=function(l,p,y,E){Vo(this,l,p,y,E)};function it(l,p){var y,E=l.G;if(E)for(y=[];E;E=E.G)y.push(E);if(l=l.M,E=p.type||p,typeof p=="string")p=new N(p,l);else if(p instanceof N)p.target=p.target||l;else{var M=p;p=new N(E,l),Te(p,M)}M=!0;let U,Y;if(y)for(Y=y.length-1;Y>=0;Y--)U=p.g=y[Y],M=_n(U,E,!0,p)&&M;if(U=p.g=l,M=_n(U,E,!0,p)&&M,M=_n(U,E,!1,p)&&M,y)for(Y=0;Y<y.length;Y++)U=p.g=y[Y],M=_n(U,E,!1,p)&&M}lt.prototype.N=function(){if(lt.Z.N.call(this),this.i){var l=this.i;for(const p in l.g){const y=l.g[p];for(let E=0;E<y.length;E++)X(y[E]);delete l.g[p],l.h--}}this.G=null},lt.prototype.J=function(l,p,y,E){return this.i.add(String(l),p,!1,y,E)},lt.prototype.K=function(l,p,y,E){return this.i.add(String(l),p,!0,y,E)};function _n(l,p,y,E){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();let M=!0;for(let U=0;U<p.length;++U){const Y=p[U];if(Y&&!Y.da&&Y.capture==y){const ve=Y.listener,st=Y.ha||Y.src;Y.fa&&Ae(l.i,Y),M=ve.call(st,E)!==!1&&M}}return M&&!E.defaultPrevented}function Oo(l,p){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=_(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:h.setTimeout(l,p||0)}function Lo(l){l.g=Oo(()=>{l.g=null,l.i&&(l.i=!1,Lo(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class ol extends V{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Lo(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(l){V.call(this),this.h=l,this.g={}}T(Vr,V);var Mo=[];function Es(l){he(l.g,function(p,y){this.g.hasOwnProperty(y)&&Dr(p)},l),l.g={}}Vr.prototype.N=function(){Vr.Z.N.call(this),Es(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xr=h.JSON.stringify,al=h.JSON.parse,Di=class{stringify(l){return h.JSON.stringify(l,void 0)}parse(l){return h.JSON.parse(l,void 0)}};function Or(){}function ll(){}var Lr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ws(){N.call(this,"d")}T(ws,N);function bo(){N.call(this,"c")}T(bo,N);var vn={},Ts=null;function Mr(){return Ts=Ts||new lt}vn.Ia="serverreachability";function Is(l){N.call(this,vn.Ia,l)}T(Is,N);function sr(l){const p=Mr();it(p,new Is(p))}vn.STAT_EVENT="statevent";function or(l,p){N.call(this,vn.STAT_EVENT,l),this.stat=p}T(or,N);function nt(l){const p=Mr();it(p,new or(p,l))}vn.Ja="timingevent";function Fo(l,p){N.call(this,vn.Ja,l),this.size=p}T(Fo,N);function br(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){l()},p)}function Fr(){this.g=!0}Fr.prototype.ua=function(){this.g=!1};function ul(l,p,y,E,M,U){l.info(function(){if(l.g)if(U){var Y="",ve=U.split("&");for(let ze=0;ze<ve.length;ze++){var st=ve[ze].split("=");if(st.length>1){const ut=st[0];st=st[1];const nn=ut.split("_");Y=nn.length>=2&&nn[1]=="type"?Y+(ut+"="+st+"&"):Y+(ut+"=redacted&")}}}else Y=null;else Y=U;return"XMLHTTP REQ ("+E+") [attempt "+M+"]: "+p+`
`+y+`
`+Y})}function cl(l,p,y,E,M,U,Y){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+M+"]: "+p+`
`+y+`
`+U+" "+Y})}function Vn(l,p,y,E){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+Vi(l,y)+(E?" "+E:"")})}function hl(l,p){l.info(function(){return"TIMEOUT: "+p})}Fr.prototype.info=function(){};function Vi(l,p){if(!l.g)return p;if(!p)return null;try{const U=JSON.parse(p);if(U){for(l=0;l<U.length;l++)if(Array.isArray(U[l])){var y=U[l];if(!(y.length<2)){var E=y[1];if(Array.isArray(E)&&!(E.length<1)){var M=E[0];if(M!="noop"&&M!="stop"&&M!="close")for(let Y=1;Y<E.length;Y++)E[Y]=""}}}}return xr(U)}catch{return p}}var Ur={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fl;function ar(){}T(ar,Or),ar.prototype.g=function(){return new XMLHttpRequest},fl=new ar;function xn(l){return encodeURIComponent(String(l))}function Ss(l){var p=1;l=l.split(":");const y=[];for(;p>0&&l.length;)y.push(l.shift()),p--;return l.length&&y.push(l.join(":")),y}function an(l,p,y,E){this.j=l,this.i=p,this.l=y,this.S=E||1,this.V=new Vr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new dl}function dl(){this.i=null,this.g="",this.h=!1}var pl={},Uo={};function En(l,p,y){l.M=1,l.A=ur(ln(p)),l.u=y,l.R=!0,jo(l,null)}function jo(l,p){l.F=Date.now(),xi(l),l.B=ln(l.A);var y=l.B,E=l.S;Array.isArray(E)||(E=[String(E)]),Jo(y.i,"t",E),l.C=0,y=l.j.L,l.h=new dl,l.g=Sl(l.j,y?p:null,!l.u),l.P>0&&(l.O=new ol(_(l.Y,l,l.g),l.P)),p=l.V,y=l.g,E=l.ba;var M="readystatechange";Array.isArray(M)||(M&&(Mo[0]=M.toString()),M=Mo);for(let U=0;U<M.length;U++){const Y=Be(y,M[U],E||p.handleEvent,!1,p.h||p);if(!Y)break;p.g[Y.key]=Y}p=l.J?x(l.J):{},l.u?(l.v||(l.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,p)):(l.v="GET",l.g.ea(l.B,l.v,null,p)),sr(),ul(l.i,l.v,l.B,l.l,l.S,l.u)}an.prototype.ba=function(l){l=l.target;const p=this.O;p&&jn(l)==3?p.j():this.Y(l)},an.prototype.Y=function(l){try{if(l==this.g)e:{const ve=jn(this.g),st=this.g.ya(),ze=this.g.ca();if(!(ve<3)&&(ve!=3||this.g&&(this.h.h||this.g.la()||Tl(this.g)))){this.K||ve!=4||st==7||(st==8||ze<=0?sr(3):sr(2)),As(this);var p=this.g.ca();this.X=p;var y=ml(this);if(this.o=p==200,cl(this.i,this.v,this.B,this.l,this.S,ve,p),this.o){if(this.U&&!this.L){t:{if(this.g){var E,M=this.g;if((E=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(E)){var U=E;break t}}U=null}if(l=U)Vn(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qe(this,l);else{this.o=!1,this.m=3,nt(12),lr(this),Oi(this);break e}}if(this.R){l=!0;let ut;for(;!this.K&&this.C<y.length;)if(ut=yl(this,y),ut==Uo){ve==4&&(this.m=4,nt(14),l=!1),Vn(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==pl){this.m=4,nt(15),Vn(this.i,this.l,y,"[Invalid Chunk]"),l=!1;break}else Vn(this.i,this.l,ut,null),qe(this,ut);if(gl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||y.length!=0||this.h.h||(this.m=1,nt(16),l=!1),this.o=this.o&&l,!l)Vn(this.i,this.l,y,"[Invalid Chunked Response]"),lr(this),Oi(this);else if(y.length>0&&!this.W){this.W=!0;var Y=this.j;Y.g==this&&Y.aa&&!Y.P&&(Y.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),$i(Y),Y.P=!0,nt(11))}}else Vn(this.i,this.l,y,null),qe(this,y);ve==4&&lr(this),this.o&&!this.K&&(ve==4?Ls(this.j,this):(this.o=!1,xi(this)))}else Xo(this.g),p==400&&y.indexOf("Unknown SID")>0?(this.m=3,nt(12)):(this.m=0,nt(13)),lr(this),Oi(this)}}}catch{}};function ml(l){if(!gl(l))return l.g.la();const p=Tl(l.g);if(p==="")return"";let y="";const E=p.length,M=jn(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return lr(l),Oi(l),"";l.h.i=new h.TextDecoder}for(let U=0;U<E;U++)l.h.h=!0,y+=l.h.i.decode(p[U],{stream:!(M&&U==E-1)});return p.length=0,l.h.g+=y,l.C=0,l.h.g}function gl(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function yl(l,p){var y=l.C,E=p.indexOf(`
`,y);return E==-1?Uo:(y=Number(p.substring(y,E)),isNaN(y)?pl:(E+=1,E+y>p.length?Uo:(p=p.slice(E,E+y),l.C=E+y,p)))}an.prototype.cancel=function(){this.K=!0,lr(this)};function xi(l){l.T=Date.now()+l.H,zo(l,l.H)}function zo(l,p){if(l.D!=null)throw Error("WatchDog timer not null");l.D=br(_(l.aa,l),p)}function As(l){l.D&&(h.clearTimeout(l.D),l.D=null)}an.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(hl(this.i,this.B),this.M!=2&&(sr(),nt(17)),lr(this),this.m=2,Oi(this)):zo(this,this.T-l)};function Oi(l){l.j.I==0||l.K||Ls(l.j,l)}function lr(l){As(l);var p=l.O;p&&typeof p.dispose=="function"&&p.dispose(),l.O=null,Es(l.V),l.g&&(p=l.g,l.g=null,p.abort(),p.dispose())}function qe(l,p){try{var y=l.j;if(y.I!=0&&(y.g==l||$o(y.h,l))){if(!l.L&&$o(y.h,l)&&y.I==3){try{var E=y.Ba.g.parse(p)}catch{E=null}if(Array.isArray(E)&&E.length==3){var M=E;if(M[0]==0){e:if(!y.v){if(y.g)if(y.g.F+3e3<l.F)Os(y),en(y);else break e;$n(y),nt(18)}}else y.xa=M[1],0<y.xa-y.K&&M[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=br(_(y.Va,y),6e3));Li(y.h)<=1&&y.ta&&(y.ta=void 0)}else tn(y,11)}else if((l.L||y.g==l)&&Os(y),!A(p))for(M=y.Ba.g.parse(p),p=0;p<M.length;p++){let ze=M[p];const ut=ze[0];if(!(ut<=y.K))if(y.K=ut,ze=ze[1],y.I==2)if(ze[0]=="c"){y.M=ze[1],y.ba=ze[2];const nn=ze[3];nn!=null&&(y.ka=nn,y.j.info("VER="+y.ka));const pr=ze[4];pr!=null&&(y.za=pr,y.j.info("SVER="+y.za));const Hn=ze[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(E=1.5*Hn,y.O=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const Wn=l.g;if(Wn){const Fs=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fs){var U=E.h;U.g||Fs.indexOf("spdy")==-1&&Fs.indexOf("quic")==-1&&Fs.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Rs(U,U.h),U.h=null))}if(E.G){const ta=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;ta&&(E.wa=ta,be(E.J,E.G,ta))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-l.F,y.j.info("Handshake RTT: "+y.T+"ms")),E=y;var Y=l;if(E.na=ea(E,E.L?E.ba:null,E.W),Y.L){Mi(E.h,Y);var ve=Y,st=E.O;st&&(ve.H=st),ve.D&&(As(ve),xi(ve)),E.g=Y}else Vt(E);y.i.length>0&&dr(y)}else ze[0]!="stop"&&ze[0]!="close"||tn(y,7);else y.I==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?tn(y,7):Vs(y):ze[0]!="noop"&&y.l&&y.l.qa(ze),y.A=0)}}sr(4)}catch{}}var Pc=class{constructor(l,p){this.g=l,this.map=p}};function Cs(l){this.l=l||10,h.PerformanceNavigationTiming?(l=h.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Bo(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Li(l){return l.h?1:l.g?l.g.size:0}function $o(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function Rs(l,p){l.g?l.g.add(p):l.h=p}function Mi(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}Cs.prototype.cancel=function(){if(this.i=Yt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Yt(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const y of l.g.values())p=p.concat(y.G);return p}return z(l.i)}var _l=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xt(l,p){if(l){l=l.split("&");for(let y=0;y<l.length;y++){const E=l[y].indexOf("=");let M,U=null;E>=0?(M=l[y].substring(0,E),U=l[y].substring(E+1)):M=l[y],p(M,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function On(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;l instanceof On?(this.l=l.l,bi(this,l.j),this.o=l.o,this.g=l.g,Ln(this,l.u),this.h=l.h,zr(this,Yo(l.i)),this.m=l.m):l&&(p=String(l).match(_l))?(this.l=!1,bi(this,p[1]||"",!0),this.o=Fi(p[2]||""),this.g=Fi(p[3]||"",!0),Ln(this,p[4]),this.h=Fi(p[5]||"",!0),zr(this,p[6]||"",!0),this.m=Fi(p[7]||"")):(this.l=!1,this.i=new De(null,this.l))}On.prototype.toString=function(){const l=[];var p=this.j;p&&l.push(Ui(p,Wo,!0),":");var y=this.g;return(y||p=="file")&&(l.push("//"),(p=this.o)&&l.push(Ui(p,Wo,!0),"@"),l.push(xn(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&l.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Ui(y,y.charAt(0)=="/"?ji:qo,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Ui(y,Ko)),l.join("")},On.prototype.resolve=function(l){const p=ln(this);let y=!!l.j;y?bi(p,l.j):y=!!l.o,y?p.o=l.o:y=!!l.g,y?p.g=l.g:y=l.u!=null;var E=l.h;if(y)Ln(p,l.u);else if(y=!!l.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var M=p.h.lastIndexOf("/");M!=-1&&(E=p.h.slice(0,M+1)+E)}if(M=E,M==".."||M==".")E="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){E=M.lastIndexOf("/",0)==0,M=M.split("/");const U=[];for(let Y=0;Y<M.length;){const ve=M[Y++];ve=="."?E&&Y==M.length&&U.push(""):ve==".."?((U.length>1||U.length==1&&U[0]!="")&&U.pop(),E&&Y==M.length&&U.push("")):(U.push(ve),E=!0)}E=U.join("/")}else E=M}return y?p.h=E:y=l.i.toString()!=="",y?zr(p,Yo(l.i)):y=!!l.m,y&&(p.m=l.m),p};function ln(l){return new On(l)}function bi(l,p,y){l.j=y?Fi(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function Ln(l,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);l.u=p}else l.u=null}function zr(l,p,y){p instanceof De?(l.i=p,ks(l.i,l.l)):(y||(p=Ui(p,kc)),l.i=new De(p,l.l))}function be(l,p,y){l.i.set(p,y)}function ur(l){return be(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function Fi(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ui(l,p,y){return typeof l=="string"?(l=encodeURI(l).replace(p,Ho),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Ho(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Wo=/[#\/\?@]/g,qo=/[#\?:]/g,ji=/[#\?]/g,kc=/[#\?@]/g,Ko=/#/g;function De(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Mn(l){l.g||(l.g=new Map,l.h=0,l.i&&Xt(l.i,function(p,y){l.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}r=De.prototype,r.add=function(l,p){Mn(this),this.i=null,l=bn(this,l);let y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(p),this.h+=1,this};function Go(l,p){Mn(l),p=bn(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function Ps(l,p){return Mn(l),p=bn(l,p),l.g.has(p)}r.forEach=function(l,p){Mn(this),this.g.forEach(function(y,E){y.forEach(function(M){l.call(p,M,E,this)},this)},this)};function Qo(l,p){Mn(l);let y=[];if(typeof p=="string")Ps(l,p)&&(y=y.concat(l.g.get(bn(l,p))));else for(l=Array.from(l.g.values()),p=0;p<l.length;p++)y=y.concat(l[p]);return y}r.set=function(l,p){return Mn(this),this.i=null,l=bn(this,l),Ps(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},r.get=function(l,p){return l?(l=Qo(this,l),l.length>0?String(l[0]):p):p};function Jo(l,p,y){Go(l,p),y.length>0&&(l.i=null,l.g.set(bn(l,p),z(y)),l.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(let E=0;E<p.length;E++){var y=p[E];const M=xn(y);y=Qo(this,y);for(let U=0;U<y.length;U++){let Y=M;y[U]!==""&&(Y+="="+xn(y[U])),l.push(Y)}}return this.i=l.join("&")};function Yo(l){const p=new De;return p.i=l.i,l.g&&(p.g=new Map(l.g),p.h=l.h),p}function bn(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function ks(l,p){p&&!l.j&&(Mn(l),l.i=null,l.g.forEach(function(y,E){const M=E.toLowerCase();E!=M&&(Go(this,E),Jo(this,M,y))},l)),l.j=p}function Fn(l,p){const y=new Fr;if(h.Image){const E=new Image;E.onload=w(St,y,"TestLoadImage: loaded",!0,p,E),E.onerror=w(St,y,"TestLoadImage: error",!1,p,E),E.onabort=w(St,y,"TestLoadImage: abort",!1,p,E),E.ontimeout=w(St,y,"TestLoadImage: timeout",!1,p,E),h.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else p(!1)}function Un(l,p){const y=new Fr,E=new AbortController,M=setTimeout(()=>{E.abort(),St(y,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:E.signal}).then(U=>{clearTimeout(M),U.ok?St(y,"TestPingServer: ok",!0,p):St(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),St(y,"TestPingServer: error",!1,p)})}function St(l,p,y,E,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),E(y)}catch{}}function zi(){this.g=new Di}function cr(l){this.i=l.Sb||null,this.h=l.ab||!1}T(cr,Or),cr.prototype.g=function(){return new Zt(this.i,this.h)};function Zt(l,p){lt.call(this),this.H=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Zt,lt),r=Zt.prototype,r.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=p,this.readyState=1,wn(this)},r.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(p.body=l),(this.H||h).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Br(this)),this.readyState=0},r.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,wn(this)),this.g&&(this.readyState=3,wn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;vl(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function vl(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}r.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?Br(this):wn(this),this.readyState==3&&vl(this)}},r.Oa=function(l){this.g&&(this.response=this.responseText=l,Br(this))},r.Na=function(l){this.g&&(this.response=l,Br(this))},r.ga=function(){this.g&&Br(this)};function Br(l){l.readyState=4,l.l=null,l.j=null,l.B=null,wn(l)}r.setRequestHeader=function(l,p){this.A.append(l,p)},r.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=p.next();return l.join(`\r
`)};function wn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Zt.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function El(l){let p="";return he(l,function(y,E){p+=E,p+=":",p+=y,p+=`\r
`}),p}function Ns(l,p,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=El(y),typeof l=="string"?y!=null&&xn(y):be(l,p,y))}function $e(l){lt.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T($e,lt);var wl=/^https?$/i,Nc=["POST","PUT"];r=$e.prototype,r.Fa=function(l){this.H=l},r.ea=function(l,p,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fl.g(),this.g.onreadystatechange=C(_(this.Ca,this));try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(U){$r(this,U);return}if(l=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var M in E)y.set(M,E[M]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const U of E.keys())y.set(U,E.get(U));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find(U=>U.toLowerCase()=="content-type"),M=h.FormData&&l instanceof h.FormData,!(Array.prototype.indexOf.call(Nc,p,void 0)>=0)||E||M||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,Y]of y)this.g.setRequestHeader(U,Y);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(U){$r(this,U)}};function $r(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.o=5,Hr(l),fr(l)}function Hr(l){l.A||(l.A=!0,it(l,"complete"),it(l,"error"))}r.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,it(this,"complete"),it(this,"abort"),fr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fr(this,!0)),$e.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?hr(this):this.Xa())},r.Xa=function(){hr(this)};function hr(l){if(l.h&&typeof u<"u"){if(l.v&&jn(l)==4)setTimeout(l.Ca.bind(l),0);else if(it(l,"readystatechange"),jn(l)==4){l.h=!1;try{const U=l.ca();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var E;if(E=U===0){let Y=String(l.D).match(_l)[1]||null;!Y&&h.self&&h.self.location&&(Y=h.self.location.protocol.slice(0,-1)),E=!wl.test(Y?Y.toLowerCase():"")}y=E}if(y)it(l,"complete"),it(l,"success");else{l.o=6;try{var M=jn(l)>2?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.ca()+"]",Hr(l)}}finally{fr(l)}}}}function fr(l,p){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const y=l.g;l.g=null,p||it(l,"ready");try{y.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function jn(l){return l.g?l.g.readyState:0}r.ca=function(){try{return jn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),al(p)}};function Tl(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Xo(l){const p={};l=(l.g&&jn(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(A(l[E]))continue;var y=Ss(l[E]);const M=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const U=p[M]||[];p[M]=U,U.push(y)}ne(p,function(E){return E.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zn(l,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||p}function Ds(l){this.za=0,this.i=[],this.j=new Fr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zn("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zn("baseRetryDelayMs",5e3,l),this.Za=zn("retryDelaySeedMs",1e4,l),this.Ta=zn("forwardChannelMaxRetries",2,l),this.va=zn("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new Cs(l&&l.concurrentRequestLimit),this.Ba=new zi,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ds.prototype,r.ka=8,r.I=1,r.connect=function(l,p,y,E){nt(0),this.W=l,this.H=p||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.J=ea(this,null,this.W),dr(this)};function Vs(l){if(xs(l),l.I==3){var p=l.V++,y=ln(l.J);if(be(y,"SID",l.M),be(y,"RID",p),be(y,"TYPE","terminate"),Bn(l,y),p=new an(l,l.j,p),p.M=2,p.A=ur(ln(y)),y=!1,h.navigator&&h.navigator.sendBeacon)try{y=h.navigator.sendBeacon(p.A.toString(),"")}catch{}!y&&h.Image&&(new Image().src=p.A,y=!0),y||(p.g=Sl(p.j,null),p.g.ea(p.A)),p.F=Date.now(),xi(p)}Hi(l)}function en(l){l.g&&($i(l),l.g.cancel(),l.g=null)}function xs(l){en(l),l.v&&(h.clearTimeout(l.v),l.v=null),Os(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&h.clearTimeout(l.m),l.m=null)}function dr(l){if(!Bo(l.h)&&!l.m){l.m=!0;var p=l.Ea;Fe||S(),xe||(Fe(),xe=!0),k.add(p,l),l.D=0}}function Il(l,p){return Li(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=p.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=br(_(l.Ea,l,p),Ms(l,l.D)),l.D++,!0)}r.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const M=new an(this,this.j,l);let U=this.o;if(this.U&&(U?(U=x(U),Te(U,this.U)):U=this.U),this.u!==null||this.R||(M.J=U,U=null),this.S)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(p+=E,p>4096){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=Zo(this,M,p),y=ln(this.J),be(y,"RID",l),be(y,"CVER",22),this.G&&be(y,"X-HTTP-Session-Id",this.G),Bn(this,y),U&&(this.R?p="headers="+xn(El(U))+"&"+p:this.u&&Ns(y,this.u,U)),Rs(this.h,M),this.Ra&&be(y,"TYPE","init"),this.S?(be(y,"$req",p),be(y,"SID","null"),M.U=!0,En(M,y,null)):En(M,y,p),this.I=2}}else this.I==3&&(l?Bi(this,l):this.i.length==0||Bo(this.h)||Bi(this))};function Bi(l,p){var y;p?y=p.l:y=l.V++;const E=ln(l.J);be(E,"SID",l.M),be(E,"RID",y),be(E,"AID",l.K),Bn(l,E),l.u&&l.o&&Ns(E,l.u,l.o),y=new an(l,l.j,y,l.D+1),l.u===null&&(y.J=l.o),p&&(l.i=p.G.concat(l.i)),p=Zo(l,y,1e3),y.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),Rs(l.h,y),En(y,E,p)}function Bn(l,p){l.H&&he(l.H,function(y,E){be(p,E,y)}),l.l&&he({},function(y,E){be(p,E,y)})}function Zo(l,p,y){y=Math.min(l.i.length,y);const E=l.l?_(l.l.Ka,l.l,l):null;e:{var M=l.i;let ve=-1;for(;;){const st=["count="+y];ve==-1?y>0?(ve=M[0].g,st.push("ofs="+ve)):ve=0:st.push("ofs="+ve);let ze=!0;for(let ut=0;ut<y;ut++){var U=M[ut].g;const nn=M[ut].map;if(U-=ve,U<0)ve=Math.max(0,M[ut].g-100),ze=!1;else try{U="req"+U+"_"||"";try{var Y=nn instanceof Map?nn:Object.entries(nn);for(const[pr,Hn]of Y){let Wn=Hn;m(Hn)&&(Wn=xr(Hn)),st.push(U+pr+"="+encodeURIComponent(Wn))}}catch(pr){throw st.push(U+"type="+encodeURIComponent("_badmap")),pr}}catch{E&&E(nn)}}if(ze){Y=st.join("&");break e}}Y=void 0}return l=l.i.splice(0,y),p.G=l,Y}function Vt(l){if(!l.g&&!l.v){l.Y=1;var p=l.Da;Fe||S(),xe||(Fe(),xe=!0),k.add(p,l),l.A=0}}function $n(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=br(_(l.Da,l),Ms(l,l.A)),l.A++,!0)}r.Da=function(){if(this.v=null,Wr(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=br(_(this.Wa,this),l)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,nt(10),en(this),Wr(this))};function $i(l){l.B!=null&&(h.clearTimeout(l.B),l.B=null)}function Wr(l){l.g=new an(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var p=ln(l.na);be(p,"RID","rpc"),be(p,"SID",l.M),be(p,"AID",l.K),be(p,"CI",l.F?"0":"1"),!l.F&&l.ia&&be(p,"TO",l.ia),be(p,"TYPE","xmlhttp"),Bn(l,p),l.u&&l.o&&Ns(p,l.u,l.o),l.O&&(l.g.H=l.O);var y=l.g;l=l.ba,y.M=1,y.A=ur(ln(p)),y.u=null,y.R=!0,jo(y,l)}r.Va=function(){this.C!=null&&(this.C=null,en(this),$n(this),nt(19))};function Os(l){l.C!=null&&(h.clearTimeout(l.C),l.C=null)}function Ls(l,p){var y=null;if(l.g==p){Os(l),$i(l),l.g=null;var E=2}else if($o(l.h,p))y=p.G,Mi(l.h,p),E=1;else return;if(l.I!=0){if(p.o)if(E==1){y=p.u?p.u.length:0,p=Date.now()-p.F;var M=l.D;E=Mr(),it(E,new Fo(E,y)),dr(l)}else Vt(l);else if(M=p.m,M==3||M==0&&p.X>0||!(E==1&&Il(l,p)||E==2&&$n(l)))switch(y&&y.length>0&&(p=l.h,p.i=p.i.concat(y)),M){case 1:tn(l,5);break;case 4:tn(l,10);break;case 3:tn(l,6);break;default:tn(l,2)}}}function Ms(l,p){let y=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(y*=2),y*p}function tn(l,p){if(l.j.info("Error code "+p),p==2){var y=_(l.bb,l),E=l.Ua;const M=!E;E=new On(E||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||bi(E,"https"),ur(E),M?Fn(E.toString(),y):Un(E.toString(),y)}else nt(2);l.I=0,l.l&&l.l.pa(p),Hi(l),xs(l)}r.bb=function(l){l?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Hi(l){if(l.I=0,l.ja=[],l.l){const p=Yt(l.h);(p.length!=0||l.i.length!=0)&&(Q(l.ja,p),Q(l.ja,l.i),l.h.i.length=0,z(l.i),l.i.length=0),l.l.oa()}}function ea(l,p,y){var E=y instanceof On?ln(y):new On(y);if(E.g!="")p&&(E.g=p+"."+E.g),Ln(E,E.u);else{var M=h.location;E=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;const U=new On(null);E&&bi(U,E),p&&(U.g=p),M&&Ln(U,M),y&&(U.h=y),E=U}return y=l.G,p=l.wa,y&&p&&be(E,y,p),be(E,"VER",l.ka),Bn(l,E),E}function Sl(l,p,y){if(p&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Aa&&!l.ma?new $e(new cr({ab:y})):new $e(l.ma),p.Fa(l.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Al(){}r=Al.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function bs(){}bs.prototype.g=function(l,p){return new At(l,p)};function At(l,p){lt.call(this),this.g=new Ds(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(l?l["X-WebChannel-Client-Profile"]=p.sa:l={"X-WebChannel-Client-Profile":p.sa}),this.g.U=l,(l=p&&p.Qb)&&!A(l)&&(this.g.u=l),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!A(p)&&(this.g.G=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new qr(this)}T(At,lt),At.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},At.prototype.close=function(){Vs(this.g)},At.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.v&&(y={},y.__data__=xr(l),l=y);p.i.push(new Pc(p.Ya++,l)),p.I==3&&dr(p)},At.prototype.N=function(){this.g.l=null,delete this.j,Vs(this.g),delete this.g,At.Z.N.call(this)};function Cl(l){ws.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const y in p){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}T(Cl,ws);function Rl(){bo.call(this),this.status=1}T(Rl,bo);function qr(l){this.g=l}T(qr,Al),qr.prototype.ra=function(){it(this.g,"a")},qr.prototype.qa=function(l){it(this.g,new Cl(l))},qr.prototype.pa=function(l){it(this.g,new Rl)},qr.prototype.oa=function(){it(this.g,"b")},bs.prototype.createWebChannel=bs.prototype.g,At.prototype.send=At.prototype.o,At.prototype.open=At.prototype.m,At.prototype.close=At.prototype.close,h_=function(){return new bs},c_=function(){return Mr()},u_=vn,Af={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ur.NO_ERROR=0,Ur.TIMEOUT=8,Ur.HTTP_ERROR=6,Pu=Ur,jr.COMPLETE="complete",l_=jr,ll.EventType=Lr,Lr.OPEN="a",Lr.CLOSE="b",Lr.ERROR="c",Lr.MESSAGE="d",lt.prototype.listen=lt.prototype.J,Pa=ll,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,a_=$e}).apply(typeof wu<"u"?wu:typeof self<"u"?self:typeof window<"u"?window:{});class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");let Ro="12.9.0";function wI(r){Ro=r}const as=new Kf("@firebase/firestore");function so(){return as.logLevel}function te(r,...e){if(as.logLevel<=Pe.DEBUG){const t=e.map(Jf);as.debug(`Firestore (${Ro}): ${r}`,...t)}}function Cr(r,...e){if(as.logLevel<=Pe.ERROR){const t=e.map(Jf);as.error(`Firestore (${Ro}): ${r}`,...t)}}function ls(r,...e){if(as.logLevel<=Pe.WARN){const t=e.map(Jf);as.warn(`Firestore (${Ro}): ${r}`,...t)}}function Jf(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function me(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,f_(r,s,t)}function f_(r,e,t){let s=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Cr(s),new Error(s)}function je(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||f_(e,o,s)}function Ee(r,e){return r}const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Nr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class d_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class TI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ft.UNAUTHENTICATED)))}shutdown(){}}class II{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class SI{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){je(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let u=new vi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new vi,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new vi)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(je(typeof s.accessToken=="string",31837,{l:s}),new d_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string",2055,{h:e}),new Ft(e)}}class AI{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class CI{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new AI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ft.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RI{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){je(this.o===void 0,3512);const s=u=>{u.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,te("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yg(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(je(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new yg(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function PI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class Yf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=PI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function ke(r,e){return r<e?-1:r>e?1:0}function Cf(r,e){const t=Math.min(r.length,e.length);for(let s=0;s<t;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return uf(o)===uf(u)?ke(o,u):uf(o)?1:-1}return ke(r.length,e.length)}const kI=55296,NI=57343;function uf(r){const e=r.charCodeAt(0);return e>=kI&&e<=NI}function vo(r,e,t){return r.length===e.length&&r.every(((s,o)=>t(s,e[o])))}const _g="__name__";class Jn{constructor(e,t,s){t===void 0?t=0:t>e.length&&me(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&me(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Jn.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jn?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Jn.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return ke(e.length,t.length)}static compareSegments(e,t){const s=Jn.isNumericId(e),o=Jn.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Jn.extractNumericId(e).compare(Jn.extractNumericId(t)):Cf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _i.fromString(e.substring(4,e.length-2))}}class Qe extends Jn{construct(e,t,s){return new Qe(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new Qe(t)}static emptyPath(){return new Qe([])}}const DI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends Jn{construct(e,t,s){return new kt(e,t,s)}static isValidIdentifier(e){return DI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_g}static keyField(){return new kt([_g])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ue(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(t)}static emptyPath(){return new kt([])}}class fe{constructor(e){this.path=e}static fromPath(e){return new fe(Qe.fromString(e))}static fromName(e){return new fe(Qe.fromString(e).popFirst(5))}static empty(){return new fe(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new Qe(e.slice()))}}function p_(r,e,t){if(!t)throw new ue(q.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function VI(r,e,t,s){if(e===!0&&s===!0)throw new ue(q.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function vg(r){if(!fe.isDocumentKey(r))throw new ue(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Eg(r){if(fe.isDocumentKey(r))throw new ue(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function m_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Xf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":me(12329,{type:typeof r})}function Eo(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Xf(r);throw new ue(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function ft(r,e){const t={typeString:r};return e&&(t.value=e),t}function Ya(r,e){if(!m_(r))throw new ue(q.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new ue(q.INVALID_ARGUMENT,t);return!0}const wg=-62135596800,Tg=1e6;class Je{static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Tg);return new Je(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ue(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ue(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<wg)throw new ue(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Tg}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ya(e,Je._jsonSchema))return new Je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-wg;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Je._jsonSchemaVersion="firestore/timestamp/1.0",Je._jsonSchema={type:ft("string",Je._jsonSchemaVersion),seconds:ft("number"),nanoseconds:ft("number")};class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new Je(0,0))}static max(){return new _e(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ja=-1;function xI(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=_e.fromTimestamp(s===1e9?new Je(t+1,0):new Je(t,s));return new Ti(o,fe.empty(),e)}function OI(r){return new Ti(r.readTime,r.key,ja)}class Ti{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ti(_e.min(),fe.empty(),ja)}static max(){return new Ti(_e.max(),fe.empty(),ja)}}function LI(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=fe.comparator(r.documentKey,e.documentKey),t!==0?t:ke(r.largestBatchId,e.largestBatchId))}const MI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Po(r){if(r.code!==q.FAILED_PRECONDITION||r.message!==MI)throw r;te("LocalStore","Unexpectedly lost primary lease")}class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new B(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof B?t:B.resolve(t)}catch(t){return B.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):B.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):B.reject(t)}static resolve(e){return new B(((t,s)=>{t(e)}))}static reject(e){return new B(((t,s)=>{s(e)}))}static waitFor(e){return new B(((t,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&t()}),(g=>s(g)))})),h=!0,u===o&&t()}))}static or(e){let t=B.resolve(!1);for(const s of e)t=t.next((o=>o?B.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,u)=>{s.push(t.call(this,o,u))})),this.waitFor(s)}static mapArray(e,t){return new B(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const _=g;t(e[_]).next((w=>{h[_]=w,++m,m===u&&s(h)}),(w=>o(w)))}}))}static doWhile(e,t){return new B(((s,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):s()};u()}))}}function FI(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ko(r){return r.name==="IndexedDbTransactionError"}class uc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}uc.ce=-1;const Zf=-1;function cc(r){return r==null}function zu(r){return r===0&&1/r==-1/0}function UI(r){return typeof r=="number"&&Number.isInteger(r)&&!zu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const g_="";function jI(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Ig(e)),e=zI(r.get(t),e);return Ig(e)}function zI(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case g_:t+="";break;default:t+=u}}return t}function Ig(r){return r+g_+""}function Sg(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ds(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function y_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class tt{constructor(e,t){this.comparator=e,this.root=t||Pt.EMPTY}insert(e,t){return new tt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tu(this.root,e,this.comparator,!0)}}class Tu{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Pt.RED,this.left=o??Pt.EMPTY,this.right=u??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Pt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Pt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw me(27949);return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw me(57766)}get value(){throw me(16141)}get color(){throw me(16727)}get left(){throw me(29726)}get right(){throw me(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Pt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yt{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ag(this.data.getIterator())}getIteratorFrom(e){return new Ag(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new yt(this.comparator);return t.data=e,t}}class Ag{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class kn{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new kn([])}unionWith(e){let t=new yt(kt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new kn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vo(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class __ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Nt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new __("Invalid base64 string: "+u):u}})(e);return new Nt(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Nt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const BI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ii(r){if(je(!!r,39018),typeof r=="string"){let e=0;const t=BI.exec(r);if(je(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:at(r.seconds),nanos:at(r.nanos)}}function at(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Si(r){return typeof r=="string"?Nt.fromBase64String(r):Nt.fromUint8Array(r)}const v_="server_timestamp",E_="__type__",w_="__previous_value__",T_="__local_write_time__";function ed(r){return(r?.mapValue?.fields||{})[E_]?.stringValue===v_}function hc(r){const e=r.mapValue.fields[w_];return ed(e)?hc(e):e}function za(r){const e=Ii(r.mapValue.fields[T_].timestampValue);return new Je(e.seconds,e.nanos)}class $I{constructor(e,t,s,o,u,h,m,g,_,w,T){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=w,this.apiKey=T}}const Bu="(default)";class Ba{constructor(e,t){this.projectId=e,this.database=t||Bu}static empty(){return new Ba("","")}get isDefaultDatabase(){return this.database===Bu}isEqual(e){return e instanceof Ba&&e.projectId===this.projectId&&e.database===this.database}}function HI(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ue(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ba(r.options.projectId,e)}const I_="__type__",WI="__max__",Iu={mapValue:{}},S_="__vector__",$u="value";function Ai(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ed(r)?4:KI(r)?9007199254740991:qI(r)?10:11:me(28295,{value:r})}function rr(r,e){if(r===e)return!0;const t=Ai(r);if(t!==Ai(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return za(r).isEqual(za(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Ii(o.timestampValue),m=Ii(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Si(o.bytesValue).isEqual(Si(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return at(o.geoPointValue.latitude)===at(u.geoPointValue.latitude)&&at(o.geoPointValue.longitude)===at(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return at(o.integerValue)===at(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=at(o.doubleValue),m=at(u.doubleValue);return h===m?zu(h)===zu(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return vo(r.arrayValue.values||[],e.arrayValue.values||[],rr);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Sg(h)!==Sg(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!rr(h[g],m[g])))return!1;return!0})(r,e);default:return me(52216,{left:r})}}function $a(r,e){return(r.values||[]).find((t=>rr(t,e)))!==void 0}function wo(r,e){if(r===e)return 0;const t=Ai(r),s=Ai(e);if(t!==s)return ke(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=at(u.integerValue||u.doubleValue),g=at(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return Cg(r.timestampValue,e.timestampValue);case 4:return Cg(za(r),za(e));case 5:return Cf(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=Si(u),g=Si(h);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),g=h.split("/");for(let _=0;_<m.length&&_<g.length;_++){const w=ke(m[_],g[_]);if(w!==0)return w}return ke(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=ke(at(u.latitude),at(h.latitude));return m!==0?m:ke(at(u.longitude),at(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Rg(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},g=h.fields||{},_=m[$u]?.arrayValue,w=g[$u]?.arrayValue,T=ke(_?.values?.length||0,w?.values?.length||0);return T!==0?T:Rg(_,w)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===Iu.mapValue&&h===Iu.mapValue)return 0;if(u===Iu.mapValue)return 1;if(h===Iu.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),_=h.fields||{},w=Object.keys(_);g.sort(),w.sort();for(let T=0;T<g.length&&T<w.length;++T){const C=Cf(g[T],w[T]);if(C!==0)return C;const z=wo(m[g[T]],_[w[T]]);if(z!==0)return z}return ke(g.length,w.length)})(r.mapValue,e.mapValue);default:throw me(23264,{he:t})}}function Cg(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ke(r,e);const t=Ii(r),s=Ii(e),o=ke(t.seconds,s.seconds);return o!==0?o:ke(t.nanos,s.nanos)}function Rg(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=wo(t[o],s[o]);if(u)return u}return ke(t.length,s.length)}function To(r){return Rf(r)}function Rf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const s=Ii(t);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Si(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return fe.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Rf(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Rf(t.fields[h])}`;return o+"}"})(r.mapValue):me(61005,{value:r})}function ku(r){switch(Ai(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hc(r);return e?16+ku(e):16;case 5:return 2*r.stringValue.length;case 6:return Si(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+ku(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ds(s.fields,((u,h)=>{o+=u.length+ku(h)})),o})(r.mapValue);default:throw me(13486,{value:r})}}function Pf(r){return!!r&&"integerValue"in r}function td(r){return!!r&&"arrayValue"in r}function Pg(r){return!!r&&"nullValue"in r}function kg(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Nu(r){return!!r&&"mapValue"in r}function qI(r){return(r?.mapValue?.fields||{})[I_]?.stringValue===S_}function Va(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ds(r.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Va(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Va(r.arrayValue.values[t]);return e}return{...r}}function KI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===WI}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Nu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Va(t)}setAll(e){let t=kt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=Va(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Nu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Nu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ds(t,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new mn(Va(this.value))}}function A_(r){const e=[];return ds(r.fields,((t,s)=>{const o=new kt([t]);if(Nu(s)){const u=A_(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new kn(e)}class Ut{constructor(e,t,s,o,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Ut(e,0,_e.min(),_e.min(),_e.min(),mn.empty(),0)}static newFoundDocument(e,t,s,o){return new Ut(e,1,t,_e.min(),s,o,0)}static newNoDocument(e,t){return new Ut(e,2,t,_e.min(),_e.min(),mn.empty(),0)}static newUnknownDocument(e,t){return new Ut(e,3,t,_e.min(),_e.min(),mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hu{constructor(e,t){this.position=e,this.inclusive=t}}function Ng(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=fe.comparator(fe.fromName(h.referenceValue),t.key):s=wo(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Dg(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!rr(r.position[t],e.position[t]))return!1;return!0}class Wu{constructor(e,t="asc"){this.field=e,this.dir=t}}function GI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class C_{}class gt extends C_{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new JI(e,t,s):t==="array-contains"?new ZI(e,s):t==="in"?new eS(e,s):t==="not-in"?new tS(e,s):t==="array-contains-any"?new nS(e,s):new gt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new YI(e,s):new XI(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(wo(t,this.value)):t!==null&&Ai(this.value)===Ai(t)&&this.matchesComparison(wo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends C_{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ir(e,t)}matches(e){return R_(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function R_(r){return r.op==="and"}function P_(r){return QI(r)&&R_(r)}function QI(r){for(const e of r.filters)if(e instanceof ir)return!1;return!0}function kf(r){if(r instanceof gt)return r.field.canonicalString()+r.op.toString()+To(r.value);if(P_(r))return r.filters.map((e=>kf(e))).join(",");{const e=r.filters.map((t=>kf(t))).join(",");return`${r.op}(${e})`}}function k_(r,e){return r instanceof gt?(function(s,o){return o instanceof gt&&s.op===o.op&&s.field.isEqual(o.field)&&rr(s.value,o.value)})(r,e):r instanceof ir?(function(s,o){return o instanceof ir&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&k_(h,o.filters[m])),!0):!1})(r,e):void me(19439)}function N_(r){return r instanceof gt?(function(t){return`${t.field.canonicalString()} ${t.op} ${To(t.value)}`})(r):r instanceof ir?(function(t){return t.op.toString()+" {"+t.getFilters().map(N_).join(" ,")+"}"})(r):"Filter"}class JI extends gt{constructor(e,t,s){super(e,t,s),this.key=fe.fromName(s.referenceValue)}matches(e){const t=fe.comparator(e.key,this.key);return this.matchesComparison(t)}}class YI extends gt{constructor(e,t){super(e,"in",t),this.keys=D_("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class XI extends gt{constructor(e,t){super(e,"not-in",t),this.keys=D_("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function D_(r,e){return(e.arrayValue?.values||[]).map((t=>fe.fromName(t.referenceValue)))}class ZI extends gt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return td(t)&&$a(t.arrayValue,this.value)}}class eS extends gt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&$a(this.value.arrayValue,t)}}class tS extends gt{constructor(e,t){super(e,"not-in",t)}matches(e){if($a(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!$a(this.value.arrayValue,t)}}class nS extends gt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!td(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>$a(this.value.arrayValue,s)))}}class rS{constructor(e,t=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function Vg(r,e=null,t=[],s=[],o=null,u=null,h=null){return new rS(r,e,t,s,o,u,h)}function nd(r){const e=Ee(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>kf(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),cc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>To(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>To(s))).join(",")),e.Te=t}return e.Te}function rd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!GI(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!k_(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Dg(r.startAt,e.startAt)&&Dg(r.endAt,e.endAt)}function Nf(r){return fe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class fc{constructor(e,t=null,s=[],o=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function iS(r,e,t,s,o,u,h,m){return new fc(r,e,t,s,o,u,h,m)}function V_(r){return new fc(r)}function xg(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function sS(r){return fe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function oS(r){return r.collectionGroup!==null}function xa(r){const e=Ee(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new yt(kt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(m=m.add(_.field))}))})),m})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Wu(u,s))})),t.has(kt.keyField().canonicalString())||e.Ie.push(new Wu(kt.keyField(),s))}return e.Ie}function Yn(r){const e=Ee(r);return e.Ee||(e.Ee=aS(e,xa(r))),e.Ee}function aS(r,e){if(r.limitType==="F")return Vg(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Wu(o.field,u)}));const t=r.endAt?new Hu(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Hu(r.startAt.position,r.startAt.inclusive):null;return Vg(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function Df(r,e,t){return new fc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function dc(r,e){return rd(Yn(r),Yn(e))&&r.limitType===e.limitType}function x_(r){return`${nd(Yn(r))}|lt:${r.limitType}`}function oo(r){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>N_(o))).join(", ")}]`),cc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>To(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>To(o))).join(",")),`Target(${s})`})(Yn(r))}; limitType=${r.limitType})`}function pc(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):fe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of xa(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,g){const _=Ng(h,m,g);return h.inclusive?_<=0:_<0})(s.startAt,xa(s),o)||s.endAt&&!(function(h,m,g){const _=Ng(h,m,g);return h.inclusive?_>=0:_>0})(s.endAt,xa(s),o))})(r,e)}function lS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function O_(r){return(e,t)=>{let s=!1;for(const o of xa(r)){const u=uS(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function uS(r,e,t){const s=r.field.isKeyField()?fe.comparator(e.key,t.key):(function(u,h,m){const g=h.data.field(u),_=m.data.field(u);return g!==null&&_!==null?wo(g,_):me(42886)})(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return me(19790,{direction:r.dir})}}class ps{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ds(this.inner,((t,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return y_(this.inner)}size(){return this.innerSize}}const cS=new tt(fe.comparator);function Rr(){return cS}const L_=new tt(fe.comparator);function ka(...r){let e=L_;for(const t of r)e=e.insert(t.key,t);return e}function M_(r){let e=L_;return r.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function is(){return Oa()}function b_(){return Oa()}function Oa(){return new ps((r=>r.toString()),((r,e)=>r.isEqual(e)))}const hS=new tt(fe.comparator),fS=new yt(fe.comparator);function Ne(...r){let e=fS;for(const t of r)e=e.add(t);return e}const dS=new yt(ke);function pS(){return dS}function id(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zu(e)?"-0":e}}function F_(r){return{integerValue:""+r}}function mS(r,e){return UI(e)?F_(e):id(r,e)}class mc{constructor(){this._=void 0}}function gS(r,e,t){return r instanceof qu?(function(o,u){const h={fields:{[E_]:{stringValue:v_},[T_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ed(u)&&(u=hc(u)),u&&(h.fields[w_]=u),{mapValue:h}})(t,e):r instanceof Ha?j_(r,e):r instanceof Wa?z_(r,e):(function(o,u){const h=U_(o,u),m=Og(h)+Og(o.Ae);return Pf(h)&&Pf(o.Ae)?F_(m):id(o.serializer,m)})(r,e)}function yS(r,e,t){return r instanceof Ha?j_(r,e):r instanceof Wa?z_(r,e):t}function U_(r,e){return r instanceof Ku?(function(s){return Pf(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class qu extends mc{}class Ha extends mc{constructor(e){super(),this.elements=e}}function j_(r,e){const t=B_(e);for(const s of r.elements)t.some((o=>rr(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Wa extends mc{constructor(e){super(),this.elements=e}}function z_(r,e){let t=B_(e);for(const s of r.elements)t=t.filter((o=>!rr(o,s)));return{arrayValue:{values:t}}}class Ku extends mc{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Og(r){return at(r.integerValue||r.doubleValue)}function B_(r){return td(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function _S(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Ha&&o instanceof Ha||s instanceof Wa&&o instanceof Wa?vo(s.elements,o.elements,rr):s instanceof Ku&&o instanceof Ku?rr(s.Ae,o.Ae):s instanceof qu&&o instanceof qu})(r.transform,e.transform)}class vS{constructor(e,t){this.version=e,this.transformResults=t}}class Xn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Du(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class gc{}function $_(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new sd(r.key,Xn.none()):new Xa(r.key,r.data,Xn.none());{const t=r.data,s=mn.empty();let o=new yt(kt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ms(r.key,s,new kn(o.toArray()),Xn.none())}}function ES(r,e,t){r instanceof Xa?(function(o,u,h){const m=o.value.clone(),g=Mg(o.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,t):r instanceof ms?(function(o,u,h){if(!Du(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=Mg(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(H_(o)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,t):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function La(r,e,t,s){return r instanceof Xa?(function(u,h,m,g){if(!Du(u.precondition,h))return m;const _=u.value.clone(),w=bg(u.fieldTransforms,g,h);return _.setAll(w),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),null})(r,e,t,s):r instanceof ms?(function(u,h,m,g){if(!Du(u.precondition,h))return m;const _=bg(u.fieldTransforms,g,h),w=h.data;return w.setAll(H_(u)),w.setAll(_),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,t,s):(function(u,h,m){return Du(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,t)}function wS(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=U_(s.transform,o||null);u!=null&&(t===null&&(t=mn.empty()),t.set(s.field,u))}return t||null}function Lg(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&vo(s,o,((u,h)=>_S(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Xa extends gc{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ms extends gc{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function H_(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}})),e}function Mg(r,e,t){const s=new Map;je(r.length===t.length,32656,{Ve:t.length,de:r.length});for(let o=0;o<t.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,yS(h,m,t[o]))}return s}function bg(r,e,t){const s=new Map;for(const o of r){const u=o.transform,h=t.data.field(o.field);s.set(o.field,gS(u,h,e))}return s}class sd extends gc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TS extends gc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class IS{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&ES(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=La(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=La(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=b_();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(o.key)?null:m;const g=$_(h,m);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(_e.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ne())}isEqual(e){return this.batchId===e.batchId&&vo(this.mutations,e.mutations,((t,s)=>Lg(t,s)))&&vo(this.baseMutations,e.baseMutations,((t,s)=>Lg(t,s)))}}class od{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){je(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return hS})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new od(e,t,s,o)}}class SS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class AS{constructor(e,t){this.count=e,this.unchangedNames=t}}var ht,Ve;function CS(r){switch(r){case q.OK:return me(64938);case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0;default:return me(15467,{code:r})}}function W_(r){if(r===void 0)return Cr("GRPC error has no .code"),q.UNKNOWN;switch(r){case ht.OK:return q.OK;case ht.CANCELLED:return q.CANCELLED;case ht.UNKNOWN:return q.UNKNOWN;case ht.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case ht.INTERNAL:return q.INTERNAL;case ht.UNAVAILABLE:return q.UNAVAILABLE;case ht.UNAUTHENTICATED:return q.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case ht.NOT_FOUND:return q.NOT_FOUND;case ht.ALREADY_EXISTS:return q.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return q.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case ht.ABORTED:return q.ABORTED;case ht.OUT_OF_RANGE:return q.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return q.UNIMPLEMENTED;case ht.DATA_LOSS:return q.DATA_LOSS;default:return me(39323,{code:r})}}(Ve=ht||(ht={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";function RS(){return new TextEncoder}const PS=new _i([4294967295,4294967295],0);function Fg(r){const e=RS().encode(r),t=new o_;return t.update(e),new Uint8Array(t.digest())}function Ug(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new _i([t,s],0),new _i([o,u],0)]}class ad{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Na(`Invalid padding: ${t}`);if(s<0)throw new Na(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Na(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Na(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=_i.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(_i.fromNumber(s)));return o.compare(PS)===1&&(o=new _i([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Fg(e),[s,o]=Ug(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new ad(u,o,t);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const t=Fg(e),[s,o]=Ug(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.be(h)}}be(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Na extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yc{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Za.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new yc(_e.min(),o,new tt(ke),Rr(),Ne())}}class Za{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Za(s,t,Ne(),Ne(),Ne())}}class Vu{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.De=o}}class q_{constructor(e,t){this.targetId=e,this.Ce=t}}class K_{constructor(e,t,s=Nt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class jg{constructor(){this.ve=0,this.Fe=zg(),this.Me=Nt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ne(),t=Ne(),s=Ne();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:me(38017,{changeType:u})}})),new Za(this.Me,this.xe,e,t,s)}Ke(){this.Oe=!1,this.Fe=zg()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,je(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class kS{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rr(),this.He=Su(),this.Je=Su(),this.Ze=new tt(ke)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:me(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(Nf(u))if(s===0){const h=new fe(u.path);this.et(t,h,Ut.newNoDocument(h,_e.min()))}else je(s===1,20013,{expectedCount:s});else{const h=this._t(t);if(h!==s){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(t);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,_)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,m;try{h=Si(s).toUint8Array()}catch(g){if(g instanceof __)return ls("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new ad(h,o,u)}catch(g){return ls(g instanceof Na?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(t,u,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Nf(m.target)){const g=new fe(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,Ut.newNoDocument(g,e))}u.Be&&(t.set(h,u.ke()),u.Ke())}}));let s=Ne();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new yc(e,t,this.Ze,this.je,s);return this.je=Rr(),this.He=Su(),this.Je=Su(),this.Ze=new tt(ke),o}Ye(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,s),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.qe(t,1):o.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new jg,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new yt(ke),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new yt(ke),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||te("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new jg),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Su(){return new tt(fe.comparator)}function zg(){return new tt(fe.comparator)}const NS={asc:"ASCENDING",desc:"DESCENDING"},DS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VS={and:"AND",or:"OR"};class xS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Vf(r,e){return r.useProto3Json||cc(e)?e:{value:e}}function Gu(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function G_(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function OS(r,e){return Gu(r,e.toTimestamp())}function Zn(r){return je(!!r,49232),_e.fromTimestamp((function(t){const s=Ii(t);return new Je(s.seconds,s.nanos)})(r))}function ld(r,e){return xf(r,e).canonicalString()}function xf(r,e){const t=(function(o){return new Qe(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function Q_(r){const e=Qe.fromString(r);return je(ev(e),10190,{key:e.toString()}),e}function Of(r,e){return ld(r.databaseId,e.path)}function cf(r,e){const t=Q_(e);if(t.get(1)!==r.databaseId.projectId)throw new ue(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ue(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new fe(Y_(t))}function J_(r,e){return ld(r.databaseId,e)}function LS(r){const e=Q_(r);return e.length===4?Qe.emptyPath():Y_(e)}function Lf(r){return new Qe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Y_(r){return je(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Bg(r,e,t){return{name:Of(r,e),fields:t.value.mapValue.fields}}function MS(r,e){let t;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:me(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(_,w){return _.useProto3Json?(je(w===void 0||typeof w=="string",58123),Nt.fromBase64String(w||"")):(je(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Nt.fromUint8Array(w||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(_){const w=_.code===void 0?q.UNKNOWN:W_(_.code);return new ue(w,_.message||"")})(h);t=new K_(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=cf(r,s.document.name),u=Zn(s.document.updateTime),h=s.document.createTime?Zn(s.document.createTime):_e.min(),m=new mn({mapValue:{fields:s.document.fields}}),g=Ut.newFoundDocument(o,u,h,m),_=s.targetIds||[],w=s.removedTargetIds||[];t=new Vu(_,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=cf(r,s.document),u=s.readTime?Zn(s.readTime):_e.min(),h=Ut.newNoDocument(o,u),m=s.removedTargetIds||[];t=new Vu([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=cf(r,s.document),u=s.removedTargetIds||[];t=new Vu([],u,o,null)}else{if(!("filter"in e))return me(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new AS(o,u),m=s.targetId;t=new q_(m,h)}}return t}function bS(r,e){let t;if(e instanceof Xa)t={update:Bg(r,e.key,e.value)};else if(e instanceof sd)t={delete:Of(r,e.key)};else if(e instanceof ms)t={update:Bg(r,e.key,e.data),updateMask:qS(e.fieldMask)};else{if(!(e instanceof TS))return me(16599,{dt:e.type});t={verify:Of(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof qu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ha)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Wa)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ku)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw me(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:OS(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:me(27497)})(r,e.precondition)),t}function FS(r,e){return r&&r.length>0?(je(e!==void 0,14353),r.map((t=>(function(o,u){let h=o.updateTime?Zn(o.updateTime):Zn(u);return h.isEqual(_e.min())&&(h=Zn(u)),new vS(h,o.transformResults||[])})(t,e)))):[]}function US(r,e){return{documents:[J_(r,e.path)]}}function jS(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=J_(r,o);const u=(function(_){if(_.length!==0)return Z_(ir.create(_,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const h=(function(_){if(_.length!==0)return _.map((w=>(function(C){return{field:ao(C.field),direction:$S(C.dir)}})(w)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=Vf(r,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:t,parent:o}}function zS(r){let e=LS(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){je(s===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let u=[];t.where&&(u=(function(T){const C=X_(T);return C instanceof ir&&P_(C)?C.getFilters():[C]})(t.where));let h=[];t.orderBy&&(h=(function(T){return T.map((C=>(function(Q){return new Wu(lo(Q.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(C)))})(t.orderBy));let m=null;t.limit&&(m=(function(T){let C;return C=typeof T=="object"?T.value:T,cc(C)?null:C})(t.limit));let g=null;t.startAt&&(g=(function(T){const C=!!T.before,z=T.values||[];return new Hu(z,C)})(t.startAt));let _=null;return t.endAt&&(_=(function(T){const C=!T.before,z=T.values||[];return new Hu(z,C)})(t.endAt)),iS(e,o,h,u,m,"F",g,_)}function BS(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function X_(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=lo(t.unaryFilter.field);return gt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=lo(t.unaryFilter.field);return gt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=lo(t.unaryFilter.field);return gt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=lo(t.unaryFilter.field);return gt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return me(61313);default:return me(60726)}})(r):r.fieldFilter!==void 0?(function(t){return gt.create(lo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return me(58110);default:return me(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return ir.create(t.compositeFilter.filters.map((s=>X_(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return me(1026)}})(t.compositeFilter.op))})(r):me(30097,{filter:r})}function $S(r){return NS[r]}function HS(r){return DS[r]}function WS(r){return VS[r]}function ao(r){return{fieldPath:r.canonicalString()}}function lo(r){return kt.fromServerFormat(r.fieldPath)}function Z_(r){return r instanceof gt?(function(t){if(t.op==="=="){if(kg(t.value))return{unaryFilter:{field:ao(t.field),op:"IS_NAN"}};if(Pg(t.value))return{unaryFilter:{field:ao(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(kg(t.value))return{unaryFilter:{field:ao(t.field),op:"IS_NOT_NAN"}};if(Pg(t.value))return{unaryFilter:{field:ao(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(t.field),op:HS(t.op),value:t.value}}})(r):r instanceof ir?(function(t){const s=t.getFilters().map((o=>Z_(o)));return s.length===1?s[0]:{compositeFilter:{op:WS(t.op),filters:s}}})(r):me(54877,{filter:r})}function qS(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function ev(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function tv(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class di{constructor(e,t,s,o,u=_e.min(),h=_e.min(),m=Nt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class KS{constructor(e){this.yt=e}}function GS(r){const e=zS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Df(e,e.limit,"L"):e}class QS{constructor(){this.Sn=new JS}addToCollectionParentIndex(e,t){return this.Sn.add(t),B.resolve()}getCollectionParents(e,t){return B.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return B.resolve()}deleteFieldIndex(e,t){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,t){return B.resolve()}getDocumentsMatchingTarget(e,t){return B.resolve(null)}getIndexType(e,t){return B.resolve(0)}getFieldIndexes(e,t){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,t){return B.resolve(Ti.min())}getMinOffsetFromCollectionGroup(e,t){return B.resolve(Ti.min())}updateCollectionGroup(e,t,s){return B.resolve()}updateIndexEntries(e,t){return B.resolve()}}class JS{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new yt(Qe.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new yt(Qe.comparator)).toArray()}}const $g={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nv=41943040;class Jt{static withCacheSize(e){return new Jt(e,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}Jt.DEFAULT_COLLECTION_PERCENTILE=10,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jt.DEFAULT=new Jt(nv,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jt.DISABLED=new Jt(-1,0,0);class Io{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Io(0)}static ar(){return new Io(-1)}}const Hg="LruGarbageCollector",YS=1048576;function Wg([r,e],[t,s]){const o=ke(r,t);return o===0?ke(e,s):o}class XS{constructor(e){this.Pr=e,this.buffer=new yt(Wg),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Wg(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ZS{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){te(Hg,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ko(t)?te(Hg,"Ignoring IndexedDB error during garbage collection: ",t):await Po(t)}await this.Ar(3e5)}))}}class e1{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return B.resolve(uc.ce);const s=new XS(t);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve($g)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$g):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let s,o,u,h,m,g,_;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,t)))).next((T=>(u=T,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(_=Date.now(),so()<=Pe.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(_-g)+`ms
Total Duration: ${_-w}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function t1(r,e){return new e1(r,e)}class n1{constructor(){this.changes=new ps((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?B.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class r1{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class i1{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&La(s.mutation,o,kn.empty(),Je.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Ne()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Ne()){const o=is();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((u=>{let h=ka();return u.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const s=is();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Ne())))}populateOverlays(e,t,s){const o=[];return s.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{t.set(h,m)}))}))}computeViews(e,t,s,o){let u=Rr();const h=Oa(),m=(function(){return Oa()})();return t.forEach(((g,_)=>{const w=s.get(_.key);o.has(_.key)&&(w===void 0||w.mutation instanceof ms)?u=u.insert(_.key,_):w!==void 0?(h.set(_.key,w.mutation.getFieldMask()),La(w.mutation,_,w.mutation.getFieldMask(),Je.now())):h.set(_.key,kn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((_,w)=>h.set(_,w))),t.forEach(((_,w)=>m.set(_,new r1(w,h.get(_)??null)))),m)))}recalculateAndSaveOverlays(e,t){const s=Oa();let o=new tt(((h,m)=>h-m)),u=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const m of h)m.keys().forEach((g=>{const _=t.get(g);if(_===null)return;let w=s.get(g)||kn.empty();w=m.applyToLocalView(_,w),s.set(g,w);const T=(o.get(m.batchId)||Ne()).add(g);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),_=g.key,w=g.value,T=b_();w.forEach((C=>{if(!u.has(C)){const z=$_(t.get(C),s.get(C));z!==null&&T.set(C,z),u=u.add(C)}})),h.push(this.documentOverlayCache.saveOverlays(e,_,T))}return B.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return sS(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):oS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):B.resolve(is());let m=ja,g=u;return h.next((_=>B.forEach(_,((w,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(w)?B.resolve():this.remoteDocumentCache.getEntry(e,w).next((C=>{g=g.insert(w,C)}))))).next((()=>this.populateOverlays(e,_,u))).next((()=>this.computeViews(e,g,_,Ne()))).next((w=>({batchId:m,changes:M_(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new fe(t)).next((s=>{let o=ka();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=ka();return this.indexManager.getCollectionParents(e,u).next((m=>B.forEach(m,(g=>{const _=(function(T,C){return new fc(C,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next((w=>{w.forEach(((T,C)=>{h=h.insert(T,C)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o)))).next((h=>{u.forEach(((g,_)=>{const w=_.getKey();h.get(w)===null&&(h=h.insert(w,Ut.newInvalidDocument(w)))}));let m=ka();return h.forEach(((g,_)=>{const w=u.get(g);w!==void 0&&La(w.mutation,_,kn.empty(),Je.now()),pc(t,_)&&(m=m.insert(g,_))})),m}))}}class s1{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return B.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Zn(o.createTime)}})(t)),B.resolve()}getNamedQuery(e,t){return B.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(o){return{name:o.name,query:GS(o.bundledQuery),readTime:Zn(o.readTime)}})(t)),B.resolve()}}class o1{constructor(){this.overlays=new tt(fe.comparator),this.Lr=new Map}getOverlay(e,t){return B.resolve(this.overlays.get(t))}getOverlays(e,t){const s=is();return B.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,u)=>{this.bt(e,t,u)})),B.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),B.resolve()}getOverlaysForCollection(e,t,s){const o=is(),u=t.length+1,h=new fe(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,_=g.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return B.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new tt(((_,w)=>_-w));const h=this.overlays.getIterator();for(;h.hasNext();){const _=h.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>s){let w=u.get(_.largestBatchId);w===null&&(w=is(),u=u.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const m=is(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,w)=>m.set(_,w))),!(m.size()>=o)););return B.resolve(m)}bt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new SS(t,s));let u=this.Lr.get(t);u===void 0&&(u=Ne(),this.Lr.set(t,u)),this.Lr.set(t,u.add(s.key))}}class a1{constructor(){this.sessionToken=Nt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,B.resolve()}}class ud{constructor(){this.kr=new yt(Tt.Kr),this.qr=new yt(Tt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const s=new Tt(e,t);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Wr(new Tt(e,t))}Qr(e,t){e.forEach((s=>this.removeReference(s,t)))}Gr(e){const t=new fe(new Qe([])),s=new Tt(t,e),o=new Tt(t,e+1),u=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new fe(new Qe([])),s=new Tt(t,e),o=new Tt(t,e+1);let u=Ne();return this.qr.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const t=new Tt(e,0),s=this.kr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Tt{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return fe.comparator(e.key,t.key)||ke(e.Hr,t.Hr)}static Ur(e,t){return ke(e.Hr,t.Hr)||fe.comparator(e.key,t.key)}}class l1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new yt(Tt.Kr)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new IS(u,t,s,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new Tt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return B.resolve(h)}lookupMutationBatch(e,t){return B.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),u=o<0?0:o;return B.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Zf:this.Yn-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Tt(t,0),o=new Tt(t,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(h=>{const m=this.Zr(h.Hr);u.push(m)})),B.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new yt(ke);return t.forEach((o=>{const u=new Tt(o,0),h=new Tt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(m=>{s=s.add(m.Hr)}))})),B.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;fe.isDocumentKey(u)||(u=u.child(""));const h=new Tt(new fe(u),0);let m=new yt(ke);return this.Jr.forEachWhile((g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(m=m.add(g.Hr)),!0)}),h),B.resolve(this.Yr(m))}Yr(e){const t=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){je(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return B.forEach(t.mutations,(o=>{const u=new Tt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,t){const s=new Tt(t,0),o=this.Jr.firstAfterOrEqual(s);return B.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class u1{constructor(e){this.ti=e,this.docs=(function(){return new tt(fe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.ti(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return B.resolve(s?s.document.mutableCopy():Ut.newInvalidDocument(t))}getEntries(e,t){let s=Rr();return t.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ut.newInvalidDocument(o))})),B.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Rr();const h=t.path,m=new fe(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:_,value:{document:w}}=g.getNext();if(!h.isPrefixOf(_.path))break;_.path.length>h.length+1||LI(OI(w),s)<=0||(o.has(w.key)||pc(t,w))&&(u=u.insert(w.key,w.mutableCopy()))}return B.resolve(u)}getAllFromCollectionGroup(e,t,s,o){me(9500)}ni(e,t){return B.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new c1(this)}getSize(e){return B.resolve(this.size)}}class c1 extends n1{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),B.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class h1{constructor(e){this.persistence=e,this.ri=new ps((t=>nd(t)),rd),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.ii=0,this.si=new ud,this.targetCount=0,this.oi=Io._r()}forEachTarget(e,t){return this.ri.forEach(((s,o)=>t(o))),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ii&&(this.ii=t),B.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Io(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,B.resolve()}updateTargetData(e,t){return this.lr(t),B.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),B.waitFor(u).next((()=>o))}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,t){const s=this.ri.get(t)||null;return B.resolve(s)}addMatchingKeys(e,t,s){return this.si.$r(t,s),B.resolve()}removeMatchingKeys(e,t,s){this.si.Qr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),B.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),B.resolve()}getMatchingKeysForTargetId(e,t){const s=this.si.jr(t);return B.resolve(s)}containsKey(e,t){return B.resolve(this.si.containsKey(t))}}class rv{constructor(e,t){this._i={},this.overlays={},this.ai=new uc(0),this.ui=!1,this.ui=!0,this.ci=new a1,this.referenceDelegate=e(this),this.li=new h1(this),this.indexManager=new QS,this.remoteDocumentCache=(function(o){return new u1(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new KS(t),this.Pi=new s1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new o1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this._i[e.toKey()];return s||(s=new l1(t,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,s){te("MemoryPersistence","Starting transaction:",e);const o=new f1(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,t){return B.or(Object.values(this._i).map((s=>()=>s.containsKey(e,t))))}}class f1 extends bI{constructor(e){super(),this.currentSequenceNumber=e}}class cd{constructor(e){this.persistence=e,this.Ri=new ud,this.Ai=null}static Vi(e){return new cd(e)}get di(){if(this.Ai)return this.Ai;throw me(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.di.delete(s.toString()),B.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.di.add(s.toString()),B.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),B.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.di,(s=>{const o=fe.fromPath(s);return this.mi(e,o).next((u=>{u||t.removeEntry(o,_e.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return B.or([()=>B.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Qu{constructor(e,t){this.persistence=e,this.fi=new ps((s=>jI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=t1(this,t)}static Vi(e,t){return new Qu(e,t)}Ti(){}Ii(e){return B.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}pr(e){let t=0;return this.mr(e,(s=>{t++})).next((()=>t))}mr(e,t){return B.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?B.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,t).next((m=>{m||(s++,u.removeEntry(h,_e.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),B.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),B.resolve()}removeReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),B.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ku(e.data.value)),t}wr(e,t,s){return B.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.fi.get(t);return B.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class hd{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Ts=s,this.Is=o}static Es(e,t){let s=Ne(),o=Ne();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new hd(e,t.fromCache,s,o)}}class d1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class p1{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return t0()?8:FI(jt())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.gs(e,t).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(e,t,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new d1;return this.ys(e,t,h).next((m=>{if(u.result=m,this.As)return this.ws(e,t,h,m.size)}))})).next((()=>u.result))}ws(e,t,s,o){return s.documentReadCount<this.Vs?(so()<=Pe.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",oo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),B.resolve()):(so()<=Pe.DEBUG&&te("QueryEngine","Query:",oo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(so()<=Pe.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",oo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yn(t))):B.resolve())}gs(e,t){if(xg(t))return B.resolve(null);let s=Yn(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Df(t,null,"F"),s=Yn(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Ne(...u);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const _=this.bs(t,m);return this.Ss(t,_,h,g.readTime)?this.gs(e,Df(t,null,"F")):this.Ds(e,_,t,g)}))))})))))}ps(e,t,s,o){return xg(t)||o.isEqual(_e.min())?B.resolve(null):this.fs.getDocuments(e,s).next((u=>{const h=this.bs(t,u);return this.Ss(t,h,s,o)?B.resolve(null):(so()<=Pe.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),oo(t)),this.Ds(e,h,t,xI(o,ja)).next((m=>m)))}))}bs(e,t){let s=new yt(O_(e));return t.forEach(((o,u)=>{pc(e,u)&&(s=s.add(u))})),s}Ss(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,t,s){return so()<=Pe.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",oo(t)),this.fs.getDocumentsMatchingQuery(e,t,Ti.min(),s)}Ds(e,t,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(t.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const fd="LocalStore",m1=3e8;class g1{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.vs=new tt(ke),this.Fs=new ps((u=>nd(u)),rd),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new i1(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function y1(r,e,t,s){return new g1(r,e,t,s)}async function iv(r,e){const t=Ee(r);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,t.Os(e),t.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let g=Ne();for(const _ of o){h.push(_.batchId);for(const w of _.mutations)g=g.add(w.key)}for(const _ of u){m.push(_.batchId);for(const w of _.mutations)g=g.add(w.key)}return t.localDocuments.getDocuments(s,g).next((_=>({Ns:_,removedBatchIds:h,addedBatchIds:m})))}))}))}function _1(r,e){const t=Ee(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=t.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,_,w){const T=_.batch,C=T.keys();let z=B.resolve();return C.forEach((Q=>{z=z.next((()=>w.getEntry(g,Q))).next((H=>{const j=_.docVersions.get(Q);je(j!==null,48541),H.version.compareTo(j)<0&&(T.applyToRemoteDocument(H,_),H.isValidDocument()&&(H.setReadTime(_.commitVersion),w.addEntry(H)))}))})),z.next((()=>m.mutationQueue.removeMutationBatch(g,T)))})(t,s,e,u).next((()=>u.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Ne();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(g=g.add(m.batch.mutations[_].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function sv(r){const e=Ee(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function v1(r,e){const t=Ee(r),s=e.snapshotVersion;let o=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=t.xs.newChangeBuffer({trackRemovals:!0});o=t.vs;const m=[];e.targetChanges.forEach(((w,T)=>{const C=o.get(T);if(!C)return;m.push(t.li.removeMatchingKeys(u,w.removedDocuments,T).next((()=>t.li.addMatchingKeys(u,w.addedDocuments,T))));let z=C.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?z=z.withResumeToken(Nt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):w.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(w.resumeToken,s)),o=o.insert(T,z),(function(H,j,se){return H.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=m1?!0:se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0})(C,z,w)&&m.push(t.li.updateTargetData(u,z))}));let g=Rr(),_=Ne();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,w))})),m.push(E1(u,h,e.documentUpdates).next((w=>{g=w.Bs,_=w.Ls}))),!s.isEqual(_e.min())){const w=t.li.getLastRemoteSnapshotVersion(u).next((T=>t.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(w)}return B.waitFor(m).next((()=>h.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,g,_))).next((()=>g))})).then((u=>(t.vs=o,u)))}function E1(r,e,t){let s=Ne(),o=Ne();return t.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=Rr();return t.forEach(((m,g)=>{const _=u.get(m);g.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(_e.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):te(fd,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",g.version)})),{Bs:h,Ls:o}}))}function w1(r,e){const t=Ee(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Zf),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function T1(r,e){const t=Ee(r);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.li.getTargetData(s,e).next((u=>u?(o=u,B.resolve(o)):t.li.allocateTargetId(s).next((h=>(o=new di(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.vs=t.vs.insert(s.targetId,s),t.Fs.set(e,s.targetId)),s}))}async function Mf(r,e,t){const s=Ee(r),o=s.vs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!ko(h))throw h;te(fd,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function qg(r,e,t){const s=Ee(r);let o=_e.min(),u=Ne();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,_,w){const T=Ee(g),C=T.Fs.get(w);return C!==void 0?B.resolve(T.vs.get(C)):T.li.getTargetData(_,w)})(s,h,Yn(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,m.targetId).next((g=>{u=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,t?o:_e.min(),t?u:Ne()))).next((m=>(I1(s,lS(e),m),{documents:m,ks:u})))))}function I1(r,e,t){let s=r.Ms.get(e)||_e.min();t.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class Kg{constructor(){this.activeTargetIds=pS()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class S1{constructor(){this.vo=new Kg,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,s){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Kg,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class A1{Mo(e){}shutdown(){}}const Gg="ConnectivityMonitor";class Qg{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){te(Gg,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){te(Gg,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Au=null;function bf(){return Au===null?Au=(function(){return 268435456+Math.round(2147483648*Math.random())})():Au++,"0x"+Au.toString(16)}const hf="RestConnection",C1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class R1{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Bu?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,u){const h=bf(),m=this.Qo(e,t.toUriEncodedString());te(hf,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:_}=new URL(m),w=Ao(_);return this.zo(e,m,g,s,w).then((T=>(te(hf,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw ls(hf,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}jo(e,t,s,o,u,h){return this.Wo(e,t,s,o,u)}Go(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ro})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,t){const s=C1[e];let o=`${this.qo}/v1/${t}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class P1{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const bt="WebChannelConnection",Ra=(r,e,t)=>{r.listen(e,(s=>{try{t(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class co extends R1{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!co.c_){const e=c_();Ra(e,u_.STAT_EVENT,(t=>{t.stat===Af.PROXY?te(bt,"STAT_EVENT: detected buffering proxy"):t.stat===Af.NOPROXY&&te(bt,"STAT_EVENT: detected no buffering proxy")})),co.c_=!0}}zo(e,t,s,o,u){const h=bf();return new Promise(((m,g)=>{const _=new a_;_.setWithCredentials(!0),_.listenOnce(l_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Pu.NO_ERROR:const T=_.getResponseJson();te(bt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case Pu.TIMEOUT:te(bt,`RPC '${e}' ${h} timed out`),g(new ue(q.DEADLINE_EXCEEDED,"Request time out"));break;case Pu.HTTP_ERROR:const C=_.getStatus();if(te(bt,`RPC '${e}' ${h} failed with status:`,C,"response text:",_.getResponseText()),C>0){let z=_.getResponseJson();Array.isArray(z)&&(z=z[0]);const Q=z?.error;if(Q&&Q.status&&Q.message){const H=(function(se){const ae=se.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(ae)>=0?ae:q.UNKNOWN})(Q.status);g(new ue(H,Q.message))}else g(new ue(q.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ue(q.UNAVAILABLE,"Connection failed."));break;default:me(9055,{l_:e,streamId:h,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{te(bt,`RPC '${e}' ${h} completed.`)}}));const w=JSON.stringify(o);te(bt,`RPC '${e}' ${h} sending request:`,o),_.send(t,"POST",w,s,15)}))}T_(e,t,s){const o=bf(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const _=u.join("");te(bt,`Creating RPC '${e}' stream ${o}: ${_}`,m);const w=h.createWebChannel(_,m);this.I_(w);let T=!1,C=!1;const z=new P1({Ho:Q=>{C?te(bt,`Not sending because RPC '${e}' stream ${o} is closed:`,Q):(T||(te(bt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),te(bt,`RPC '${e}' stream ${o} sending:`,Q),w.send(Q))},Jo:()=>w.close()});return Ra(w,Pa.EventType.OPEN,(()=>{C||(te(bt,`RPC '${e}' stream ${o} transport opened.`),z.i_())})),Ra(w,Pa.EventType.CLOSE,(()=>{C||(C=!0,te(bt,`RPC '${e}' stream ${o} transport closed`),z.o_(),this.E_(w))})),Ra(w,Pa.EventType.ERROR,(Q=>{C||(C=!0,ls(bt,`RPC '${e}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),z.o_(new ue(q.UNAVAILABLE,"The operation could not be completed")))})),Ra(w,Pa.EventType.MESSAGE,(Q=>{if(!C){const H=Q.data[0];je(!!H,16349);const j=H,se=j?.error||j[0]?.error;if(se){te(bt,`RPC '${e}' stream ${o} received error:`,se);const ae=se.status;let ce=(function(xe){const k=ht[xe];if(k!==void 0)return W_(k)})(ae),we=se.message;ae==="NOT_FOUND"&&we.includes("database")&&we.includes("does not exist")&&we.includes(this.databaseId.database)&&ls(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ce===void 0&&(ce=q.INTERNAL,we="Unknown error status: "+ae+" with message "+se.message),C=!0,z.o_(new ue(ce,we)),w.close()}else te(bt,`RPC '${e}' stream ${o} received:`,H),z.__(H)}})),co.u_(),setTimeout((()=>{z.s_()}),0),z}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,s){super.Go(e,t,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return h_()}}function k1(r){return new co(r)}function ff(){return typeof document<"u"?document:null}function _c(r){return new xS(r,!0)}co.c_=!1;class ov{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=t,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&te("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Jg="PersistentStream";class av{constructor(e,t,s,o,u,h,m,g){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ov(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===q.RESOURCE_EXHAUSTED?(Cr(t.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return te(Jg,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(te(Jg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class N1 extends av{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=MS(this.serializer,e),s=(function(u){if(!("targetChange"in u))return _e.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?_e.min():h.readTime?Zn(h.readTime):_e.min()})(e);return this.listener.J_(t,s)}Z_(e){const t={};t.database=Lf(this.serializer),t.addTarget=(function(u,h){let m;const g=h.target;if(m=Nf(g)?{documents:US(u,g)}:{query:jS(u,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=G_(u,h.resumeToken);const _=Vf(u,h.expectedCount);_!==null&&(m.expectedCount=_)}else if(h.snapshotVersion.compareTo(_e.min())>0){m.readTime=Gu(u,h.snapshotVersion.toTimestamp());const _=Vf(u,h.expectedCount);_!==null&&(m.expectedCount=_)}return m})(this.serializer,e);const s=BS(this.serializer,e);s&&(t.labels=s),this.K_(t)}X_(e){const t={};t.database=Lf(this.serializer),t.removeTarget=e,this.K_(t)}}class D1 extends av{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=FS(e.writeResults,e.commitTime),s=Zn(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Lf(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>bS(this.serializer,s)))};this.K_(t)}}class V1{}class x1 extends V1{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(q.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,xf(t,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(q.UNKNOWN,u.toString())}))}jo(e,t,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,xf(t,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ue(q.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function O1(r,e,t,s){return new x1(r,e,t,s)}class L1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Cr(t),this.aa=!1):te("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const us="RemoteStore";class M1{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{gs(this)&&(te(us,"Restarting streams for network reachability change."),await(async function(g){const _=Ee(g);_.Ea.add(4),await el(_),_.Va.set("Unknown"),_.Ea.delete(4),await vc(_)})(this))}))})),this.Va=new L1(s,o)}}async function vc(r){if(gs(r))for(const e of r.Ra)await e(!0)}async function el(r){for(const e of r.Ra)await e(!1)}function lv(r,e){const t=Ee(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),gd(t)?md(t):No(t).O_()&&pd(t,e))}function dd(r,e){const t=Ee(r),s=No(t);t.Ia.delete(e),s.O_()&&uv(t,e),t.Ia.size===0&&(s.O_()?s.L_():gs(t)&&t.Va.set("Unknown"))}function pd(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}No(r).Z_(e)}function uv(r,e){r.da.$e(e),No(r).X_(e)}function md(r){r.da=new kS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),No(r).start(),r.Va.ua()}function gd(r){return gs(r)&&!No(r).x_()&&r.Ia.size>0}function gs(r){return Ee(r).Ea.size===0}function cv(r){r.da=void 0}async function b1(r){r.Va.set("Online")}async function F1(r){r.Ia.forEach(((e,t)=>{pd(r,e)}))}async function U1(r,e){cv(r),gd(r)?(r.Va.ha(e),md(r)):r.Va.set("Unknown")}async function j1(r,e,t){if(r.Va.set("Online"),e instanceof K_&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){te(us,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ju(r,s)}else if(e instanceof Vu?r.da.Xe(e):e instanceof q_?r.da.st(e):r.da.tt(e),!t.isEqual(_e.min()))try{const s=await sv(r.localStore);t.compareTo(s)>=0&&await(function(u,h){const m=u.da.Tt(h);return m.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const w=u.Ia.get(_);w&&u.Ia.set(_,w.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,_)=>{const w=u.Ia.get(g);if(!w)return;u.Ia.set(g,w.withResumeToken(Nt.EMPTY_BYTE_STRING,w.snapshotVersion)),uv(u,g);const T=new di(w.target,g,_,w.sequenceNumber);pd(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,t)}catch(s){te(us,"Failed to raise snapshot:",s),await Ju(r,s)}}async function Ju(r,e,t){if(!ko(e))throw e;r.Ea.add(1),await el(r),r.Va.set("Offline"),t||(t=()=>sv(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{te(us,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await vc(r)}))}function hv(r,e){return e().catch((t=>Ju(r,t,e)))}async function Ec(r){const e=Ee(r),t=Ci(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zf;for(;z1(e);)try{const o=await w1(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,B1(e,o)}catch(o){await Ju(e,o)}fv(e)&&dv(e)}function z1(r){return gs(r)&&r.Ta.length<10}function B1(r,e){r.Ta.push(e);const t=Ci(r);t.O_()&&t.Y_&&t.ea(e.mutations)}function fv(r){return gs(r)&&!Ci(r).x_()&&r.Ta.length>0}function dv(r){Ci(r).start()}async function $1(r){Ci(r).ra()}async function H1(r){const e=Ci(r);for(const t of r.Ta)e.ea(t.mutations)}async function W1(r,e,t){const s=r.Ta.shift(),o=od.from(s,e,t);await hv(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Ec(r)}async function q1(r,e){e&&Ci(r).Y_&&await(async function(s,o){if((function(h){return CS(h)&&h!==q.ABORTED})(o.code)){const u=s.Ta.shift();Ci(s).B_(),await hv(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Ec(s)}})(r,e),fv(r)&&dv(r)}async function Yg(r,e){const t=Ee(r);t.asyncQueue.verifyOperationInProgress(),te(us,"RemoteStore received new credentials");const s=gs(t);t.Ea.add(3),await el(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await vc(t)}async function K1(r,e){const t=Ee(r);e?(t.Ea.delete(2),await vc(t)):e||(t.Ea.add(2),await el(t),t.Va.set("Unknown"))}function No(r){return r.ma||(r.ma=(function(t,s,o){const u=Ee(t);return u.sa(),new N1(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:b1.bind(null,r),Yo:F1.bind(null,r),t_:U1.bind(null,r),J_:j1.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),gd(r)?md(r):r.Va.set("Unknown")):(await r.ma.stop(),cv(r))}))),r.ma}function Ci(r){return r.fa||(r.fa=(function(t,s,o){const u=Ee(t);return u.sa(),new D1(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:$1.bind(null,r),t_:q1.bind(null,r),ta:H1.bind(null,r),na:W1.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Ec(r)):(await r.fa.stop(),r.Ta.length>0&&(te(us,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class yd{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,m=new yd(e,t,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _d(r,e){if(Cr("AsyncQueue",`${e}: ${r}`),ko(r))return new ue(q.UNAVAILABLE,`${e}: ${r}`);throw r}class ho{static emptySet(e){return new ho(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||fe.comparator(t.key,s.key):(t,s)=>fe.comparator(t.key,s.key),this.keyedMap=ka(),this.sortedSet=new tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new ho;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Xg{constructor(){this.ga=new tt(fe.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):me(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class So{constructor(e,t,s,o,u,h,m,g,_){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach((m=>{h.push({type:0,doc:m})})),new So(e,t,ho.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}class G1{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Q1{constructor(){this.queries=Zg(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Ee(t),u=o.queries;o.queries=Zg(),u.forEach(((h,m)=>{for(const g of m.ba)g.onError(s)}))})(this,new ue(q.ABORTED,"Firestore shutting down"))}}function Zg(){return new ps((r=>x_(r)),dc)}async function J1(r,e){const t=Ee(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new G1,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=_d(h,`Initialization of query '${oo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.ba.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&vd(t)}async function Y1(r,e){const t=Ee(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.ba.indexOf(e);h>=0&&(u.ba.splice(h,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function X1(r,e){const t=Ee(r);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const m of h.ba)m.Fa(o)&&(s=!0);h.wa=o}}s&&vd(t)}function Z1(r,e,t){const s=Ee(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(t);s.queries.delete(e)}function vd(r){r.Ca.forEach((e=>{e.next()}))}var Ff,ey;(ey=Ff||(Ff={})).Ma="default",ey.Cache="cache";class eA{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new So(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=So.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ff.Cache}}class pv{constructor(e){this.key=e}}class mv{constructor(e){this.key=e}}class tA{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ne(),this.mutatedKeys=Ne(),this.eu=O_(e),this.tu=new ho(this.eu)}get nu(){return this.Za}ru(e,t){const s=t?t.iu:new Xg,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,T)=>{const C=o.get(w),z=pc(this.query,T)?T:null,Q=!!C&&this.mutatedKeys.has(C.key),H=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let j=!1;C&&z?C.data.isEqual(z.data)?Q!==H&&(s.track({type:3,doc:z}),j=!0):this.su(C,z)||(s.track({type:2,doc:z}),j=!0,(g&&this.eu(z,g)>0||_&&this.eu(z,_)<0)&&(m=!0)):!C&&z?(s.track({type:0,doc:z}),j=!0):C&&!z&&(s.track({type:1,doc:C}),j=!0,(g||_)&&(m=!0)),j&&(z?(h=h.add(z),u=H?u.add(w):u.delete(w)):(h=h.delete(w),u=u.delete(w)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),u=u.delete(w.key),s.track({type:1,doc:w})}return{tu:h,iu:s,Ss:m,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((w,T)=>(function(z,Q){const H=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me(20277,{Vt:j})}};return H(z)-H(Q)})(w.type,T.type)||this.eu(w.doc,T.doc))),this.ou(s),o=o??!1;const m=t&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,_=g!==this.Xa;return this.Xa=g,h.length!==0||_?{snapshot:new So(this.query,e.tu,u,h,e.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Xg,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ne(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const t=[];return e.forEach((s=>{this.Ya.has(s)||t.push(new mv(s))})),this.Ya.forEach((s=>{e.has(s)||t.push(new pv(s))})),t}cu(e){this.Za=e.ks,this.Ya=Ne();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return So.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Ed="SyncEngine";class nA{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class rA{constructor(e){this.key=e,this.hu=!1}}class iA{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ps((m=>x_(m)),dc),this.Iu=new Map,this.Eu=new Set,this.Ru=new tt(fe.comparator),this.Au=new Map,this.Vu=new ud,this.du={},this.mu=new Map,this.fu=Io.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sA(r,e,t=!0){const s=wv(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await gv(s,e,t,!0),o}async function oA(r,e){const t=wv(r);await gv(t,e,!0,!1)}async function gv(r,e,t,s){const o=await T1(r.localStore,Yn(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await aA(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&lv(r.remoteStore,o),m}async function aA(r,e,t,s,o){r.pu=(T,C,z)=>(async function(H,j,se,ae){let ce=j.view.ru(se);ce.Ss&&(ce=await qg(H.localStore,j.query,!1).then((({documents:k})=>j.view.ru(k,ce))));const we=ae&&ae.targetChanges.get(j.targetId),Fe=ae&&ae.targetMismatches.get(j.targetId)!=null,xe=j.view.applyChanges(ce,H.isPrimaryClient,we,Fe);return ny(H,j.targetId,xe.au),xe.snapshot})(r,T,C,z);const u=await qg(r.localStore,e,!0),h=new tA(e,u.ks),m=h.ru(u.documents),g=Za.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),_=h.applyChanges(m,r.isPrimaryClient,g);ny(r,t,_.au);const w=new nA(e,t,h);return r.Tu.set(e,w),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),_.snapshot}async function lA(r,e,t){const s=Ee(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!dc(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Mf(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&dd(s.remoteStore,o.targetId),Uf(s,o.targetId)})).catch(Po)):(Uf(s,o.targetId),await Mf(s.localStore,o.targetId,!0))}async function uA(r,e){const t=Ee(r),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),dd(t.remoteStore,s.targetId))}async function cA(r,e,t){const s=yA(r);try{const o=await(function(h,m){const g=Ee(h),_=Je.now(),w=m.reduce(((z,Q)=>z.add(Q.key)),Ne());let T,C;return g.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let Q=Rr(),H=Ne();return g.xs.getEntries(z,w).next((j=>{Q=j,Q.forEach(((se,ae)=>{ae.isValidDocument()||(H=H.add(se))}))})).next((()=>g.localDocuments.getOverlayedDocuments(z,Q))).next((j=>{T=j;const se=[];for(const ae of m){const ce=wS(ae,T.get(ae.key).overlayedDocument);ce!=null&&se.push(new ms(ae.key,ce,A_(ce.value.mapValue),Xn.exists(!0)))}return g.mutationQueue.addMutationBatch(z,_,se,m)})).next((j=>{C=j;const se=j.applyToLocalDocumentSet(T,H);return g.documentOverlayCache.saveOverlays(z,j.batchId,se)}))})).then((()=>({batchId:C.batchId,changes:M_(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,g){let _=h.du[h.currentUser.toKey()];_||(_=new tt(ke)),_=_.insert(m,g),h.du[h.currentUser.toKey()]=_})(s,o.batchId,t),await tl(s,o.changes),await Ec(s.remoteStore)}catch(o){const u=_d(o,"Failed to persist write");t.reject(u)}}async function yv(r,e){const t=Ee(r);try{const s=await v1(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=t.Au.get(u);h&&(je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?je(h.hu,14607):o.removedDocuments.size>0&&(je(h.hu,42227),h.hu=!1))})),await tl(t,s,e)}catch(s){await Po(s)}}function ty(r,e,t){const s=Ee(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const g=Ee(h);g.onlineState=m;let _=!1;g.queries.forEach(((w,T)=>{for(const C of T.ba)C.va(m)&&(_=!0)})),_&&vd(g)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function hA(r,e,t){const s=Ee(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new tt(fe.comparator);h=h.insert(u,Ut.newNoDocument(u,_e.min()));const m=Ne().add(u),g=new yc(_e.min(),new Map,new tt(ke),h,m);await yv(s,g),s.Ru=s.Ru.remove(u),s.Au.delete(e),wd(s)}else await Mf(s.localStore,e,!1).then((()=>Uf(s,e,t))).catch(Po)}async function fA(r,e){const t=Ee(r),s=e.batch.batchId;try{const o=await _1(t.localStore,e);vv(t,s,null),_v(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await tl(t,o)}catch(o){await Po(o)}}async function dA(r,e,t){const s=Ee(r);try{const o=await(function(h,m){const g=Ee(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let w;return g.mutationQueue.lookupMutationBatch(_,m).next((T=>(je(T!==null,37113),w=T.keys(),g.mutationQueue.removeMutationBatch(_,T)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,w,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w))).next((()=>g.localDocuments.getDocuments(_,w)))}))})(s.localStore,e);vv(s,e,t),_v(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await tl(s,o)}catch(o){await Po(o)}}function _v(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function vv(r,e,t){const s=Ee(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Uf(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),t&&r.Pu.yu(s,t);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||Ev(r,s)}))}function Ev(r,e){r.Eu.delete(e.path.canonicalString());const t=r.Ru.get(e);t!==null&&(dd(r.remoteStore,t),r.Ru=r.Ru.remove(e),r.Au.delete(t),wd(r))}function ny(r,e,t){for(const s of t)s instanceof pv?(r.Vu.addReference(s.key,e),pA(r,s)):s instanceof mv?(te(Ed,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||Ev(r,s.key)):me(19791,{wu:s})}function pA(r,e){const t=e.key,s=t.path.canonicalString();r.Ru.get(t)||r.Eu.has(s)||(te(Ed,"New document in limbo: "+t),r.Eu.add(s),wd(r))}function wd(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new fe(Qe.fromString(e)),s=r.fu.next();r.Au.set(s,new rA(t)),r.Ru=r.Ru.insert(t,s),lv(r.remoteStore,new di(Yn(V_(t.path)),s,"TargetPurposeLimboResolution",uc.ce))}}async function tl(r,e,t){const s=Ee(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{h.push(s.pu(g,e,t).then((_=>{if((_||t)&&s.isPrimaryClient){const w=_?!_.fromCache:t?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,w?"current":"not-current")}if(_){o.push(_);const w=hd.Es(g.targetId,_);u.push(w)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(g,_){const w=Ee(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>B.forEach(_,(C=>B.forEach(C.Ts,(z=>w.persistence.referenceDelegate.addReference(T,C.targetId,z))).next((()=>B.forEach(C.Is,(z=>w.persistence.referenceDelegate.removeReference(T,C.targetId,z)))))))))}catch(T){if(!ko(T))throw T;te(fd,"Failed to update sequence numbers: "+T)}for(const T of _){const C=T.targetId;if(!T.fromCache){const z=w.vs.get(C),Q=z.snapshotVersion,H=z.withLastLimboFreeSnapshotVersion(Q);w.vs=w.vs.insert(C,H)}}})(s.localStore,u))}async function mA(r,e){const t=Ee(r);if(!t.currentUser.isEqual(e)){te(Ed,"User change. New user:",e.toKey());const s=await iv(t.localStore,e);t.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ue(q.CANCELLED,h))}))})),u.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await tl(t,s.Ns)}}function gA(r,e){const t=Ee(r),s=t.Au.get(e);if(s&&s.hu)return Ne().add(s.key);{let o=Ne();const u=t.Iu.get(e);if(!u)return o;for(const h of u){const m=t.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function wv(r){const e=Ee(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=yv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hA.bind(null,e),e.Pu.J_=X1.bind(null,e.eventManager),e.Pu.yu=Z1.bind(null,e.eventManager),e}function yA(r){const e=Ee(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dA.bind(null,e),e}class Yu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_c(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return y1(this.persistence,new p1,e.initialUser,this.serializer)}Cu(e){return new rv(cd.Vi,this.serializer)}Du(e){return new S1}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yu.provider={build:()=>new Yu};class _A extends Yu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){je(this.persistence.referenceDelegate instanceof Qu,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ZS(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Jt.withCacheSize(this.cacheSizeBytes):Jt.DEFAULT;return new rv((s=>Qu.Vi(s,t)),this.serializer)}}class jf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ty(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=mA.bind(null,this.syncEngine),await K1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Q1})()}createDatastore(e){const t=_c(e.databaseInfo.databaseId),s=k1(e.databaseInfo);return O1(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,u,h,m){return new M1(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>ty(this.syncEngine,t,0)),(function(){return Qg.v()?new Qg:new A1})())}createSyncEngine(e,t){return(function(o,u,h,m,g,_,w){const T=new iA(o,u,h,m,g,_);return w&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Ee(t);te(us,"RemoteStore shutting down."),s.Ea.add(5),await el(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}jf.provider={build:()=>new jf};class vA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Ri="FirestoreClient";class EA{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this._databaseInfo=o,this.user=Ft.UNAUTHENTICATED,this.clientId=Yf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{te(Ri,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(te(Ri,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=_d(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function df(r,e){r.asyncQueue.verifyOperationInProgress(),te(Ri,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await iv(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function ry(r,e){r.asyncQueue.verifyOperationInProgress();const t=await wA(r);te(Ri,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((s=>Yg(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>Yg(e.remoteStore,o))),r._onlineComponents=e}async function wA(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){te(Ri,"Using user provided OfflineComponentProvider");try{await df(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===q.FAILED_PRECONDITION||o.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;ls("Error using user provided cache. Falling back to memory cache: "+t),await df(r,new Yu)}}else te(Ri,"Using default OfflineComponentProvider"),await df(r,new _A(void 0));return r._offlineComponents}async function Tv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(te(Ri,"Using user provided OnlineComponentProvider"),await ry(r,r._uninitializedComponentsProvider._online)):(te(Ri,"Using default OnlineComponentProvider"),await ry(r,new jf))),r._onlineComponents}function TA(r){return Tv(r).then((e=>e.syncEngine))}async function IA(r){const e=await Tv(r),t=e.eventManager;return t.onListen=sA.bind(null,e.syncEngine),t.onUnlisten=lA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=oA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=uA.bind(null,e.syncEngine),t}function SA(r,e,t={}){const s=new vi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,_){const w=new vA({next:C=>{w.Nu(),h.enqueueAndForget((()=>Y1(u,T))),C.fromCache&&g.source==="server"?_.reject(new ue(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(C)},error:C=>_.reject(C)}),T=new eA(m,w,{includeMetadataChanges:!0,Ka:!0});return J1(u,T)})(await IA(r),r.asyncQueue,e,t,s))),s.promise}function AA(r,e){const t=new vi;return r.asyncQueue.enqueueAndForget((async()=>cA(await TA(r),e,t))),t.promise}function Iv(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const CA="ComponentProvider",iy=new Map;function RA(r,e,t,s,o){return new $I(r,e,t,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,Iv(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const Sv="firestore.googleapis.com",sy=!0;class oy{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Sv,this.ssl=sy}else this.host=e.host,this.ssl=e.ssl??sy;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YS)throw new ue(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Iv(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wc{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new TI;switch(s.type){case"firstParty":return new CI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=iy.get(t);s&&(te(CA,"Removing Datastore"),iy.delete(t),s.terminate())})(this),Promise.resolve()}}function PA(r,e,t,s={}){r=Eo(r,wc);const o=Ao(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${t}`;o&&(Xy(`https://${m}`),Zy("Firestore",!0)),u.host!==Sv&&u.host!==m&&ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!ss(g,h)&&(r._setSettings(g),s.mockUserToken)){let _,w;if(typeof s.mockUserToken=="string")_=s.mockUserToken,w=Ft.MOCK_USER;else{_=qT(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ue(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Ft(T)}r._authCredentials=new II(new d_(_,w))}}class Tc{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Tc(this.firestore,e,this._query)}}class It{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}toJSON(){return{type:It._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Ya(t,It._jsonSchema))return new It(e,s||null,new fe(Qe.fromString(t.referencePath)))}}It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:ft("string",It._jsonSchemaVersion),referencePath:ft("string")};class Ei extends Tc{constructor(e,t,s){super(e,t,V_(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new fe(e))}withConverter(e){return new Ei(this.firestore,e,this._path)}}function kA(r,e,...t){if(r=yn(r),p_("collection","path",e),r instanceof wc){const s=Qe.fromString(e,...t);return Eg(s),new Ei(r,null,s)}{if(!(r instanceof It||r instanceof Ei))throw new ue(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Qe.fromString(e,...t));return Eg(s),new Ei(r.firestore,null,s)}}function Av(r,e,...t){if(r=yn(r),arguments.length===1&&(e=Yf.newId()),p_("doc","path",e),r instanceof wc){const s=Qe.fromString(e,...t);return vg(s),new It(r,null,new fe(s))}{if(!(r instanceof It||r instanceof Ei))throw new ue(q.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Qe.fromString(e,...t));return vg(s),new It(r.firestore,r instanceof Ei?r.converter:null,new fe(s))}}const ay="AsyncQueue";class ly{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ov(this,"async_queue_retry"),this._c=()=>{const s=ff();s&&te(ay,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=ff();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=ff();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new vi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ko(e))throw e;te(ay,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Cr("INTERNAL UNHANDLED ERROR: ",uy(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=yd.createAndSchedule(this,e,t,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&me(47125,{Pc:uy(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function uy(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Ic extends wc{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new ly,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ly(e),this._firestoreClient=void 0,await e}}}function NA(r,e){const t=typeof r=="object"?r:r_(),s=typeof r=="string"?r:Bu,o=Qf(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=HT("firestore");u&&PA(o,...u)}return o}function Cv(r){if(r._terminated)throw new ue(q.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||DA(r),r._firestoreClient}function DA(r){const e=r._freezeSettings(),t=RA(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new EA(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gn(Nt.fromBase64String(e))}catch(t){throw new ue(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gn(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ya(e,gn._jsonSchema))return gn.fromBase64String(e.bytes)}}gn._jsonSchemaVersion="firestore/bytes/1.0",gn._jsonSchema={type:ft("string",gn._jsonSchemaVersion),bytes:ft("string")};class Rv{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ue(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Pv{constructor(e){this._methodName=e}}class er{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ue(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ue(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:er._jsonSchemaVersion}}static fromJSON(e){if(Ya(e,er._jsonSchema))return new er(e.latitude,e.longitude)}}er._jsonSchemaVersion="firestore/geoPoint/1.0",er._jsonSchema={type:ft("string",er._jsonSchemaVersion),latitude:ft("number"),longitude:ft("number")};class Dn{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Dn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ya(e,Dn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Dn(e.vectorValues);throw new ue(q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Dn._jsonSchemaVersion="firestore/vectorValue/1.0",Dn._jsonSchema={type:ft("string",Dn._jsonSchemaVersion),vectorValues:ft("object")};const VA=/^__.*__$/;class xA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ms(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xa(e,this.data,t,this.fieldTransforms)}}function kv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me(40011,{dataSource:r})}}class Td{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Td({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Xu(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(kv(this.dataSource)&&VA.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class OA{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||_c(e)}createContext(e,t,s,o=!1){return new Td({dataSource:e,methodName:t,targetDoc:s,path:kt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function LA(r){const e=r._freezeSettings(),t=_c(r._databaseId);return new OA(r._databaseId,!!e.ignoreUndefinedProperties,t)}function MA(r,e,t,s,o,u={}){const h=r.createContext(u.merge||u.mergeFields?2:0,e,t,o);xv("Data must be an object, but it was:",h,s);const m=Dv(s,h);let g,_;if(u.merge)g=new kn(h.fieldMask),_=h.fieldTransforms;else if(u.mergeFields){const w=[];for(const T of u.mergeFields){const C=Id(e,T,t);if(!h.contains(C))throw new ue(q.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);UA(w,C)||w.push(C)}g=new kn(w),_=h.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,_=h.fieldTransforms;return new xA(new mn(m),g,_)}function Nv(r,e){if(Vv(r=yn(r)))return xv("Unsupported field value:",e,r),Dv(r,e);if(r instanceof Pv)return(function(s,o){if(!kv(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let g=Nv(m,o.childContextForArray(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=yn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return mS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Je.fromDate(s);return{timestampValue:Gu(o.serializer,u)}}if(s instanceof Je){const u=new Je(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Gu(o.serializer,u)}}if(s instanceof er)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof gn)return{bytesValue:G_(o.serializer,s._byteString)};if(s instanceof It){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ld(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Dn)return(function(h,m){const g=h instanceof Dn?h.toArray():h;return{mapValue:{fields:{[I_]:{stringValue:S_},[$u]:{arrayValue:{values:g.map((w=>{if(typeof w!="number")throw m.createError("VectorValues must only contain numeric values.");return id(m.serializer,w)}))}}}}}})(s,o);if(tv(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Xf(s)}`)})(r,e)}function Dv(r,e){const t={};return y_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ds(r,((s,o)=>{const u=Nv(o,e.childContextForField(s));u!=null&&(t[s]=u)})),{mapValue:{fields:t}}}function Vv(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Je||r instanceof er||r instanceof gn||r instanceof It||r instanceof Pv||r instanceof Dn||tv(r))}function xv(r,e,t){if(!Vv(t)||!m_(t)){const s=Xf(t);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function Id(r,e,t){if((e=yn(e))instanceof Rv)return e._internalPath;if(typeof e=="string")return FA(r,e);throw Xu("Field path arguments must be of type string or ",r,!1,void 0,t)}const bA=new RegExp("[~\\*/\\[\\]]");function FA(r,e,t){if(e.search(bA)>=0)throw Xu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Rv(...e.split("."))._internalPath}catch{throw Xu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Xu(r,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new ue(q.INVALID_ARGUMENT,m+r+g)}function UA(r,e){return r.some((t=>t.isEqual(e)))}class jA{convertValue(e,t="none"){switch(Ai(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw me(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ds(e,((o,u)=>{s[o]=this.convertValue(u,t)})),s}convertVectorValue(e){const t=e.fields?.[$u].arrayValue?.values?.map((s=>at(s.doubleValue)));return new Dn(t)}convertGeoPoint(e){return new er(at(e.latitude),at(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=hc(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(za(e));default:return null}}convertTimestamp(e){const t=Ii(e);return new Je(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Qe.fromString(e);je(ev(s),9688,{name:e});const o=new Ba(s.get(1),s.get(3)),u=new fe(s.popFirst(5));return o.isEqual(t)||Cr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}class zA extends jA{constructor(e){super(),this.firestore=e}convertBytes(e){return new gn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,t)}}const cy="@firebase/firestore",hy="4.11.0";class Ov{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Id("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class BA extends Ov{data(){return super.data()}}function $A(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function HA(r,e,t){let s;return s=r?r.toFirestore(e):e,s}class Cu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fo extends Ov{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Id("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=fo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}fo._jsonSchemaVersion="firestore/documentSnapshot/1.0",fo._jsonSchema={type:ft("string",fo._jsonSchemaVersion),bundleSource:ft("string","DocumentSnapshot"),bundleName:ft("string"),bundle:ft("string")};class xu extends fo{data(e={}){return super.data(e)}}class po{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Cu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new xu(this._firestore,this._userDataWriter,s.key,s,new Cu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ue(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const g=new xu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Cu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new xu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Cu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,w=-1;return m.type!==0&&(_=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),w=h.indexOf(m.doc.key)),{type:WA(m.type),doc:g,oldIndex:_,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=po._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Yf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function WA(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me(61501,{type:r})}}po._jsonSchemaVersion="firestore/querySnapshot/1.0",po._jsonSchema={type:ft("string",po._jsonSchemaVersion),bundleSource:ft("string","QuerySnapshot"),bundleName:ft("string"),bundle:ft("string")};function qA(r){r=Eo(r,Tc);const e=Eo(r.firestore,Ic),t=Cv(e),s=new zA(e);return $A(r._query),SA(t,r._query).then((o=>new po(e,s,r,o)))}function KA(r,e,t){r=Eo(r,It);const s=Eo(r.firestore,Ic),o=HA(r.converter,e),u=LA(s);return Lv(s,[MA(u,"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Xn.none())])}function GA(r){return Lv(Eo(r.firestore,Ic),[new sd(r._key,Xn.none())])}function Lv(r,e){const t=Cv(r);return AA(t,e)}(function(e,t=!0){wI(Co),_o(new os("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Ic(new SI(s.getProvider("auth-internal")),new RI(h,s.getProvider("app-check-internal")),HI(h,o),h);return u={useFetchStreams:t,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),yi(cy,hy,e),yi(cy,hy,"esm2020")})();function Mv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QA=Mv,bv=new Qa("auth","Firebase",Mv());const Zu=new Kf("@firebase/auth");function JA(r,...e){Zu.logLevel<=Pe.WARN&&Zu.warn(`Auth (${Co}): ${r}`,...e)}function Ou(r,...e){Zu.logLevel<=Pe.ERROR&&Zu.error(`Auth (${Co}): ${r}`,...e)}function Pr(r,...e){throw Sd(r,...e)}function tr(r,...e){return Sd(r,...e)}function Fv(r,e,t){const s={...QA(),[e]:t};return new Qa("auth","Firebase",s).create(e,{appName:r.name})}function wi(r){return Fv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sd(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return bv.create(r,...e)}function ye(r,e,...t){if(!r)throw Sd(e,...t)}function Ir(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ou(e),new Error(e)}function kr(r,e){r||Ir(e)}function zf(){return typeof self<"u"&&self.location?.href||""}function YA(){return fy()==="http:"||fy()==="https:"}function fy(){return typeof self<"u"&&self.location?.protocol||null}function XA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YA()||XT()||"connection"in navigator)?navigator.onLine:!0}function ZA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class nl{constructor(e,t){this.shortDelay=e,this.longDelay=t,kr(t>e,"Short delay should be less than long delay!"),this.isMobile=QT()||ZT()}get(){return XA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ad(r,e){kr(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Uv{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const eC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const tC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nC=new nl(3e4,6e4);function Sc(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Do(r,e,t,s,o={}){return jv(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Ja({key:r.config.apiKey,...h}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:g,...u};return YT()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Ao(r.emulatorConfig.host)&&(_.credentials="include"),Uv.fetch()(await Bv(r,r.config.apiHost,t,m),_)})}async function jv(r,e,t){r._canInitEmulator=!1;const s={...eC,...e};try{const o=new rC(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Ru(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,_]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ru(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Ru(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw Ru(r,"user-disabled",h);const w=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Fv(r,w,_);Pr(r,w)}}catch(o){if(o instanceof Nr)throw o;Pr(r,"network-request-failed",{message:String(o)})}}async function zv(r,e,t,s,o={}){const u=await Do(r,e,t,s,o);return"mfaPendingCredential"in u&&Pr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function Bv(r,e,t,s){const o=`${e}${t}?${s}`,u=r,h=u.config.emulator?Ad(r.config,o):`${r.config.apiScheme}://${o}`;return tC.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class rC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(tr(this.auth,"network-request-failed")),nC.get())})}}function Ru(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=tr(r,e,s);return o.customData._tokenResponse=t,o}async function iC(r,e){return Do(r,"POST","/v1/accounts:delete",e)}async function ec(r,e){return Do(r,"POST","/v1/accounts:lookup",e)}function Ma(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sC(r,e=!1){const t=yn(r),s=await t.getIdToken(e),o=Cd(s);ye(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:Ma(pf(o.auth_time)),issuedAtTime:Ma(pf(o.iat)),expirationTime:Ma(pf(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function pf(r){return Number(r)*1e3}function Cd(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return Ou("JWT malformed, contained fewer than 3 sections"),null;try{const o=Gy(t);return o?JSON.parse(o):(Ou("Failed to decode base64 JWT payload"),null)}catch(o){return Ou("Caught error parsing JWT payload as JSON",o?.toString()),null}}function dy(r){const e=Cd(r);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function qa(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Nr&&oC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function oC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class aC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Bf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ma(this.lastLoginAt),this.creationTime=Ma(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function tc(r){const e=r.auth,t=await r.getIdToken(),s=await qa(r,ec(e,{idToken:t}));ye(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?$v(o.providerUserInfo):[],h=uC(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!h?.length,_=m?g:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Bf(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(r,w)}async function lC(r){const e=yn(r);await tc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function $v(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function cC(r,e){const t=await jv(r,{},async()=>{const s=Ja({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await Bv(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&Ao(r.emulatorConfig.host)&&(g.credentials="include"),Uv.fetch()(h,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function hC(r,e){return Do(r,"POST","/v2/accounts:revokeToken",Sc(r,e))}class mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const t=dy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await cC(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new mo;return s&&(ye(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ye(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ye(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mo,this.toJSON())}_performRefresh(){return Ir("not implemented")}}function ai(r,e){ye(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Nn{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new aC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Bf(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await qa(this,this.stsTokenManager.getToken(this.auth,e));return ye(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return sC(this,e)}reload(){return lC(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Nn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await tc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(wi(this.auth));const e=await this.getIdToken();return await qa(this,iC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,h=t.photoURL??void 0,m=t.tenantId??void 0,g=t._redirectEventId??void 0,_=t.createdAt??void 0,w=t.lastLoginAt??void 0,{uid:T,emailVerified:C,isAnonymous:z,providerData:Q,stsTokenManager:H}=t;ye(T&&H,e,"internal-error");const j=mo.fromJSON(this.name,H);ye(typeof T=="string",e,"internal-error"),ai(s,e.name),ai(o,e.name),ye(typeof C=="boolean",e,"internal-error"),ye(typeof z=="boolean",e,"internal-error"),ai(u,e.name),ai(h,e.name),ai(m,e.name),ai(g,e.name),ai(_,e.name),ai(w,e.name);const se=new Nn({uid:T,auth:e,email:o,emailVerified:C,displayName:s,isAnonymous:z,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:j,createdAt:_,lastLoginAt:w});return Q&&Array.isArray(Q)&&(se.providerData=Q.map(ae=>({...ae}))),g&&(se._redirectEventId=g),se}static async _fromIdTokenResponse(e,t,s=!1){const o=new mo;o.updateFromServerResponse(t);const u=new Nn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await tc(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];ye(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?$v(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new mo;m.updateFromIdToken(s);const g=new Nn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Bf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,_),g}}const py=new Map;function Sr(r){kr(r instanceof Function,"Expected a class definition");let e=py.get(r);return e?(kr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,py.set(r,e),e)}class Hv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Hv.type="NONE";const my=Hv;function Lu(r,e,t){return`firebase:${r}:${e}:${t}`}class go{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Lu(this.userKey,o.apiKey,u),this.fullPersistenceKey=Lu("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ec(this.auth,{idToken:e}).catch(()=>{});return t?Nn._fromGetAccountInfoResponse(this.auth,t,e):null}return Nn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new go(Sr(my),e,s);const o=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||Sr(my);const h=Lu(s,e.config.apiKey,e.name);let m=null;for(const _ of t)try{const w=await _._get(h);if(w){let T;if(typeof w=="string"){const C=await ec(e,{idToken:w}).catch(()=>{});if(!C)break;T=await Nn._fromGetAccountInfoResponse(e,C,w)}else T=Nn._fromJSON(e,w);_!==u&&(m=T),u=_;break}}catch{}const g=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new go(u,e,s):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async _=>{if(_!==u)try{await _._remove(h)}catch{}})),new go(u,e,s))}}function gy(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Gv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Wv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Jv(e))return"Blackberry";if(Yv(e))return"Webos";if(qv(e))return"Safari";if((e.includes("chrome/")||Kv(e))&&!e.includes("edge/"))return"Chrome";if(Qv(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if(s?.length===2)return s[1]}return"Other"}function Wv(r=jt()){return/firefox\//i.test(r)}function qv(r=jt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Kv(r=jt()){return/crios\//i.test(r)}function Gv(r=jt()){return/iemobile/i.test(r)}function Qv(r=jt()){return/android/i.test(r)}function Jv(r=jt()){return/blackberry/i.test(r)}function Yv(r=jt()){return/webos/i.test(r)}function Rd(r=jt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function fC(r=jt()){return Rd(r)&&!!window.navigator?.standalone}function dC(){return e0()&&document.documentMode===10}function Xv(r=jt()){return Rd(r)||Qv(r)||Yv(r)||Jv(r)||/windows phone/i.test(r)||Gv(r)}function Zv(r,e=[]){let t;switch(r){case"Browser":t=gy(jt());break;case"Worker":t=`${gy(jt())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Co}/${s}`}class pC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function mC(r,e={}){return Do(r,"GET","/v2/passwordPolicy",Sc(r,e))}const gC=6;class yC{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??gC,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class _C{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yy(this),this.idTokenSubscription=new yy(this),this.beforeStateQueue=new pC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Sr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await go.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ec(this,{idToken:e}),s=await Nn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Pn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await tc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(wi(this));const t=e?yn(e):null;return t&&ye(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mC(this),t=new yC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qa("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await hC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Sr(e)||this._popupRedirectResolver;ye(t,this,"argument-error"),this.redirectPersistenceManager=await go.create(this,[Sr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Zv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&JA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ac(r){return yn(r)}class yy{constructor(e){this.auth=e,this.observer=null,this.addObserver=l0(t=>this.observer=t)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Pd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vC(r){Pd=r}function EC(r){return Pd.loadJS(r)}function wC(){return Pd.gapiScript}function TC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function IC(r,e){const t=Qf(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(ss(u,e??{}))return o;Pr(o,"already-initialized")}return t.initialize({options:e})}function SC(r,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Sr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function AC(r,e,t){const s=Ac(r);ye(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=eE(e),{host:h,port:m}=CC(e),g=m===null?"":`:${m}`,_={url:`${u}//${h}${g}/`},w=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ye(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ye(ss(_,s.config.emulator)&&ss(w,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=w,s.settings.appVerificationDisabledForTesting=!0,Ao(h)?(Xy(`${u}//${h}${g}`),Zy("Auth",!0)):RC()}function eE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function CC(r){const e=eE(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:_y(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:_y(h)}}}function _y(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function RC(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class tE{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ir("not implemented")}_getIdTokenResponse(e){return Ir("not implemented")}_linkToIdToken(e,t){return Ir("not implemented")}_getReauthenticationResolver(e){return Ir("not implemented")}}async function yo(r,e){return zv(r,"POST","/v1/accounts:signInWithIdp",Sc(r,e))}const PC="http://localhost";class cs extends tE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new cs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Pr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=t;if(!s||!o)return null;const h=new cs(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return yo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,yo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,yo(e,t)}buildRequest(){const e={requestUri:PC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ja(t)}return e}}class nE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class rl extends nE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class li extends rl{constructor(){super("facebook.com")}static credential(e){return cs._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.FACEBOOK_SIGN_IN_METHOD="facebook.com";li.PROVIDER_ID="facebook.com";class ui extends rl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return cs._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ui.credential(t,s)}catch{return null}}}ui.GOOGLE_SIGN_IN_METHOD="google.com";ui.PROVIDER_ID="google.com";class ci extends rl{constructor(){super("github.com")}static credential(e){return cs._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.GITHUB_SIGN_IN_METHOD="github.com";ci.PROVIDER_ID="github.com";class hi extends rl{constructor(){super("twitter.com")}static credential(e,t){return cs._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return hi.credential(t,s)}catch{return null}}}hi.TWITTER_SIGN_IN_METHOD="twitter.com";hi.PROVIDER_ID="twitter.com";async function kC(r,e){return zv(r,"POST","/v1/accounts:signUp",Sc(r,e))}class Pi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Nn._fromIdTokenResponse(e,s,o),h=vy(s);return new Pi({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=vy(s);return new Pi({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function vy(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function NC(r){if(Pn(r.app))return Promise.reject(wi(r));const e=Ac(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Pi({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await kC(e,{returnSecureToken:!0}),s=await Pi._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(s.user),s}class nc extends Nr{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,nc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new nc(e,t,s,o)}}function rE(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?nc._fromErrorAndOperation(r,u,e,s):u})}async function DC(r,e,t=!1){const s=await qa(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Pi._forOperation(r,"link",s)}async function VC(r,e,t=!1){const{auth:s}=r;if(Pn(s.app))return Promise.reject(wi(s));const o="reauthenticate";try{const u=await qa(r,rE(s,o,e,r),t);ye(u.idToken,s,"internal-error");const h=Cd(u.idToken);ye(h,s,"internal-error");const{sub:m}=h;return ye(r.uid===m,s,"user-mismatch"),Pi._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Pr(s,"user-mismatch"),u}}async function xC(r,e,t=!1){if(Pn(r.app))return Promise.reject(wi(r));const s="signIn",o=await rE(r,s,e),u=await Pi._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(u.user),u}function OC(r,e,t,s){return yn(r).onIdTokenChanged(e,t,s)}function LC(r,e,t){return yn(r).beforeAuthStateChanged(e,t)}function MC(r,e,t,s){return yn(r).onAuthStateChanged(e,t,s)}const rc="__sak";class iE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(rc,"1"),this.storage.removeItem(rc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const bC=1e3,FC=10;class sE extends iE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Xv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);dC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,FC):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},bC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}sE.type="LOCAL";const UC=sE;class oE extends iE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}oE.type="SESSION";const aE=oE;function jC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Cc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Cc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async _=>_(t.origin,u)),g=await jC(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cc.receivers=[];function kd(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}class zC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const _=kd("",20);o.port1.start();const w=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const C=T;if(C.data.eventId===_)switch(C.data.status){case"ack":clearTimeout(w),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(C.data.response);break;default:clearTimeout(w),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function nr(){return window}function BC(r){nr().location.href=r}function lE(){return typeof nr().WorkerGlobalScope<"u"&&typeof nr().importScripts=="function"}async function $C(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HC(){return navigator?.serviceWorker?.controller||null}function WC(){return lE()?self:null}const uE="firebaseLocalStorageDb",qC=1,ic="firebaseLocalStorage",cE="fbase_key";class il{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Rc(r,e){return r.transaction([ic],e?"readwrite":"readonly").objectStore(ic)}function KC(){const r=indexedDB.deleteDatabase(uE);return new il(r).toPromise()}function $f(){const r=indexedDB.open(uE,qC);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(ic,{keyPath:cE})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(ic)?e(s):(s.close(),await KC(),e(await $f()))})})}async function Ey(r,e,t){const s=Rc(r,!0).put({[cE]:e,value:t});return new il(s).toPromise()}async function GC(r,e){const t=Rc(r,!1).get(e),s=await new il(t).toPromise();return s===void 0?null:s.value}function wy(r,e){const t=Rc(r,!0).delete(e);return new il(t).toPromise()}const QC=800,JC=3;class hE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $f(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>JC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cc._getInstance(WC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await $C(),!this.activeServiceWorker)return;this.sender=new zC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $f();return await Ey(e,rc,"1"),await wy(e,rc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Ey(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>GC(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>wy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Rc(o,!1).getAll();return new il(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hE.type="LOCAL";const YC=hE;new nl(3e4,6e4);function XC(r,e){return e?Sr(e):(ye(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Nd extends tE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return yo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ZC(r){return xC(r.auth,new Nd(r),r.bypassAuthState)}function eR(r){const{auth:e,user:t}=r;return ye(t,e,"internal-error"),VC(t,new Nd(r),r.bypassAuthState)}async function tR(r){const{auth:e,user:t}=r;return ye(t,e,"internal-error"),DC(t,new Nd(r),r.bypassAuthState)}class fE{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZC;case"linkViaPopup":case"linkViaRedirect":return tR;case"reauthViaPopup":case"reauthViaRedirect":return eR;default:Pr(this.auth,"internal-error")}}resolve(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nR=new nl(2e3,1e4);class uo extends fE{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){kr(this.filter.length===1,"Popup operations only handle one event");const e=kd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nR.get())};e()}}uo.currentPopupAction=null;const rR="pendingRedirect",Mu=new Map;class iR extends fE{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Mu.get(this.auth._key());if(!e){try{const s=await sR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Mu.set(this.auth._key(),e)}return this.bypassAuthState||Mu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sR(r,e){const t=lR(e),s=aR(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function oR(r,e){Mu.set(r._key(),e)}function aR(r){return Sr(r._redirectPersistence)}function lR(r){return Lu(rR,r.config.apiKey,r.name)}async function uR(r,e,t=!1){if(Pn(r.app))return Promise.reject(wi(r));const s=Ac(r),o=XC(s,e),h=await new iR(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const cR=600*1e3;class hR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!dE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(tr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ty(e))}saveEventToCache(e){this.cachedEventUids.add(Ty(e)),this.lastProcessedEventTime=Date.now()}}function Ty(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function dE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function fR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dE(r);default:return!1}}async function dR(r,e={}){return Do(r,"GET","/v1/projects",e)}const pR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mR=/^https?/;async function gR(r){if(r.config.emulator)return;const{authorizedDomains:e}=await dR(r);for(const t of e)try{if(yR(t))return}catch{}Pr(r,"unauthorized-domain")}function yR(r){const e=zf(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!mR.test(t))return!1;if(pR.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const _R=new nl(3e4,6e4);function Iy(){const r=nr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function vR(r){return new Promise((e,t)=>{function s(){Iy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Iy(),t(tr(r,"network-request-failed"))},timeout:_R.get()})}if(nr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(nr().gapi?.load)s();else{const o=TC("iframefcb");return nr()[o]=()=>{gapi.load?s():t(tr(r,"network-request-failed"))},EC(`${wC()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw bu=null,e})}let bu=null;function ER(r){return bu=bu||vR(r),bu}const wR=new nl(5e3,15e3),TR="__/auth/iframe",IR="emulator/auth/iframe",SR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CR(r){const e=r.config;ye(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Ad(e,IR):`https://${r.config.authDomain}/${TR}`,s={apiKey:e.apiKey,appName:r.name,v:Co},o=AR.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Ja(s).slice(1)}`}async function RR(r){const e=await ER(r),t=nr().gapi;return ye(t,r,"internal-error"),e.open({where:document.body,url:CR(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SR,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=tr(r,"network-request-failed"),m=nr().setTimeout(()=>{u(h)},wR.get());function g(){nr().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(h)})}))}const PR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kR=500,NR=600,DR="_blank",VR="http://localhost";class Sy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xR(r,e,t,s=kR,o=NR){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...PR,width:s.toString(),height:o.toString(),top:u,left:h},_=jt().toLowerCase();t&&(m=Kv(_)?DR:t),Wv(_)&&(e=e||VR,g.scrollbars="yes");const w=Object.entries(g).reduce((C,[z,Q])=>`${C}${z}=${Q},`,"");if(fC(_)&&m!=="_self")return OR(e||"",m),new Sy(null);const T=window.open(e||"",m,w);ye(T,r,"popup-blocked");try{T.focus()}catch{}return new Sy(T)}function OR(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const LR="__/auth/handler",MR="emulator/auth/handler",bR=encodeURIComponent("fac");async function Ay(r,e,t,s,o,u){ye(r.config.authDomain,r,"auth-domain-config-required"),ye(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Co,eventId:o};if(e instanceof nE){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",a0(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,T]of Object.entries({}))h[w]=T}if(e instanceof rl){const w=e.getScopes().filter(T=>T!=="");w.length>0&&(h.scopes=w.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const w of Object.keys(m))m[w]===void 0&&delete m[w];const g=await r._getAppCheckToken(),_=g?`#${bR}=${encodeURIComponent(g)}`:"";return`${FR(r)}?${Ja(m).slice(1)}${_}`}function FR({config:r}){return r.emulator?Ad(r,MR):`https://${r.authDomain}/${LR}`}const mf="webStorageSupport";class UR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aE,this._completeRedirectFn=uR,this._overrideRedirectResult=oR}async _openPopup(e,t,s,o){kr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Ay(e,t,s,zf(),o);return xR(e,u,kd())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await Ay(e,t,s,zf(),o);return BC(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(kr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await RR(e),s=new hR(e);return t.register("authEvent",o=>(ye(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(mf,{type:mf},o=>{const u=o?.[0]?.[mf];u!==void 0&&t(!!u),Pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=gR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Xv()||qv()||Rd()}}const jR=UR;var Cy="@firebase/auth",Ry="1.12.0";class zR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function BR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $R(r){_o(new os("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ye(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zv(r)},_=new _C(s,o,u,g);return SC(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),_o(new os("auth-internal",e=>{const t=Ac(e.getProvider("auth").getImmediate());return(s=>new zR(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),yi(Cy,Ry,BR(r)),yi(Cy,Ry,"esm2020")}const HR=300,WR=Yy("authIdTokenMaxAge")||HR;let Py=null;const qR=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>WR)return;const o=t?.token;Py!==o&&(Py=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function KR(r=r_()){const e=Qf(r,"auth");if(e.isInitialized())return e.getImmediate();const t=IC(r,{popupRedirectResolver:jR,persistence:[YC,UC,aE]}),s=Yy("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=qR(u.toString());LC(t,h,()=>h(t.currentUser)),OC(t,m=>h(m))}}const o=Qy("auth");return o&&AC(t,`http://${o}`),t}function GR(){return document.getElementsByTagName("head")?.[0]??document}vC({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=tr("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",GR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$R("Browser");const QR={apiKey:"AIzaSyB6u3SC1eeEoxFZ960MOCNVjVWS1HVfekY",authDomain:"weather---dashboard-2a06c.firebaseapp.com",projectId:"weather---dashboard-2a06c",storageBucket:"weather---dashboard-2a06c.firebasestorage.app",messagingSenderId:"467126951387",appId:"1:467126951387:web:dcbb886bba54d0ca16dbfe"},pE=n_(QR),JR=NA(pE),Ka=KR(pE),Dd=new Promise(r=>{MC(Ka,e=>{e?r(e):NC(Ka)})}),Vd=r=>kA(JR,"favorites",r,"cities");async function YR(){await Dd;const r=Ka.currentUser.uid;return(await qA(Vd(r))).docs.map(t=>({id:t.id,...t.data()}))}async function XR(r){await Dd;const e=Ka.currentUser.uid;await KA(Av(Vd(e),r.id),r)}async function ky(r){await Dd;const e=Ka.currentUser.uid;await GA(Av(Vd(e),r))}const ZR="4d2631c6c6c4dffc5b233b2636f0ec33";function eP(){const[r,e]=Z.useState(!1),[t,s]=Z.useState(""),[o,u]=Z.useState(null),[h,m]=Z.useState([]);Z.useEffect(()=>{g()},[]);const g=async()=>{const C=await YR();m(C)},_=async()=>{if(!t)return;const z=await(await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${t}&units=metric&lang=ro&appid=${ZR}`)).json();u(z)},w=C=>h.some(z=>z.id===C),T=async()=>{if(!o)return;const C=`${o.name}_${o.sys.country}`;w(C)?await ky(C):await XR({id:C,name:o.name,country:o.sys.country}),await g()};return Re.jsxs("div",{className:r?"container dark":"container",children:[Re.jsx("h1",{children:" Weather Dashboard"}),Re.jsx("button",{onClick:()=>e(!r),children:r?" Light Mode":" Dark Mode"}),Re.jsx("input",{value:t,onChange:C=>s(C.target.value),placeholder:"Introdu oraul"}),Re.jsx("button",{onClick:_,children:"Caut"}),o&&Re.jsxs("div",{className:"weather-box",children:[Re.jsxs("h2",{children:[o.name," (",o.sys.country,")"]}),Re.jsxs("p",{children:[" ",o.main.temp," C"]}),Re.jsxs("p",{children:[" ",o.weather[0].description]}),Re.jsx("button",{className:"favorite-btn",onClick:T,children:w(`${o.name}_${o.sys.country}`)?" Remove favorite":" Add favorite"}),Re.jsx("br",{}),Re.jsx(Wy,{className:"link",to:`/city/${o.name}`,children:"Vezi detalii "})]}),Re.jsxs("div",{className:"favorites",children:[Re.jsx("h3",{children:" Favorite"}),Re.jsx("ul",{children:h.map(C=>Re.jsxs("li",{children:[C.name," (",C.country,")",Re.jsx("button",{className:"remove-btn",onClick:async()=>{await ky(C.id),g()},children:""})]},C.id))})]})]})}const Ny="4d2631c6c6c4dffc5b233b2636f0ec33";function tP(){const{city:r}=uT(),[e,t]=Z.useState(null),[s,o]=Z.useState([]);return Z.useEffect(()=>{fetch(`https://api.openweathermap.org/data/2.5/weather?q=${r}&units=metric&lang=ro&appid=${Ny}`).then(u=>u.json()).then(t),fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${r}&units=metric&lang=ro&appid=${Ny}`).then(u=>u.json()).then(u=>{const h=u.list.filter((m,g)=>g%8===0);o(h)})},[r]),e?Re.jsxs("div",{className:"container",children:[Re.jsx(Wy,{className:"link",to:"/",children:" napoi"}),Re.jsx("h1",{children:e.name}),Re.jsxs("p",{children:[" ",e.main.temp," C"]}),Re.jsxs("p",{children:[" ",e.weather[0].description]}),Re.jsx("h3",{children:" Prognoz 5 zile"}),s.map(u=>Re.jsxs("div",{className:"weather-box",children:[Re.jsx("strong",{children:new Date(u.dt*1e3).toLocaleDateString("ro-RO")}),Re.jsxs("p",{children:[" ",u.main.temp," C"]}),Re.jsxs("p",{children:[" ",u.weather[0].description]})]},u.dt))]}):Re.jsx("p",{className:"container",children:"Se ncarc..."})}function nP(){return Re.jsxs(AT,{children:[Re.jsx(yf,{path:"/",element:Re.jsx(eP,{})}),Re.jsx(yf,{path:"/city/:city",element:Re.jsx(tP,{})})]})}Dw.createRoot(document.getElementById("root")).render(Re.jsx(Vy.StrictMode,{children:Re.jsx(VT,{children:Re.jsx(nP,{})})}));
